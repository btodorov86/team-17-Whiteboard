(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{118:function(e,t,a){e.exports=a.p+"static/media/earth.8ca3c397.PNG"},249:function(e,t,a){e.exports=a.p+"static/media/img11.d1cf4d8c.png"},276:function(e,t,a){e.exports=a(536)},280:function(e,t,a){},281:function(e,t,a){},284:function(e,t,a){e.exports=a.p+"static/media/image404.6d200ff6.PNG"},286:function(e,t,a){},362:function(e,t){},366:function(e,t,a){},367:function(e,t,a){},368:function(e,t,a){},532:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){},535:function(e,t,a){e.exports=a.p+"static/media/500-internal-server-error.77f2d328.png"},536:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),i=a.n(o),c=(a(280),a(6)),s=(a(281),a(30)),l=a(22),u=a(585),d=a(587),m=function(e){var t=e.history,n=Object(u.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"}}}))();return r.a.createElement("div",{className:n.paper},r.a.createElement("img",{src:a(284),alt:""}),r.a.createElement("h4",null,"Looks like you have followed a broken link or the resource does not exist anymore."),r.a.createElement(d.a,{variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(){return t.push("/home")}},"Go back home"))},p=(a(286),Object(l.g)((function(e){var t=e.location;return r.a.createElement("div",{style:{textAlign:"center",paddingTop:t.pathname.includes("account")||t.pathname.includes("admin")?"100px":"0px"}},r.a.createElement("div",{className:"lds-hourglass"}))}))),f=a(110),h=a.n(f),b=Object(n.createContext)({user:null,isLogged:!1,setUser:function(){}}),g=a(252),v=function(e){var t=e.component,a=e.user,n=Object(g.a)(e,["component","user"]);return r.a.createElement(l.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(l.a,{to:"/home"})}}))},y=a(5),O=a(611),j=a(609),E=Object(n.createContext)({open:{value:!1,msg:"",statusCode:null,statusType:""},setOpen:function(){}}),x=function(e){return r.a.createElement(j.a,Object.assign({elevation:6,variant:"filled"},e))},C=function(){var e=Object(n.useContext)(E),t=e.open,a=e.setOpen,o=function(e,n){"clickaway"!==n&&a(Object(y.a)(Object(y.a)({},t),{},{value:!1}))};return r.a.createElement(O.a,{open:t.value,autoHideDuration:4e3,onClose:o,anchorOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(x,{onClose:o,severity:t.statusType,open:t.value,autoHideDuration:4e3},t.msg))},w="http://localhost:3000",k=function(e){if((null===e||void 0===e?void 0:e.statusCode)>=400){if("string"===typeof e.message)throw new Error(e.message);throw new Error(e.message.reduce((function(e,t){return e+"\n"+t})))}if(e.error)throw new Error(e.message)},S=function(e,t){e(null),localStorage.removeItem("token"),t.push("/home")},P="error",I="warning",N="info",D="success",T=Object(n.createContext)({loading:!1,setLoading:function(){}}),W=a(19),R=a(602),B=a(603),A=a(604),U=a(248),z=a.n(U),L=a(2),q=a.n(L),M=a(545),V=a(540),F=a(589),H=(a(173),a(23)),K=a(66),Z=a(53),G=a.n(Z),J=a(87),Y=a(612),X=a(613),$=a(72),Q=a.n($),_=a(113),ee=a.n(_),te=Object(u.a)((function(e){return{root:{position:"fixed",transform:"translateZ(0px)",flexGrow:1,top:70,marginLeft:"50%",width:60,height:60},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}})),ae=function(e){var t=e.shareHandler,a=(e.updateShapeProp,e.color,te()),o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],l=i[1],u=[{icon:r.a.createElement(Q.a,{onClick:t}),name:"Share mouse"}],d=function(){l(!1)};return r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,{ariaLabel:"SpeedDial example",className:a.speedDial,icon:r.a.createElement(ee.a,{style:{backgroundColor:"#6fa241",width:"100%",height:"100%",borderRadius:"50%",padding:"20%"}}),onClose:d,onOpen:function(){l(!0)},open:s,direction:"right"},u.map((function(e){return r.a.createElement(X.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:d})}))))};ae.propType={shareHandler:q.a.func.isRequired,updateShapeProp:q.a.func.isRequired,color:q.a.string.isRequired};var ne=a(157),re=a.n(ne),oe=Object(u.a)((function(e){return{root:{position:"absolute",transform:"translateZ(0px)",flexGrow:1,display:"inline-block",alignSelf:"flex-start",top:630,marginLeft:10,width:60,height:60},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}})),ie=function(e){var t=e.updateShapeProp,a=e.color,o=oe(),i=Object(n.useState)(!1),s=Object(c.a)(i,2),l=s[0],u=s[1],d=[{icon:r.a.createElement(re.a,{onClick:function(e){return t("textBoxes",{isDrawing:!0,fill:a},!0)}}),name:"Abc.."}],m=function(){u(!1)};return r.a.createElement("div",{className:o.root},r.a.createElement(Y.a,{ariaLabel:"SpeedDial example",className:o.speedDial,icon:r.a.createElement(re.a,{style:{backgroundColor:"#6fa241",width:"100%",height:"100%",borderRadius:"50%",padding:"20%"}}),onClose:m,onOpen:function(){u(!0)},open:l,direction:"right"},d.map((function(e){return r.a.createElement(X.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:m})}))))};ie.propType={shareHandler:q.a.func.isRequired,updateShapeProp:q.a.func.isRequired,color:q.a.string.isRequired};var ce=ie,se=a(240),le=a.n(se),ue=a(158),de=a.n(ue),me=Object(u.a)((function(e){return{notchedOutline:{borderWidth:"1px",width:"130% !important"},root:{position:"absolute",transform:"translateZ(0px)",flexGrow:1,top:570,marginLeft:10,width:60,height:60},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}})),pe=function(e){e.shareHandler;var t=e.updateShapeProp,a=e.color,o=me(),i=Object(n.useState)(!1),s=Object(c.a)(i,2),l=s[0],u=s[1],d=[{icon:r.a.createElement(de.a,{onClick:function(e){return t("rectangles",{isDrawing:!0,stroke:a,fill:""},!0)}}),name:"Contoured Rectangle"},{icon:r.a.createElement(le.a,{onClick:function(e){return t("rectangles",{isDrawing:!0,stroke:a,fill:a},!0)}}),name:"Filled Rectangle"}],m=function(){u(!1)};return r.a.createElement("div",{className:o.root},r.a.createElement(Y.a,{ariaLabel:"SpeedDial example",className:o.speedDial,icon:r.a.createElement(de.a,{style:{backgroundColor:"#6fa241",width:"100%",height:"100%",borderRadius:"50%",padding:"20%"}}),onClose:m,onOpen:function(){u(!0)},open:l,direction:"right"},d.map((function(e){return r.a.createElement(X.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:m})}))))};pe.propType={shareHandler:q.a.func.isRequired,updateShapeProp:q.a.func.isRequired,color:q.a.string.isRequired};var fe=pe,he=a(241),be=a.n(he),ge=a(159),ve=a.n(ge),ye=Object(u.a)((function(e){return{root:{position:"absolute",transform:"translateZ(0px)",flexGrow:1,top:510,marginLeft:10,width:60,height:60},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}})),Oe=function(e){e.shareHandler;var t=e.updateShapeProp,a=e.color,o=ye(),i=Object(n.useState)(!1),s=Object(c.a)(i,2),l=s[0],u=s[1],d=[{icon:r.a.createElement(ve.a,{onClick:function(e){return t("circles",{isDrawing:!0,fill:"",stroke:a},!0)}}),name:"Contoured Circle"},{icon:r.a.createElement(be.a,{onClick:function(e){return t("circles",{isDrawing:!0,fill:a,stroke:a},!0)}}),name:"Filled Circle"}],m=function(){u(!1)};return r.a.createElement("div",{className:o.root},r.a.createElement(Y.a,{ariaLabel:"SpeedDial example",className:o.speedDial,icon:r.a.createElement(ve.a,{style:{backgroundColor:"#6fa241",width:"100%",height:"100%",borderRadius:"50%",padding:"20%"}}),onClose:m,onOpen:function(){u(!0)},open:l,direction:"right"},d.map((function(e){return r.a.createElement(X.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:m})}))))};Oe.propType={shareHandler:q.a.func.isRequired,updateShapeProp:q.a.func.isRequired,color:q.a.string.isRequired};var je=Oe,Ee=a(160),xe=a.n(Ee),Ce=Object(u.a)((function(e){return{root:{position:"absolute",transform:"translateZ(0px)",flexGrow:1,top:390,marginLeft:10,width:60,height:60},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}})),we=function(e){e.shareHandler;var t=e.updateShapeProp,a=(e.color,Ce()),o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],l=i[1],u=[{icon:r.a.createElement(xe.a,{onClick:function(e){return t("lines",{isDrawing:!0,strokeWidth:7},!0)}}),name:"Brush"}],d=function(){l(!1)};return r.a.createElement("div",{className:a.root},r.a.createElement(Y.a,{ariaLabel:"SpeedDial example",className:a.speedDial,icon:r.a.createElement(xe.a,{style:{backgroundColor:"#6fa241",width:"100%",height:"100%",borderRadius:"50%",padding:"20%"}}),onClose:d,onOpen:function(){l(!0)},open:s,direction:"right"},u.map((function(e){return r.a.createElement(X.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:d})}))))};we.propType={shareHandler:q.a.func.isRequired,updateShapeProp:q.a.func.isRequired,color:q.a.string.isRequired};var ke=we,Se=a(596),Pe=a(592),Ie=a(610),Ne=(a(366),function(e){var t=e.setStrokeWidth,a=e.strokeWidth,n=r.a.useState(!1),o=Object(c.a)(n,2),i=o[0],s=o[1];return r.a.createElement("div",{style:{height:"40px",width:"40px",borderRadius:"20px",padding:0,minWidth:0}},r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:i,onClose:function(){s(!1)},onOpen:function(){s(!0)},value:a,onChange:function(e){t(e.target.value)},style:{borderRadius:"50%",backgroundColor:"#fafafa",width:"0px"}},r.a.createElement(Se.a,{value:1},"1"),r.a.createElement(Se.a,{value:3},"3"),r.a.createElement(Se.a,{value:5},"5"),r.a.createElement(Se.a,{value:8},"8"),r.a.createElement(Se.a,{value:10},"10"),r.a.createElement(Se.a,{value:15},"15"),r.a.createElement(Se.a,{value:20},"20"))))}),De=Object(u.a)((function(e){return{root:{position:"absolute",transform:"translateZ(0px)",flexGrow:1,top:330,marginLeft:10,width:60,height:60},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}})),Te=function(e){var t=e.setStrokeWidth,a=(e.updateShapeProp,e.strokeWidth),o=De(),i=Object(n.useState)(!1),s=Object(c.a)(i,2),l=s[0],u=s[1],d=[{icon:r.a.createElement(Ne,{strokeWidth:a,setStrokeWidth:t}),name:"Change Thickness"}],m=function(){u(!1)};return r.a.createElement("div",{className:o.root},r.a.createElement(Y.a,{ariaLabel:"SpeedDial example",className:o.speedDial,icon:r.a.createElement(ee.a,{style:{backgroundColor:"#6fa241",width:"100%",height:"100%",borderRadius:"50%",padding:"20%"}}),onClose:m,onOpen:function(){u(!0)},open:l,direction:"right"},d.map((function(e){return r.a.createElement(X.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:m})}))))};Te.propType={shareHandler:q.a.func.isRequired,updateShapeProp:q.a.func.isRequired,color:q.a.string.isRequired,strokeWidth:q.a.number.isRequired,setStrokeWidth:q.a.func.isRequired};var We=Te,Re=a(615),Be=a(242),Ae=a.n(Be),Ue=a(243),ze=a.n(Ue),Le=a(244),qe=a.n(Le),Me=a(245),Ve=a.n(Me),Fe=a(597),He=a(598),Ke=(a(367),function(e){var t=e.textBox,a=r.a.useState(!1),n=Object(c.a)(a,2),o=n[0],i=n[1];return r.a.createElement("div",{className:"MuiInputBase-inputBase",style:{height:"41px",width:"41px",borderRadius:"20px",padding:10,minWidth:0}},r.a.createElement(Pe.a,null,r.a.createElement(Ie.a,{labelId:"demo-controlled-open-select-label",id:"demo-controlled-open-select",open:o,onClose:function(){i(!1)},onOpen:function(){i(!0)},value:t.fontSize,style:{backgroundColor:"#fafafa",width:"44px"},onChange:function(e){t.updateSize("fontSize",e.target.value)}},r.a.createElement(Se.a,{value:12},"12"),r.a.createElement(Se.a,{value:15},"15"),r.a.createElement(Se.a,{value:17},"17"),r.a.createElement(Se.a,{value:19},"19"),r.a.createElement(Se.a,{value:25},"25"),r.a.createElement(Se.a,{value:30},"30"),r.a.createElement(Se.a,{value:40},"40"))))}),Ze=function(e){var t=e.shapeTextBoxes,a=e.setShapes,o=e.fontSize,i=e.setFontSize,c=e.color,s=Object(n.useContext)(b).user,l=Object(u.a)((function(e){return{root:{position:"absolute",top:t.y-110,left:t.x,width:220,border:"1px solid ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.paper,color:e.palette.text.secondary,"& svg":{margin:e.spacing(.9)},"& hr":{margin:e.spacing(0,.5)}},text:{border:"1px solid ".concat(e.palette.divider)},select:{border:"1px solid blue"}}}))();return r.a.createElement("div",{hidden:!t.startDrawing},r.a.createElement(Fe.a,{container:!0,alignItems:"center",className:l.root},r.a.createElement(Ke,{fontSize:o,setFontSize:i,textBox:t}),r.a.createElement(He.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(Ae.a,{onClick:function(e){return"normal"===t.fontStyle?t.updateSize("fontStyle","bold"):t.updateSize("fontStyle","normal")},className:"bold"===t.fontStyle?l.select:null,style:{cursor:"pointer"}}),r.a.createElement(ze.a,{onClick:function(e){return"normal"===t.fontStyle?t.updateSize("fontStyle","italic"):t.updateSize("fontStyle","normal")},className:"italic"===t.fontStyle?l.select:null,style:{cursor:"pointer"}}),r.a.createElement(qe.a,{onClick:function(e){return 0===t.textDecoration.length?t.updateSize("textDecoration","underline"):t.updateSize("textDecoration","")},className:0!==t.textDecoration.length?l.select:null,style:{cursor:"pointer"}}),r.a.createElement(He.a,{orientation:"vertical",flexItem:!0}),r.a.createElement(Ve.a,{onClick:function(e){return t.updateSize("startDrawing",!1)},style:{cursor:"pointer"}}),r.a.createElement(Re.a,{fullWidth:!0,variant:"filled",className:l.text,value:t.text,autoFocus:!0,onChange:function(e){t.updateSize("fill",c),t.updateSize("text",e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(s?t.endDrawing(t):(a((function(e){return[].concat(Object(W.a)(e),[t])})),t.clearDrawingObj()))}})))};Ze.propType={history:q.a.object.isRequired,shapeTextBoxes:q.a.object.isRequired,setShapes:q.a.func.isRequired,fontSize:q.a.number.isRequired,setFontSize:q.a.func.isRequired,color:q.a.string.isRequired};var Ge=Ze,Je=a(161),Ye=a.n(Je),Xe=Object(u.a)((function(e){return{root:{position:"absolute",transform:"translateZ(0px)",flexGrow:1,top:450,marginLeft:10,width:60,height:60},speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}})),$e=function(e){var t=e.setIsErase,a=e.updateShapeProp,o=e.strokeWidth,i=Xe(),s=Object(n.useState)(!1),l=Object(c.a)(s,2),u=l[0],d=l[1],m=[{icon:r.a.createElement(Ye.a,{onClick:function(e){t(!0),a("lines",{isDrawing:!0,strokeWidth:o},!0,!1)}}),name:"Eraser"}],p=function(){d(!1)};return r.a.createElement("div",{className:i.root},r.a.createElement(Y.a,{ariaLabel:"SpeedDial example",className:i.speedDial,icon:r.a.createElement(Ye.a,{style:{backgroundColor:"#6fa241",width:"100%",height:"100%",borderRadius:"50%",padding:"20%"}}),onClose:p,onOpen:function(){d(!0)},open:u,direction:"right"},m.map((function(e){return r.a.createElement(X.a,{key:e.name,icon:e.icon,tooltipTitle:e.name,onClick:p})}))))};$e.propType={shareHandler:q.a.func.isRequired,updateShapeProp:q.a.func.isRequired,color:q.a.string.isRequired};var Qe=$e,_e=Object(l.g)((function(e){var t=e.isAddComment,a=e.setComments,o=e.history,i=e.match,s=e.setIsAddComment,l=e.isDrawShape,d=Object(n.useContext)(E).setOpen,m=Object(n.useState)({text:""}),p=Object(c.a)(m,2),f=p[0],h=p[1],b=Object(u.a)((function(e){return{root:{position:"absolute",top:t.y,left:t.x,width:220,border:"1px solid ".concat(e.palette.divider),borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.paper,color:e.palette.text.secondary,"& svg":{margin:e.spacing(.9)},"& hr":{margin:e.spacing(0,.5)}},text:{border:"1px solid ".concat(e.palette.divider)},select:{border:"1px solid blue"}}})),g=b();return r.a.createElement("div",{hidden:!t.isActive,className:g.root},r.a.createElement(Fe.a,{container:!0,alignItems:"center"},r.a.createElement(Re.a,{fullWidth:!0,variant:"outlined",className:g.text,value:f.text,autoFocus:!0,onChange:function(e){return h({text:e.target.value})},onKeyPress:function(e){"Enter"===e.key&&function(){var e={text:f.text,y:t.x,x:t.y};console.log(e),fetch("".concat(w,"/whiteboards/").concat(i.params.id,"/comments"),{method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.status>=500?o.push("/servererror"):e.json()})).then((function(e){k(e),a((function(t){return[].concat(Object(W.a)(t),[e])})),l(e)})).catch((function(e){return d({value:!0,msg:e.message,statusType:P})})).finally((function(){return s((function(e){return Object(y.a)(Object(y.a)({},e),{},{isActive:!1})}))}))}()}})))})),et=a(541),tt=a(595),at=function(e){var t=e.x,a=e.y,o=e.text,i=Object(u.a)((function(e){return{typography:{padding:e.spacing(2)},wrapper:{position:"absolute",cursor:"pointer",boxShadow:"3px 3px 1px darkred",top:t,left:a,height:20,width:20,border:"1px solid red",backgroundColor:"red",borderRadius:"50%"}}}))(),s=Object(n.useState)(null),l=Object(c.a)(s,2),d=l[0],m=l[1],p=Boolean(d),f=p?"simple-popover":void 0;return r.a.createElement("div",{className:i.wrapper,onClick:function(e){m(e.currentTarget)}},r.a.createElement(tt.a,{id:f,open:p,anchorEl:d,onClose:function(){m(null)},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},r.a.createElement(et.a,{className:i.typography},o)))},nt=Object(l.g)((function(e){var t=e.color,a=(e.currentWhiteboard,e.match),o=e.shareMouse,i=(e.setShareMouse,e.sharedUsers),s=e.shareMouseHandler,l=e.location,u=e.undo,d=e.history,m=e.redo,p=e.isShareMouse,f=(e.incomingShape,e.isDrawShape),h=e.shapes,g=e.setShapes,v=e.setComments,O=e.comments,j=e.isAddComment,x=e.setIsAddComment,C=Object(n.useContext)(b).user,S=Object(n.useContext)(E).setOpen,N=Object(n.useState)(!1),D=Object(c.a)(N,2),T=D[0],R=D[1],B=Object(n.useState)(2),A=Object(c.a)(B,2),U=A[0],z=A[1],L=Object(n.useState)({lines:{points:[],type:"lines",startDrawing:!1,isDrawing:!1,stroke:"black",strokeWidth:U,drawingFunc:function(e){return r.a.createElement(K.Line,e)},updateSize:function(e,t,a,n){0!==n.points.length?n.points.toString().length>4e3?(S({value:!0,msg:"Maximum line complexity reached. Please use another tool.",statusType:I}),G()):(Math.abs(n.points[n.points.length-1]-a)>5||Math.abs(n.points[n.points.length-2]-t)>5)&&F((function(e){return Object(y.a)(Object(y.a)({},e),{},{lines:Object(y.a)(Object(y.a)({},e.lines),{},{points:[].concat(Object(W.a)(e.lines.points),[t,a])})})})):F((function(e){return Object(y.a)(Object(y.a)({},e),{},{lines:Object(y.a)(Object(y.a)({},e.lines),{},{points:[].concat(Object(W.a)(e.lines.points),[t,a])})})}))},endDrawing:function(e){var t={points:e.points.join(","),stroke:e.stroke,strokeWidth:e.strokeWidth};fetch("".concat(w,"/whiteboards/").concat(a.params.id,"/lines"),{method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){k(e),g((function(t){return[].concat(Object(W.a)(t),[e])})),F((function(e){return Object(y.a)(Object(y.a)({},V),{},{lines:Object(y.a)(Object(y.a)({},e.lines),{},{startDrawing:!1,points:[]})})})),f(e)})).catch((function(e){return S({value:!0,msg:e.message,statusType:P})}))},onStartDrawing:function(e,t,a,n,r){return F((function(a){return Object(y.a)(Object(y.a)({},a),{},Object(H.a)({},e,Object(y.a)(Object(y.a)({},a[e]),{},{startDrawing:!0,stroke:t,strokeWidth:r})))}))},clearDrawingObj:function(){return F((function(e){return Object(y.a)(Object(y.a)({},V),{},{lines:Object(y.a)(Object(y.a)({},e.lines),{},{startDrawing:!1,points:[]})})}))}},circles:{type:"circles",startDrawing:!1,isDrawing:!1,stroke:"black",fill:"",strokeWidth:U,radius:0,drawingFunc:function(e){return r.a.createElement(K.Circle,e)},updateSize:function(e,t,a,n){var r=Math.abs(n.x-t),o=Math.abs(n.y-a),i=r>o?r:o;F(Object(y.a)(Object(y.a)({},V),{},{circles:Object(y.a)(Object(y.a)({},n),{},{radius:i})}))},endDrawing:function(e){var t={x:e.x,y:e.y,fill:e.fill,radius:e.radius,stroke:e.stroke,strokeWidth:e.strokeWidth};fetch("".concat(w,"/whiteboards/").concat(a.params.id,"/circles"),{method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){k(e),g((function(t){return[].concat(Object(W.a)(t),[e])})),F((function(e){return Object(y.a)(Object(y.a)({},V),{},{circles:Object(y.a)(Object(y.a)({},e.circles),{},{startDrawing:!1,x:0,y:0,radius:0})})})),f(e)})).catch((function(e){return S({value:!0,msg:e.message,statusType:P})}))},onStartDrawing:function(e,t,a,n,r){return F((function(o){return Object(y.a)(Object(y.a)({},o),{},Object(H.a)({},e,Object(y.a)(Object(y.a)({},o[e]),{},{startDrawing:!0,stroke:t,fill:0!==o[e].fill.length?t:"",x:a,y:n,radius:10,strokeWidth:r})))}))},clearDrawingObj:function(){return F((function(e){return Object(y.a)(Object(y.a)({},V),{},{circles:Object(y.a)(Object(y.a)({},e.circles),{},{startDrawing:!1,x:0,y:0,radius:0})})}))}},rectangles:{type:"rectangles",startDrawing:!1,isDrawing:!1,stroke:"black",strokeWidth:1,fill:"",height:0,width:0,drawingFunc:function(e){return r.a.createElement(K.Rect,e)},updateSize:function(e,t,a,n){F(Object(y.a)(Object(y.a)({},V),{},{rectangles:Object(y.a)(Object(y.a)({},n),{},{width:t-n.x,height:a-n.y})}))},endDrawing:function(e){var t={x:e.x,y:e.y,fill:e.fill,height:e.height,width:e.width,stroke:e.stroke,strokeWidth:e.strokeWidth};fetch("".concat(w,"/whiteboards/").concat(a.params.id,"/rectangles"),{method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){k(e),g((function(t){return[].concat(Object(W.a)(t),[e])})),F((function(e){return Object(y.a)(Object(y.a)({},V),{},{rectangles:Object(y.a)(Object(y.a)({},e.rectangles),{},{startDrawing:!1,x:0,y:0,height:0,width:0})})})),f(e)})).catch((function(e){return S({value:!0,msg:e.message,statusType:P})}))},onStartDrawing:function(e,t,a,n,r){return F((function(o){return Object(y.a)(Object(y.a)({},o),{},Object(H.a)({},e,Object(y.a)(Object(y.a)({},o[e]),{},{startDrawing:!0,stroke:t,fill:0!==o[e].fill.length?t:"",x:a,y:n,height:10,width:10,strokeWidth:r})))}))},clearDrawingObj:function(){return F((function(e){return Object(y.a)(Object(y.a)({},V),{},{rectangles:Object(y.a)(Object(y.a)({},e.rectangles),{},{startDrawing:!1,x:0,y:0,height:0,width:0})})}))}},textBoxes:{type:"textBoxes",startDrawing:!1,isDrawing:!1,text:"",fontSize:12,fontStyle:"normal",fill:"black",textDecoration:"",drawingFunc:function(e){return r.a.createElement(K.Text,e)},updateSize:function(e,t){F((function(a){return Object(y.a)(Object(y.a)({},V),{},{textBoxes:Object(y.a)(Object(y.a)({},a.textBoxes),{},Object(H.a)({},e,t))})}))},endDrawing:function(e){var t={x:e.x,y:e.y,fill:e.fill,text:e.text,fontStyle:e.fontStyle,fontSize:e.fontSize,textDecoration:e.textDecoration};fetch("".concat(w,"/whiteboards/").concat(a.params.id,"/textBoxes"),{method:"POST",headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){k(e),g((function(t){return[].concat(Object(W.a)(t),[e])})),F((function(e){return Object(y.a)(Object(y.a)({},V),{},{textBoxes:Object(y.a)(Object(y.a)({},e.textBoxes),{},{startDrawing:!1,text:""})})})),f(e)})).catch((function(e){return S({value:!0,msg:e.message,statusType:P})}))},onStartDrawing:function(e,t,a,n){F((function(r){return Object(y.a)(Object(y.a)({},r),{},Object(H.a)({},e,Object(y.a)(Object(y.a)({},r[e]),{},{startDrawing:!0,text:"",fill:t,x:a,y:n})))}))},clearDrawingObj:function(){return F((function(e){return Object(y.a)(Object(y.a)({},V),{},{textBoxes:Object(y.a)(Object(y.a)({},e.textBoxes),{},{startDrawing:!1,text:""})})}))}}}),q=Object(c.a)(L,2),V=q[0],F=q[1];Object(n.useEffect)((function(){if(l.pathname.includes("undo"))u(h,d);else{if(!l.pathname.includes("redo"))return;m(g,d)}}),[l.pathname]);var Z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];a&&Object.keys(V).filter((function(t){return t!==e})).map((function(e){return V[e].isDrawing=!1})),n&&R(!1),F((function(a){return Object(y.a)(Object(y.a)({},a),{},Object(H.a)({},e,Object(y.a)(Object(y.a)({},a[e]),t)))}))},G=function(e){var t=Object.keys(V).find((function(e){return V[e].isDrawing&&V[e].startDrawing}));t&&"textBoxes"!==t&&(C?V[t].endDrawing(V[t]):(g([].concat(Object(W.a)(h),[V[t]])),V[t].clearDrawingObj()))};return console.log(O),r.a.createElement(r.a.Fragment,null,r.a.createElement(K.Stage,{onMouseDown:function(e){return function(e,a,n){l.pathname.includes("guest")||j.isActive&&x((function(e){return Object(y.a)(Object(y.a)({},e),{},{x:a,y:n})}));var r=Object.keys(V).find((function(e){return V[e].isDrawing}));r&&("lines"===r&&T?V[r].onStartDrawing(r,"#fafafa",a,n,U):V[r].onStartDrawing(r,t,a,n,U))}(0,e.evt.offsetX,e.evt.offsetY)},onMouseMove:function(e){return function(e,t,a){p&&(Math.abs(o.mouseX-a)>10||Math.abs(o.mouseY-t)>10)&&s(t,a);var n=Object.keys(V).find((function(e){return V[e].isDrawing&&V[e].startDrawing}));n&&"textBoxes"!==n&&V[n].updateSize(e,t,a,V[n])}(e,e.evt.offsetX,e.evt.offsetY)},onMouseUp:function(e){return G(e)},height:window.innerHeight,width:window.innerWidth},r.a.createElement(K.Layer,null,0!==h.length?h.sort((function(e,t){return e.itemPosition-t.itemPosition})).map((function(e){return V[e.type].drawingFunc(e)})):null,function(){var e=Object.keys(V).find((function(e){return V[e].isDrawing&&V[e].isDrawing}));return V[e]?V[e].drawingFunc(V[e]):null}())),r.a.createElement(Ge,{shapeTextBoxes:V.textBoxes,setShapes:g,color:t}),r.a.createElement("div",{style:{position:"fixed",bottom:"720px",left:"10px"}},r.a.createElement(ce,{updateShapeProp:Z,color:t}),r.a.createElement(fe,{updateShapeProp:Z,color:t}),r.a.createElement(je,{updateShapeProp:Z,color:t}),r.a.createElement(ke,{updateShapeProp:Z,color:t}),r.a.createElement(We,{setStrokeWidth:z,updateShapeProp:Z,color:t,strokeWidth:U}),r.a.createElement(Qe,{setIsErase:R,updateShapeProp:Z,strokeWidth:U})),l.pathname.includes("guest")||0===i.length?null:i.map((function(e){return r.a.createElement(M.a,{key:e.id,src:e.avatar,alt:"".concat(e.userName),style:{position:"absolute",top:e.mouseX,left:e.mouseY}})})),l.pathname.includes("guest")?null:r.a.createElement(_e,{isAddComment:j,setComments:v,setIsAddComment:x,isDrawShape:f}),O.length&&!l.pathname.includes("guest")?O.map((function(e){return r.a.createElement(at,Object.assign({key:e.id},e))})):null)})),rt=a(247),ot=a.n(rt),it=a(246),ct=a.n(it),st=(a(368),a(154)),lt=a(608),ut=a(599),dt=function(e){var t=e.setIsSearchBoard,a=e.history,o=e.match,i=e.leaveRoom,s=Object(n.useContext)(b).user,l=Object(n.useContext)(E).setOpen,u=Object(n.useState)(!1),d=Object(c.a)(u,2),m=d[0],p=d[1],f=Object(n.useState)([]),h=Object(c.a)(f,2),g=h[0],v=h[1],O=m&&0===g.length;return Object(n.useEffect)((function(){O&&fetch("".concat(w,"/whiteboards"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.status>=500?a.push("/servererror"):e.json()})).then((function(e){k(e),v(Object(W.a)(e.filter((function(e){return e.id!==o.params.id}))))})).catch((function(e){return l({value:!0,msg:e.message,statusType:P})}))}),[O,l,s]),r.a.createElement(lt.a,{id:"asynchronous-demo",style:{width:200},open:m,onOpen:function(){p(!0)},onClose:function(){p(!1)},getOptionSelected:function(e,t){return e.name===t.name},getOptionLabel:function(e){return e.name},options:g,loading:O,renderInput:function(e){return r.a.createElement(Re.a,Object.assign({},e,{onKeyPress:function(e){if("Enter"===e.key){var n=g.find((function(t){return t.name===e.target.value}));n?(localStorage.setItem("lastBoard",n.id),i(o.params.id),a.push("/profile/".concat(n.id))):l({value:!0,msg:"Whiteboard: ".concat(e.target.value," not exist"),statusType:P}),t(!1)}},onKeyDown:function(e){"Escape"===e.key&&t(!1)},label:"Search whiteboard",variant:"outlined",InputProps:Object(y.a)(Object(y.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,O?r.a.createElement(ut.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})};dt.propType={history:q.a.object.isRequired,match:q.a.object.isRequired,setIsSearchBoard:q.a.func.isRequired,leaveRoom:q.a.func.isRequired};var mt=Object(l.g)(dt),pt=a(544),ft=a(542),ht=a(601),bt=a(616),gt=a(600),vt=Object(l.g)((function(e){var t,a=e.isCreateWhiteboard,o=e.setIsCreateWhiteboard,i=e.history,s=e.leaveRoom,l=e.match,m=Object(u.a)((function(e){return{notchedOutline:{borderWidth:"1px",borderColor:"#6fa241 !important"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))(),f=Object(n.useContext)(T),h=f.loading,b=f.setLoading,g=Object(n.useContext)(E).setOpen,v=Object(n.useState)({isValid:!0,isTouched:!1,value:"",isPublic:"public"}),O=Object(c.a)(v,2),j=O[0],x=O[1],C={boardName:[function(e){return(null===e||void 0===e?void 0:e.length)>=2||"Board name field must be 2 or more chars"}]};return r.a.createElement(pt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:m.modal,open:a,onClose:function(e){return o(!1)},BackdropComponent:gt.a,BackdropProps:{timeout:500}},r.a.createElement(ft.a,{in:a},r.a.createElement("div",{className:m.paper},h?r.a.createElement(p,null):null,r.a.createElement(ht.a,{component:"main",maxWidth:"xl"},r.a.createElement(et.a,{component:"h1",variant:"h5",align:"center"},"Create Whiteboard"),r.a.createElement("form",{className:m.form,noValidate:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{name:"createBoard",variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:m.notchedOutline}},id:"createBoard",label:"Create Whiteboard",autoFocus:!0,value:j.value,error:!j.isValid,onChange:function(e){return t="boardName",a=e.target.value,void x({isTouched:!0,value:a,isPublic:j.isPublic,isValid:C[t].reduce((function(e,t){return e&&"boolean"===typeof t(a)}),!0)});var t,a}}),(t="boardName",j.isTouched?C[t].map((function(e){return e(j.value)})).filter((function(e){return"string"===typeof e})).map((function(e,t){return r.a.createElement("p",{key:t,style:{color:"red"}},e)})):null)),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Pe.a,{variant:"outlined",className:m.formControl,fullWidth:!0,InputProps:{classes:{notchedOutline:m.notchedOutline}}},r.a.createElement(bt.a,{htmlFor:"outlined-age-native-simple"},"public"===j.isPublic?"Public":"Private"),r.a.createElement(Ie.a,Object(H.a)({native:!0,fullWidth:!0,inputProps:{classes:{notchedOutline:m.notchedOutline}},placeholder:j.isPublic?"Public":"Private",variant:"outlined",value:j.isPublic,onChange:function(e){var t=e.target.name;x(Object(y.a)(Object(y.a)({},j),{},Object(H.a)({},t,e.target.value)))},label:"Visible"},"inputProps",{name:"isPublic",id:"outlined-public"}),r.a.createElement("option",{value:"public"},"Public"),r.a.createElement("option",{value:"private"},"Private")))),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},className:m.submit,onClick:function(e){return function(){b(!0);var e={name:j.value,isPublic:"public"===j.isPublic};console.log(e),fetch("".concat(w,"/whiteboards"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(e)}).then((function(e){return e.status>=500?i.push("/servererror"):e.json()})).then((function(e){console.log(e),k(e),g({value:!0,msg:"".concat(e.name," is created!"),statusType:D}),localStorage.setItem("lastBoard",e.id),s(l.params.id),i.push("".concat(e.id))})).catch((function(e){g({value:!0,msg:e.message,statusType:P})})).finally((function(){b(!1),o(!1),x({isValid:!0,isTouched:!1,value:"",isPublic:!0})}))}()},disabled:!j.isValid||!j.isTouched},"Create"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(e){o(!1),x({isValid:!0,isTouched:!1,value:"",isPublic:"public"})}},"Cancel"))))))))})),yt=function(e){var t=e.isChangePassword,a=e.setIsChangePassword,o=e.history,i=Object(u.a)((function(e){return{notchedOutline:{borderWidth:"1px",borderColor:"#6fa241 !important"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))(),s=Object(n.useContext)(T),l=s.loading,m=s.setLoading,f=Object(n.useContext)(E).setOpen,h=Object(n.useState)({currentPassword:{isValid:!0,isTouched:!1,value:""},repeatPassword:{isValid:!0,isTouched:!1,value:""},newPassword:{isValid:!0,isTouched:!1,value:""}}),b=Object(c.a)(h,2),g=b[0],v=b[1],O=function(e,t){v(Object(y.a)(Object(y.a)({},g),{},Object(H.a)({},e,{isTouched:!0,value:t,isValid:j[e].reduce((function(e,a){return e&&"boolean"===typeof a(t)}),!0)})))},j={newPassword:[function(e){return/^[a-zA-Z0-9]{6,16}$/.test(e)||"Password must have 6 to 16 characters"},function(e){return/\d/.test(e)||"Password must contain minimum 1 digit"},function(e){return/[A-Z]/.test(e)||"Password must contain minimum 1 upper case alphabet"}],repeatPassword:[function(e){return g.currentPassword.value===e||"Password not match"}],currentPassword:[function(e){return g.currentPassword.value.length!==e||"Enter password"}]},x=function(e){return g[e].isTouched?j[e].map((function(t){return t(g[e].value)})).filter((function(e){return"string"===typeof e})).map((function(e,t){return r.a.createElement("p",{key:t,style:{color:"red"}},e)})):null};return r.a.createElement(pt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:i.modal,open:t,onClose:function(e){return a(!1)},BackdropComponent:gt.a,BackdropProps:{timeout:500}},r.a.createElement(ft.a,{in:t},r.a.createElement("div",{className:i.paper},l?r.a.createElement(p,null):null,r.a.createElement(ht.a,{component:"main",maxWidth:"xl"},r.a.createElement(et.a,{component:"h1",variant:"h5",align:"center"},"Change Password"),r.a.createElement("form",{className:i.form,noValidate:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:i.notchedOutline}},name:"password",label:"Password",type:"password",id:"password",autoComplete:"password",value:g.currentPassword.value,error:!g.currentPassword.isValid,onChange:function(e){return O("currentPassword",e.target.value.trim())}})),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:i.notchedOutline}},name:"Confirm-password",label:"Confirm password",type:"password",id:"confirm-password",autoComplete:"repeat-password",value:g.repeatPassword.value,error:!g.repeatPassword.isValid,onChange:function(e){return O("repeatPassword",e.target.value.trim())}}),x("repeatPassword")),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:i.notchedOutline}},name:"new-password",label:"New Password",type:"password",id:"new-password",autoComplete:"new-password",value:g.newPassword.value,error:!g.newPassword.isValid,onChange:function(e){return O("newPassword",e.target.value.trim())}}),x("newPassword"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},className:i.submit,onClick:function(e){return function(){m(!0);var e={currentPassword:g.currentPassword.value,newPassword:g.newPassword.value};fetch("".concat(w,"/users"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(e)}).then((function(e){return e.status>=500?o.push("/servererror"):e.json()})).then((function(e){console.log(e),k(e),f({value:!0,msg:"Password changed!",statusType:D})})).catch((function(e){f({value:!0,msg:e.message,statusType:P})})).finally((function(){m(!1),a(!1),v({currentPassword:{isValid:!0,isTouched:!1,value:""},repeatPassword:{isValid:!0,isTouched:!1,value:""},newPassword:{isValid:!0,isTouched:!1,value:""}})}))}()},disabled:!Object.values(g).reduce((function(e,t){return!!(t.isTouched&&t.isValid&&e)}),!0)},"Update"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(e){return a(!1)}},"Cancel"))))))))},Ot=Object(l.g)((function(e){var t=e.color,a=e.setColor;return"my"!==e.match.params.id?r.a.createElement("div",{style:{position:"absolute",marginTop:"40px",display:"inline-block"}},r.a.createElement(st.SketchPicker,{color:t,onChange:function(e){a(e.hex)}})):null})),jt=Object(l.g)((function(e){var t=e.isDeleteBoard,a=e.setIsDeleteBoard,o=e.match,i=e.history,s=Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))(),l=Object(n.useContext)(T),m=l.loading,f=l.setLoading,h=Object(n.useContext)(E).setOpen,b=Object(n.useState)(!0),g=Object(c.a)(b,2),v=g[0],y=g[1],O=v?r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},className:s.submit,onClick:function(e){return y(!1)}},"Delete")):null,j=v?null:r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},className:s.submit,onClick:function(e){return f(!0),void fetch("".concat(w,"/whiteboards/").concat(o.params.id),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")}}).then((function(e){return e.status>=500?i.push("/servererror"):e.text()})).then((function(e){k(e),h({value:!0,msg:"Board is deleted!",statusType:D}),localStorage.removeItem("lastBoard"),i.push("/home")})).catch((function(e){h({value:!0,msg:e.message,statusType:P})})).finally((function(){f(!1),a(!1)}))}},"Confirm"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(e){a(!1)}},"Cancel"));return r.a.createElement(pt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:s.modal,open:t,onClose:function(e){return a(!1)},BackdropComponent:gt.a,BackdropProps:{timeout:500}},r.a.createElement(ft.a,{in:t},r.a.createElement("div",{className:s.paper},m?r.a.createElement(p,null):null,r.a.createElement(ht.a,{component:"main",maxWidth:"xl"},r.a.createElement(et.a,{component:"h1",variant:"h5",align:"center"},v?"Delete Whiteboard":"Are you sure to delete this board ?"),r.a.createElement("form",{className:s.form,noValidate:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},O,j))))))})),Et=function(e){var t,a=e.isUpdateBoard,o=e.setIsUpdateBoard,i=e.currentWhiteboard,s=e.history,l=e.match,m=Object(u.a)((function(e){return{notchedOutline:{borderWidth:"1px",borderColor:"#6fa241 !important"},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))(),f=Object(n.useContext)(T),h=f.loading,b=f.setLoading,g=Object(n.useContext)(E).setOpen,v=Object(n.useState)({name:{isValid:!0,isTouched:!1,value:null===i||void 0===i?void 0:i.name},isPublic:(null===i||void 0===i?void 0:i.isPublic)?"public":"private"}),O=Object(c.a)(v,2),j=O[0],x=O[1],C={name:[function(e){return(null===e||void 0===e?void 0:e.length)>=2||"Board name field must be 2 or more chars"}]};return r.a.createElement(pt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:m.modal,open:a,onClose:function(e){return o(!1)},BackdropComponent:gt.a,BackdropProps:{timeout:500}},r.a.createElement(ft.a,{in:a},r.a.createElement("div",{className:m.paper},h?r.a.createElement(p,null):null,r.a.createElement(ht.a,{component:"main",maxWidth:"xl"},r.a.createElement(et.a,{component:"h1",variant:"h5",align:"center"},null===i||void 0===i?void 0:i.name),r.a.createElement("form",{className:m.form,noValidate:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{name:"updateBoard",variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:m.notchedOutline}},id:"updateBoard",label:"Update Whiteboard name",autoFocus:!0,value:j.name.value,error:!j.name.isValid,onChange:function(e){return t="name",a=e.target.value,void x((function(e){return Object(H.a)({isPublic:j.isPublic},t,{isTouched:!0,value:a,isValid:C[t].reduce((function(e,t){return e&&"boolean"===typeof t(a)}),!0)})}));var t,a}}),(t="name",j.isTouched?C[t].map((function(e){return e(j.value)})).filter((function(e){return"string"===typeof e})).map((function(e,t){return r.a.createElement("p",{key:t,style:{color:"red"}},e)})):null)),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Pe.a,{variant:"outlined",className:m.formControl,fullWidth:!0},r.a.createElement(bt.a,{htmlFor:"outlined-age-native-simple"},"public"===j.isPublic?"Public":"Private"),r.a.createElement(Ie.a,{native:!0,fullWidth:!0,placeholder:j.isPublic?"Public":"Private",variant:"outlined",value:j.isPublic,onChange:function(e){var t=e.target.name;x(Object(y.a)(Object(y.a)({},j),{},Object(H.a)({},t,e.target.value)))},label:"Visible",inputProps:{name:"isPublic",id:"outlined-public"}},r.a.createElement("option",{value:"public"},"Public"),r.a.createElement("option",{value:"private"},"Private")))),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},className:m.submit,onClick:function(e){return function(){b(!0);var e={name:j.name.value,isPublic:"public"===j.isPublic};fetch("".concat(w,"/whiteboards/").concat(l.params.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("token")},body:JSON.stringify(e)}).then((function(e){return e.status>=500?s.push("/servererror"):e.json()})).then((function(e){k(e),g({value:!0,msg:"".concat(e.name," is updated!"),statusType:D})})).catch((function(e){g({value:!0,msg:e.message,statusType:P})})).finally((function(){b(!1),o(!1),x({name:{isValid:!0,isTouched:!1,value:""},isPublic:null===i||void 0===i?void 0:i.isPublic})}))}()},disabled:!j.name.isValid||!j.name.isTouched},"Update"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(e){o(!1),x({name:{isValid:!0,isTouched:!1,value:null===i||void 0===i?void 0:i.name},isPublic:null===i||void 0===i?void 0:i.isPublic})}},"Cancel"))))))))};Et.propType={history:q.a.object.isRequired,isUpdateBoard:q.a.bool.isRequired,setIsUpdateBoard:q.a.func.isRequired,currentWhiteboard:q.a.object.isRequired,match:q.a.object.isRequired};var xt=Object(l.g)(Et),Ct=Object(l.g)((function(e){var t,a=e.isChangeAvatar,o=e.setIsChangeAvatar,i=e.history,s=Object(n.useContext)(b).user,l=Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))(),m=Object(n.useContext)(E).setOpen,p=Object(n.useState)({avatar:{isValid:!0,isTouched:!1,value:[]}}),f=Object(c.a)(p,2),h=f[0],g=f[1],v={avatar:[function(e){return e.length||"Please upload avatar !"}]};return r.a.createElement(pt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:l.modal,open:a,onClose:function(e){return o(!1)},BackdropComponent:gt.a,BackdropProps:{timeout:500}},r.a.createElement(ft.a,{in:a},r.a.createElement("div",{className:l.paper},r.a.createElement(ht.a,{component:"main",maxWidth:"xl"},r.a.createElement(et.a,{component:"h1",variant:"h5",align:"center"},"Change Avatar"),r.a.createElement("form",{className:l.form,noValidate:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:function(e){return t="avatar",a=Array.from(e.target.files),void g(Object(y.a)(Object(y.a)({},h),{},Object(H.a)({},t,{isTouched:!0,value:a,isValid:"avatar"===t||v[t].reduce((function(e,t){return e&&"boolean"===typeof t(a)}),!0)})));var t,a}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(d.a,{variant:"contained",component:"span",fullWidth:!0,color:"primary",style:{backgroundColor:"#6fa241",cursor:"pointer"},className:l.submit},"Upload Avatar")),h[t="avatar"].isTouched?v[t].map((function(e){return e(h[t].value)})).filter((function(e){return"string"===typeof e})).map((function(e,t){return r.a.createElement("p",{key:t,style:{color:"red"}},e)})):null,r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},className:l.submit,disabled:!Object.values(h).reduce((function(e,t){return!!(t.isTouched&&t.isValid&&e)}),!0),onClick:function(e){return function(e){var t=new FormData;h.avatar.value.length&&(t.append("files",h.avatar.value[0]),fetch("".concat(w,"/users/").concat(e,"/avatar"),{method:"POST",headers:{Authorization:localStorage.getItem("token")},body:t}).then((function(e){return e.status>=500?i.push("/servererror"):e.json()})).then((function(e){k(e),m({value:!0,msg:"Successes!",statusType:D})})).catch((function(e){return m({value:!0,msg:e.message,statusType:P})})).finally((function(){return o(!1)})))}(s.id)}},"Upload"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(e){return o(!1)}},"Cancel"))))))))})),wt=function(e){var t=e.isInviteUser,a=e.setIsInviteUser,o=e.inviteUserHandler,i=e.history,s=Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))(),l=(Object(n.useRef)(),Object(n.useContext)(b).user),m=Object(n.useContext)(E).setOpen,f=Object(n.useState)(!1),h=Object(c.a)(f,2),g=h[0],v=h[1],O=Object(n.useState)([]),j=Object(c.a)(O,2),x=j[0],C=j[1],S=g&&0===x.length;Object(n.useEffect)((function(){S&&fetch("".concat(w,"/users"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.status>=500?i.push("/servererror"):e.json()})).then((function(e){k(e),C(e.filter((function(e){return e.id!==l.id})))})).catch((function(e){return m({value:!0,msg:e.message,statusType:P})}))}),[S,m,l]);var I=r.a.createElement(lt.a,{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},id:"asynchronous-demo",open:g,onOpen:function(){v(!0)},onClose:function(){v(!1)},getOptionSelected:function(e,t){return e.userName===t.userName},getOptionLabel:function(e){return e.userName},options:x,loading:S,renderInput:function(e){return r.a.createElement(Re.a,Object.assign({},e,{onKeyPress:function(e){if("Enter"===e.key){console.log(e.target.value);var t=x.find((function(t){return t.userName===e.target.value}));t?(o(t.userName),m({value:!0,msg:"User: ".concat(t.userName," invited"),statusType:N})):m({value:!0,msg:"User: ".concat(e.target.value," not exist"),statusType:P})}},onKeyDown:function(e){"Escape"===e.key&&a(!1)},label:"Search user",variant:"outlined",InputProps:Object(y.a)(Object(y.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,S?r.a.createElement(ut.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}});return r.a.createElement(pt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:s.modal,open:t,onClose:function(e){return a(!1)},BackdropComponent:gt.a,BackdropProps:{timeout:500}},r.a.createElement(ft.a,{in:t},r.a.createElement("div",{className:s.paper},S?r.a.createElement(p,null):null,r.a.createElement(ht.a,{component:"main",maxWidth:"xl"},r.a.createElement(et.a,{component:"h1",variant:"h5",align:"center"},"Invite User"),r.a.createElement("form",{className:s.form,noValidate:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0,xs:12},I),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(e){a(!1)}},"Cancel"))))))))};wt.propType={history:q.a.object.isRequired,isInviteUser:q.a.bool.isRequired,setIsInviteUser:q.a.func.isRequired,inviteUserHandler:q.a.func.isRequired};var kt=Object(l.g)(wt),St=function(e){var t=e.isIncomingInvite,a=e.setIsIncomingInvite,o=e.accept,i=e.decline,c=(Object(n.useRef)(),Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))());Object(n.useContext)(E).setOpen;return r.a.createElement(pt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t.isInvite,onClose:function(e){return a({data:{},isInvite:!1})},BackdropComponent:gt.a,BackdropProps:{timeout:500}},r.a.createElement(ft.a,{in:t.isInvite},r.a.createElement("div",{className:c.paper},r.a.createElement(ht.a,{component:"main",maxWidth:"xl"},r.a.createElement(et.a,{component:"h1",variant:"h5",align:"center"},"User: ".concat(t.data.from,' invite you in Whiteboard: "').concat(t.data.whiteboardName,'"')),r.a.createElement("form",{className:c.form,noValidate:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,onClick:function(e){o(),a({data:{},isInvite:!1})}},"Accept"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){i(),a({data:{},isInvite:!1})}},"Decline"))))))))};St.propType={isIncomingInvite:q.a.object.isRequired,setIsIncomingInvite:q.a.func.isRequired,accept:q.a.func.isRequired,decline:q.a.func.isRequired};var Pt=Object(l.g)(St),It=a(605),Nt=a(251),Dt=Object(l.g)((function(e){var t=e.anchorEl,a=e.handleClose,n=e.setIsCreateWhiteboard,o=e.setIsChangePassword,i=e.setIsChangeAvatar,c=e.setIsShareMouse,s=e.location,l=e.setIsAddComment;return r.a.createElement(Nt.a,{style:{top:"-4px"},id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:a},r.a.createElement(Se.a,{onClick:function(e){n(!0),a()},style:{margin:"10px"}},"Create board"),r.a.createElement(He.a,{orientation:"horizontal",variant:"middle"}),r.a.createElement(Se.a,{onClick:function(e){o(!0),a()},style:{margin:"10px"}},"Change password"),r.a.createElement(Se.a,{onClick:function(e){i(!0),a()},style:{margin:"10px"}},"Update avatar"),r.a.createElement(He.a,{orientation:"horizontal",variant:"middle"}),s.pathname.includes("my")?null:r.a.createElement(Se.a,{onClick:function(e){c((function(e){return!e})),a()},style:{margin:"10px"}},"Share mouse"),r.a.createElement(He.a,{orientation:"horizontal",variant:"middle"}),r.a.createElement(Se.a,{onClick:function(e){l((function(e){return Object(y.a)(Object(y.a)({},e),{},{isActive:!e.isActive})})),a()},style:{margin:"10px"}},"Add comment"))})),Tt=function(e){var t=e.anchorEl,a=e.handleClose,n=e.setIsCreateWhiteboard,o=e.setIsChangePassword,i=e.setIsDeleteBoard,c=e.setIsUpdateBoard,s=e.setIsChangeAvatar,l=e.setIsInviteUser,u=e.setIsKickUsers,d=e.setIsShareMouse,m=e.setIsAddComment,p=e.currentWhiteboard,f=r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,{onClick:function(e){l(!0),a()},style:{margin:"10px"}},"Invite User"),r.a.createElement(Se.a,{onClick:function(e){u(!0),a()},style:{margin:"10px"}},"Kick User"));return r.a.createElement(Nt.a,{style:{top:"-4px"},id:"simple-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:a},r.a.createElement(Se.a,{onClick:function(e){n(!0),a()},style:{margin:"10px"}},"Create board"),r.a.createElement(Se.a,{onClick:function(e){i(!0),a()},style:{margin:"10px"}},"Delete board"),r.a.createElement(Se.a,{onClick:function(e){c(!0),a()},style:{margin:"10px"}},"Update board"),r.a.createElement(He.a,{orientation:"horizontal",variant:"middle"}),r.a.createElement(Se.a,{onClick:function(e){o(!0),a()},style:{margin:"10px"}},"Change password"),r.a.createElement(Se.a,{onClick:function(e){s(!0),a()},style:{margin:"10px"}},"Update avatar"),r.a.createElement(He.a,{orientation:"horizontal",variant:"middle"}),p.isPublic?null:f,r.a.createElement(Se.a,{onClick:function(e){d((function(e){return!e})),a()},style:{margin:"10px"}},"Share mouse"),r.a.createElement(He.a,{orientation:"horizontal",variant:"middle"}),r.a.createElement(Se.a,{onClick:function(e){m((function(e){return Object(y.a)(Object(y.a)({},e),{},{isActive:!e.isActive})})),a()},style:{margin:"10px"}},"Add comment"))},Wt=Object(l.g)((function(e){var t=e.isKickUsers,a=e.setIsKickUsers,o=e.history,i=e.currentWhiteboard,s=e.kickUserHandler,l=Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))(),m=Object(n.useContext)(b).user,p=Object(n.useContext)(E).setOpen,f=Object(n.useState)(!1),h=Object(c.a)(f,2),g=h[0],v=h[1],O=Object(n.useState)([]),j=Object(c.a)(O,2),x=j[0],C=j[1],S=g&&0===x.length;Object(n.useEffect)((function(){S&&fetch("".concat(w,"/whiteboards/").concat(i.id,"/invited"),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.status>=500?o.push("/servererror"):e.json()})).then((function(e){k(e),C(e.filter((function(e){return e.id!==m.id})))})).catch((function(e){return p({value:!0,msg:e.message,statusType:P})}))}),[S,p,m]);var I=r.a.createElement(lt.a,{onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},id:"asynchronous-demo",open:g,onOpen:function(){v(!0)},onClose:function(){v(!1)},getOptionSelected:function(e,t){return e.userName===t.userName},getOptionLabel:function(e){return e.userName},options:x,loading:S,renderInput:function(e){return r.a.createElement(Re.a,Object.assign({},e,{onKeyPress:function(e){if("Enter"===e.key){var t=x.find((function(t){return t.userName===e.target.value}));t?(s(t.userName),p({value:!0,msg:"User: ".concat(t.userName," is kicked !"),statusType:N})):p({value:!0,msg:"User: ".concat(e.target.value," not exist"),statusType:P})}},onKeyDown:function(e){"Escape"===e.key&&a(!1)},label:"Search user",variant:"outlined",InputProps:Object(y.a)(Object(y.a)({},e.InputProps),{},{endAdornment:r.a.createElement(r.a.Fragment,null,S?r.a.createElement(ut.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}});return r.a.createElement(pt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:l.modal,open:t,onClose:function(e){return a(!1)},BackdropComponent:gt.a,BackdropProps:{timeout:500}},r.a.createElement(ft.a,{in:t},r.a.createElement("div",{className:l.paper},r.a.createElement(ht.a,{component:"main",maxWidth:"xl"},r.a.createElement(et.a,{component:"h1",variant:"h5",align:"center"},"Kick User"),r.a.createElement("form",{className:l.form,noValidate:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0,xs:12},I),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(e){a(!1)}},"Cancel"))))))))})),Rt=function(e){var t=e.history,a=e.match,o=Object(n.useContext)(b),i=o.user,s=o.setUser,l=Object(n.useContext)(T),m=l.loading,f=l.setLoading,h=Object(n.useContext)(E).setOpen,g=Object(n.useRef)(),v=Object(u.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:36},title:{flexGrow:1},boardNameBar:{paddingLeft:"10px",paddingRight:"10px",fontSize:"10px",justifyContent:"center",color:"white"},searchBoard:{paddingRight:"15px",justifyContent:"center",color:"white"}}}))(),O=Object(n.useState)(""),j=Object(c.a)(O,2),x=j[0],C=j[1],U=Object(n.useState)(!1),L=Object(c.a)(U,2),q=L[0],H=L[1],K=Object(n.useState)("black"),Z=Object(c.a)(K,2),Y=Z[0],X=Z[1],$=Object(n.useState)(null),Q=Object(c.a)($,2),_=Q[0],ee=Q[1],te=Object(n.useState)([]),ae=Object(c.a)(te,2),ne=ae[0],re=ae[1],oe=Object(n.useState)(!1),ie=Object(c.a)(oe,2),ce=ie[0],se=ie[1],le=Object(n.useState)(!1),ue=Object(c.a)(le,2),de=ue[0],me=ue[1],pe=Object(n.useState)(!1),fe=Object(c.a)(pe,2),he=fe[0],be=fe[1],ge=Object(n.useState)(!1),ve=Object(c.a)(ge,2),ye=ve[0],Oe=ve[1],je=Object(n.useState)(!1),Ee=Object(c.a)(je,2),xe=Ee[0],Ce=Ee[1],we=Object(n.useState)(!1),ke=Object(c.a)(we,2),Se=ke[0],Pe=ke[1],Ie=Object(n.useState)(!1),Ne=Object(c.a)(Ie,2),De=Ne[0],Te=Ne[1],We=Object(n.useState)(!1),Re=Object(c.a)(We,2),Be=Re[0],Ae=Re[1],Ue=Object(n.useState)(!1),ze=Object(c.a)(Ue,2),Le=ze[0],qe=ze[1],Me=Object(n.useState)({data:{},isInvite:!1}),Ve=Object(c.a)(Me,2),Fe=Ve[0],He=Ve[1],Ke=Object(n.useState)([]),Ze=Object(c.a)(Ke,2),Ge=Ze[0],Je=Ze[1],Ye=Object(n.useState)([]),Xe=Object(c.a)(Ye,2),$e=Xe[0],Qe=Xe[1],_e=Object(n.useState)({mouseX:0,mouseY:0}),et=Object(c.a)(_e,2),tt=et[0],at=et[1],rt=Object(n.useState)([]),it=Object(c.a)(rt,2),st=it[0],lt=it[1],ut=Object(n.useState)({isActive:!1,x:0,y:0}),dt=Object(c.a)(ut,2),pt=dt[0],ft=dt[1],ht=Object(n.useState)([]),bt=Object(c.a)(ht,2),gt=bt[0],Et=bt[1];Object(n.useEffect)((function(){g.current=G()("http://localhost:3000/chat"),"my"!==a.params.id&&(a.params.id||i)&&(f(!0),fetch("".concat(w,"/whiteboards/").concat(a.params.id),{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.status>=500?t.push("/servererror"):e.json()})).then((function(e){k(e),g.current.emit("joinRoom",{room:e.id,userName:i.userName,avatar:i.avatarURL}),ee(e),re(Object.keys(e).reduce((function(t,a){return"object"===typeof e[a]&&"comments"!==a?[].concat(Object(W.a)(t),Object(W.a)(e[a])):t}),[]).sort((function(e,t){return e.itemPosition-t.itemPosition}))),lt(Object(W.a)(e.comments))})).catch((function(e){return h({value:!0,msg:e.message,statusType:P})})).finally((function(){return f(!1)})),g.current.on("sendInvite",(function(e){return e.invited===i.userName?He({data:e,isInvite:!0}):null})),g.current.on("someOneDrawShape",(function(e){console.log(e),"comments"===e.shape.type?lt((function(t){return[].concat(Object(W.a)(t),[e.shape])})):re((function(t){return[].concat(Object(W.a)(t),[e.shape])}))})),g.current.on("addedToBoard",(function(e){e.invite===i.userName&&t.push("".concat(e.boardId))})),g.current.on("someOneRedo",(function(e){console.log(e),re((function(t){return[].concat(Object(W.a)(t),[e.shape])}))})),g.current.on("someOneUndo",(function(e){console.log(e),re((function(t){return Object(W.a)(t.filter((function(t){return t.id!==e.shapeId})))}))})),g.current.on("userAccepted",(function(e){return e.from===i.userName?h({value:!0,msg:"User: ".concat(e.invited," accept your invite!"),statusType:D}):null})),g.current.on("come-message",(function(e){C("".concat(w,"/").concat(e.avatar)),Object(J.addResponseMessage)(e.message)})),g.current.on("joinedToRoom",(function(e){e.userName!==i.userName&&Je([].concat(Object(W.a)(Ge),[{avatar:e.avatar,userName:e.userName}])),Object(J.addResponseMessage)(e.message)})),g.current.on("userDeclined",(function(e){e.from===i.userName&&h({value:!0,msg:"User: ".concat(e.invited," decline your invite!"),statusType:N})})),g.current.on("isKicked",(function(e){if(e.kicked===i.userName)return h({value:!0,msg:"You are kick from Whiteboard: ".concat(e.whiteboardName," !"),statusType:I}),a.params.id===e.whiteboardId?t.goBack():null})),g.current.on("incomingMousePoints",(function(e){console.log($e);var t=$e.find((function(t){return t.id===e.user}));console.log(t),Qe([].concat(Object(W.a)($e),t?[Object(y.a)(Object(y.a)({},t),{},{mouseX:e.mouseX,mouseY:e.mouseY})]:[{id:e.id,avatar:e.avatar,mouseX:e.mouseX,mouseY:e.mouseY}]))})))}),[a.params.id]);var wt=function(e){if(e.length){var t=e.pop();fetch("".concat(w,"/whiteboards/").concat(_.id,"/").concat(t.type,"/").concat(t.id),{method:"DELETE",headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){k(e),Et((function(e){return[].concat(Object(W.a)(e),[{id:t.id,type:t.type}])})),console.log(e),g.current.emit("undo",{room:a.params.id,shapeId:e.id})})).catch((function(e){return h({value:!0,msg:e.message,statusType:P})}))}},St=function(e){var t=gt.pop();fetch("".concat(w,"/whiteboards/").concat(_.id,"/").concat(t.type,"/").concat(t.id),{method:"PATCH",headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(t){k(t),Et((function(e){return Object(W.a)(e)})),e((function(e){return[].concat(Object(W.a)(e),[t])})),g.current.emit("redo",{room:a.params.id,shape:t})})).catch((function(e){return h({value:!0,msg:e.message,statusType:P})}))},Nt=function(e){g.current=G()("http://localhost:3000/chat"),g.current.emit("leaveRoom",{room:e,userName:i.userName})},Rt=function(){H(!1)},Bt=_?r.a.createElement(nt,{color:Y,currentWhiteboard:_,sharedUsers:$e,setShareMouse:at,shareMouse:tt,shareMouseHandler:function(e,t){at({mouseX:t,mouseY:e}),g.current.emit("sendMousePoints",{user:i.id,mouseX:t,mouseY:e,avatar:i.avatarURL,room:_.id})},shapeHistory:gt,setShapeHistory:Et,undo:wt,redo:St,isShareMouse:Le,isDrawShape:function(e){g.current.emit("someOneDrawShape",{room:_.id,shape:e})},shapes:ne,setShapes:re,comments:st,setComments:lt,isAddComment:pt,setIsAddComment:ft}):null,At=_?r.a.createElement(J.Widget,{handleNewUserMessage:function(e){return g.current.emit("send-message",{message:e,room:_.id,avatar:i.avatarURL,from:i.id})},profileAvatar:x,title:"Chat",display:"inline-block"}):null;return m?r.a.createElement(p,null):r.a.createElement("div",{className:v.root},r.a.createElement(R.a,null),r.a.createElement(B.a,{position:"absolute",className:v.appBar,style:{width:"100%",backgroundColor:"#d4de23"}},r.a.createElement(A.a,{className:v.toolbar},r.a.createElement(d.a,{style:{border:"2px solid #4d5842",borderRadius:"50%",boxShadow:"2px 2px 1px darkgreen",backgroundColor:"#6fa241"}},r.a.createElement(M.a,{src:"".concat(w,"/").concat(i.avatarURL),alt:i.userName,style:{cursor:"pointer"},onClick:function(e){H(e.currentTarget)}})),r.a.createElement("span",{style:{fontSize:"25px",paddingLeft:"10px",fontFamily:"monospace",fontWeight:"bold"}},i.userName),_&&_.author===i.id?r.a.createElement(Tt,{anchorEl:q,handleClose:Rt,setIsCreateWhiteboard:me,setIsChangePassword:be,setIsDeleteBoard:Oe,setIsUpdateBoard:Ce,setIsChangeAvatar:Pe,setIsInviteUser:Te,currentWhiteboard:_,setIsKickUsers:Ae,setIsShareMouse:qe,setIsAddComment:ft}):r.a.createElement(Dt,{anchorEl:q,handleClose:Rt,setIsCreateWhiteboard:me,setIsChangePassword:be,setIsDeleteBoard:Oe,setIsUpdateBoard:Ce,setIsChangeAvatar:Pe,setIsInviteUser:Te,setIsShareMouse:qe,currentWhiteboard:_,setIsAddComment:ft}),r.a.createElement(V.a,{style:{justifyContent:"center"}},r.a.createElement(F.a,null,r.a.createElement(ct.a,{onClick:function(e){return e.preventDefault(),ne.length?wt(ne):null}})),ce?r.a.createElement(mt,{setIsSearchBoard:se,leaveRoom:Nt}):r.a.createElement(d.a,{style:{border:"2px solid #4d5842",backgroundColor:"#6fa241",boxShadow:"3px 3px 1px darkgreen"},onClick:function(e){return se(!0)}},r.a.createElement("span",{style:{paddingLeft:"10px",paddingRight:"10px",fontSize:"22px",justifyContent:"center",fontFamily:"monospace",fontWeight:"bold"}},null===_||void 0===_?void 0:_.name),r.a.createElement("span",{className:"my"!==a.params.id?v.boardNameBar:v.searchBoard},"my"!==a.params.id?(null===_||void 0===_?void 0:_.isPublic)?"public":"private":"Search Board")),r.a.createElement(F.a,null,r.a.createElement(ot.a,{onClick:function(e){return e.preventDefault(),0===gt.length?null:St(re)}}))),Ge.length?r.a.createElement(It.a,{max:4,style:{paddingRight:20}},Ge.map((function(e){return r.a.createElement(M.a,{key:e.avatar,alt:e.userName,src:"".concat(w,"/").concat(e.avatar)})}))):null,r.a.createElement("span",{style:{paddingRight:"10px",fontSize:"18px",fontFamily:"monospace"}},"Logout"),r.a.createElement(z.a,{style:{cursor:"pointer",boxShadow:"3px 3px 1px darkgreen",border:"1px solid #4d5842",borderRadius:"3px",backgroundColor:"#6fa241"},color:"inherit",onClick:function(e){e.preventDefault(),Nt(a.params.id),S(s,t)}}))),r.a.createElement(jt,{isDeleteBoard:ye,setIsDeleteBoard:Oe}),r.a.createElement(xt,{isUpdateBoard:xe,setIsUpdateBoard:Ce,currentWhiteboard:_}),Bt,r.a.createElement(Ot,{color:Y,setColor:X}),r.a.createElement(Ct,{isChangeAvatar:Se,setIsChangeAvatar:Pe}),At,r.a.createElement(kt,{setIsInviteUser:Te,isInviteUser:De,currentWhiteboard:_,inviteUserHandler:function(e){g.current.emit("invite",{whiteboardId:_.id,whiteboardName:_.name,from:i.userName,invited:e})}}),r.a.createElement(vt,{isCreateWhiteboard:de,setIsCreateWhiteboard:me,leaveRoom:Nt}),r.a.createElement(Pt,{setIsIncomingInvite:He,isIncomingInvite:Fe,decline:function(){g.current=G()("http://localhost:3000/chat"),g.current.emit("decline",Fe.data)},accept:function(){g.current=G()("http://localhost:3000/chat"),g.current.emit("accept",Fe.data)}}),r.a.createElement(yt,{isChangePassword:he,setIsChangePassword:be}),r.a.createElement(Wt,{currentWhiteboard:_,isKickUsers:Be,setIsKickUsers:Ae,kickUserHandler:function(e){g.current.emit("kick",{whiteboardId:_.id,whiteboardName:_.name,from:i.userName,kicked:e})}}))};Rt.propType={history:q.a.object.isRequired,match:q.a.object.isRequired};var Bt=Rt,At=a(249),Ut=a.n(At),zt=(a(532),a(533),a(118)),Lt=a.n(zt),qt=a(606),Mt=a(607),Vt=(a(534),Object(l.g)((function(e){var t=e.history,a=e.setIsLoginPage,o=e.isLoginPage,i=Object(n.useContext)(E).setOpen,s=Object(n.useContext)(b).setUser,l=Object(n.useState)(""),m=Object(c.a)(l,2),p=m[0],f=m[1],g=Object(n.useState)(""),v=Object(c.a)(g,2),y=v[0],O=v[1],j=Object(n.useState)(!1),x=Object(c.a)(j,2),C=x[0],S=x[1],I=Object(u.a)((function(e){return{notchedOutline:{borderWidth:"1px",borderColor:"#6fa241 !important"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,height:"80px",width:"80px"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},resetPassRightBtn:{width:"49%",marginLeft:"2%",margin:e.spacing(3,0,2)},resetPassLeftBtn:{width:"49%",margin:e.spacing(3,0,2)}}}))();return r.a.createElement(ht.a,{component:"main",maxWidth:"xs"},r.a.createElement(R.a,null),r.a.createElement("div",{className:I.paper},r.a.createElement(M.a,{src:Lt.a,className:I.avatar}),r.a.createElement(et.a,{component:"h1",variant:"h5"},C?"Password recovery":"Sign in"),r.a.createElement("form",{className:I.form,noValidate:!0},r.a.createElement(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:I.notchedOutline}},id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:p,error:!1,onChange:function(e){return f(e.target.value)}}),C?null:r.a.createElement(Re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:I.notchedOutline}},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:y,onChange:function(e){return O(e.target.value)}}),r.a.createElement(d.a,{type:"button",fullWidth:!C,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},className:C?I.resetPassLeftBtn:I.submit,onClick:function(e){return C?function(e,a){e.preventDefault(),fetch("".concat(w,"/recover"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:a})}).then((function(e){return e.status>=500?t.push("/servererror"):e.json()})).then((function(e){k(e),i({value:!0,msg:"Check your mail !",statusType:D})})).catch((function(e){return i({value:!0,msg:e.message,statusType:P})}))}(e,p):function(e,a){e.preventDefault(),Object.values(a).includes("")&&i({value:!0,msg:"pls enter valid credentials",statusType:P}),fetch("".concat(w,"/session"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.status>=500?t.push("/servererror"):e.json()})).then((function(e){k(e);try{s(h()(e.token))}catch(a){throw new Error(a.message)}localStorage.setItem("token","Bearer ".concat(e.token)),t.push("/profile/".concat(localStorage.getItem("lastBoard")?localStorage.getItem("lastBoard"):"my"))})).catch((function(e){return i({value:!0,msg:e.message,statusType:P})}))}(e,{email:p,password:y})}},C?"Reset password":"Sign in"),C?r.a.createElement(d.a,{type:"button",fullWidth:!C,variant:"contained",color:"primary",className:C?I.resetPassRightBtn:I.submit,onClick:function(e){e.preventDefault(),S(!C)},style:{cursor:"pointer",backgroundColor:"#6fa241"}},"Back"):null,C?null:r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){e.preventDefault(),t.push("profile/guest")},style:{cursor:"pointer",backgroundColor:"#6fa241"}},"Login as guest"),r.a.createElement(Fe.a,{container:!0},r.a.createElement(Fe.a,{item:!0,xs:!0},r.a.createElement(qt.a,{style:{cursor:"pointer"},variant:"body2",onClick:function(e){e.preventDefault(),S(!C)}},C?null:"Forgot password?")),r.a.createElement(Fe.a,{item:!0},r.a.createElement(qt.a,{style:{cursor:"pointer"},variant:"body2",onClick:function(e){e.preventDefault(),a(!o)}},C?null:"Don't have an account? Sign Up"))))),r.a.createElement(Mt.a,{mt:21}))}))),Ft=function(e){var t,a=e.isLoginPage,o=e.setIsLoginPage,i=e.history,s=Object(n.useContext)(E).setOpen,l=Object(n.useState)(0),m=Object(c.a)(l,2),p=m[0],f=m[1],h=Object(n.useState)([]),b=Object(c.a)(h,2),g=(b[0],b[1],Object(n.useState)({firstName:{isValid:!0,isTouched:!1,value:""},avatar:{isValid:!0,isTouched:!1,value:[]},lastName:{isValid:!0,isTouched:!1,value:""},email:{isValid:!0,isTouched:!1,value:""},userName:{isValid:!0,isTouched:!1,value:""},password:{isValid:!0,isTouched:!1,value:""},confirmPassword:{isValid:!0,isTouched:!1,value:""}})),v=Object(c.a)(g,2),O=v[0],j=v[1],x=Object(u.a)((function(e){return{notchedOutline:{borderWidth:"1px",borderColor:"#6fa241 !important"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main,height:"80px",width:"80px"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}))(),C=function(e,t){j(Object(y.a)(Object(y.a)({},O),{},Object(H.a)({},e,{isTouched:!0,value:t,isValid:"avatar"===e||S[e].reduce((function(e,a){return e&&"boolean"===typeof a(t)}),!0)})))},S={firstName:[function(e){return(null===e||void 0===e?void 0:e.length)>0||"First name field is empty"},function(e){return!/[0-9]/.test(e)||"First name can't include digit"}],avatar:[function(e){return e.length||"Please upload avatar !"}],lastName:[function(e){return(null===e||void 0===e?void 0:e.length)>0||"Enter Last name"},function(e){return!/[0-9]/.test(e)||"Last name can't include digit"}],email:[function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"Invalid email address"}],userName:[function(e){return/^[a-zA-Z0-9]{6,16}$/.test(e)||"User name must have 6 to 16 characters"}],password:[function(e){return/^[a-zA-Z0-9]{6,16}$/.test(e)||"Password must have 6 to 16 characters"},function(e){return/\d/.test(e)||"Password must contain minimum 1 digit"},function(e){return/[A-Z]/.test(e)||"Password must contain minimum 1 upper case alphabet"}],confirmPassword:[function(e){return O.password.value===e||"Password not match"}]},I=function(e){return O[e].isTouched?S[e].map((function(t){return t(O[e].value)})).filter((function(e){return"string"===typeof e})).map((function(e,t){return r.a.createElement("p",{key:t,style:{color:"red"}},e)})):null},N=[r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:x.notchedOutline}},id:"firstName",label:"First Name",autoFocus:!0,value:O.firstName.value,error:!O.firstName.isValid,onChange:function(e){return C("firstName",e.target.value.trim())}}),I("firstName")),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:x.notchedOutline}},id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:O.lastName.value,error:!O.lastName.isValid,onChange:function(e){return C("lastName",e.target.value.trim())}}),I("lastName")),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:x.notchedOutline}},id:"username",label:"Username",name:"username",autoComplete:"username",value:O.userName.value,error:!O.userName.isValid,onChange:function(e){return C("userName",e.target.value.trim())}}),I("userName")),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:x.notchedOutline}},id:"email",label:"Email Address",name:"email",autoComplete:"email",value:O.email.value,error:!O.email.isValid,onChange:function(e){return C("email",e.target.value.trim())}}),I("email")),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement("input",{accept:"image/*",style:{display:"none"},id:"raised-button-file",multiple:!0,type:"file",onChange:function(e){return C("avatar",Array.from(e.target.files))}}),r.a.createElement("label",{htmlFor:"raised-button-file"},r.a.createElement(d.a,{variant:"outlined",component:"span",fullWidth:!0,className:x.submit},"Upload Avatar")),I("avatar")),r.a.createElement(r.a.Fragment,null,r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:x.notchedOutline}},name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:O.password.value,error:!O.password.isValid,onChange:function(e){return C("password",e.target.value.trim())}}),I("password")),r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(Re.a,{variant:"outlined",required:!0,fullWidth:!0,InputProps:{classes:{notchedOutline:x.notchedOutline}},name:"Confirm password",label:"Confirm password",type:"password",id:"confirm password",autoComplete:"current-password",value:O.confirmPassword.value,error:!O.confirmPassword.isValid,onChange:function(e){return C("confirmPassword",e.target.value.trim())}})))],T=N.length-1>p?r.a.createElement(Fe.a,{container:!0,spacing:2},r.a.createElement(Fe.a,{item:!0,xs:12,sm:6},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:x.submit,style:{backgroundColor:"#6fa241"},onClick:function(e){e.preventDefault(),B()},disabled:0===p},"Back")),r.a.createElement(Fe.a,{item:!0,xs:12,sm:6},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",className:x.submit,style:{backgroundColor:"#6fa241"},onClick:function(e){e.preventDefault(),W()},disabled:(t=["firstName","lastName","userName","email","avatar","password","confirmPassword"][p],!O[t].isValid||!O[t].isTouched)},"Next"))):r.a.createElement(Fe.a,{item:!0,xs:12},r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},className:x.submit,onClick:function(e){fetch("".concat(w,"/users"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({firstName:O.firstName.value,lastName:O.lastName.value,userName:O.userName.value,email:O.email.value,password:O.password.value})}).then((function(e){return e.status>=500?i.push("/servererror"):e.json()})).then((function(e){k(e),function(e){var t=new FormData;O.avatar.value.length&&(t.append("files",O.avatar.value[0]),fetch("".concat(w,"/users/").concat(e,"/avatar"),{method:"POST",headers:{Authorization:localStorage.getItem("token")},body:t}).then((function(e){return e.json()})).then((function(e){k(e),s({value:!0,msg:"Successes registration!",statusType:D}),o(!a)})).catch((function(e){return s({value:!0,msg:e.message,statusType:P})})))}(e.id)})).catch((function(e){return s({value:!0,msg:e.message,statusType:P})}))},disabled:!Object.values(O).reduce((function(e,t){return!!(t.isTouched&&t.isValid&&e)}),!0)},"Sign Up"),r.a.createElement(d.a,{type:"button",fullWidth:!0,variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(e){e.preventDefault(),B()}},"Back")),W=function(){f(p+1)},B=function(){f(p-1)};return r.a.createElement(ht.a,{component:"main",maxWidth:"xs",style:{backgroundImage:"./book.jpg"}},r.a.createElement(R.a,null),r.a.createElement("div",{className:x.paper},r.a.createElement(M.a,{src:Lt.a,className:x.avatar}),r.a.createElement(et.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{className:x.form,noValidate:!0},r.a.createElement(Fe.a,{container:!0,spacing:2},N[p]),T,r.a.createElement(Fe.a,{container:!0},r.a.createElement(Fe.a,{item:!0,xs:!0}),r.a.createElement(Fe.a,{item:!0},a?null:r.a.createElement(qt.a,{style:{cursor:"pointer"},variant:"body2",onClick:function(e){e.preventDefault(),o(!a)}},"Already have an account?"))))),r.a.createElement(Mt.a,{mt:3}))},Ht=function(e){var t=e.history,a=Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}))(),o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],l=i[1],d=Object(n.useState)(!0),m=Object(c.a)(d,2),p=m[0],f=m[1];return r.a.createElement("div",{style:{textAlign:"center"}},localStorage.getItem("token")?t.push("/profile/".concat(localStorage.getItem("lastBoard")?localStorage.getItem("lastBoard"):"my")):null,r.a.createElement("img",{src:Ut.a,alt:"home",style:{width:"100%",textAlign:"center"}}),r.a.createElement("button",{class:"learn-more",onClick:function(e){e.preventDefault(),l(!0)}},"Learn More"),r.a.createElement(pt.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:a.modal,style:{color:"darkblue"},open:s,onClose:function(e){return l(!1)},closeAfterTransition:!0,BackdropComponent:gt.a,BackdropProps:{timeout:500}},r.a.createElement(ft.a,{in:s},r.a.createElement("div",{className:a.paper},p?r.a.createElement(Vt,{setIsLoginPage:f,isLoginPage:p}):r.a.createElement(Ft,{setIsLoginPage:f,isLoginPage:p})))))},Kt=a(250),Zt=a.n(Kt),Gt=function(e){var t=e.history,a=Object(n.useContext)(b),o=a.user,i=a.setUser,s=Object(n.useState)([]),l=Object(c.a)(s,2),d=l[0],m=l[1],p=Object(n.useState)([]),f=Object(c.a)(p,2),h=f[0],g=f[1],v=Object(u.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},menuButton:{marginRight:36},title:{flexGrow:1}}}))(),y=Object(n.useState)("black"),O=Object(c.a)(y,2),j=O[0],E=O[1],x=Object(n.useState)({lines:[],circles:[],textBoxes:[],rectangles:[],name:"My board"}),C=Object(c.a)(x,2),w=C[0];C[1];return r.a.createElement("div",{className:v.root},r.a.createElement(R.a,null),r.a.createElement(B.a,{position:"absolute",className:v.appBar,style:{width:"100%",backgroundColor:"#d4de23"}},r.a.createElement(A.a,{className:v.toolbar},r.a.createElement(V.a,{style:{justifyContent:"center"}}),r.a.createElement("span",{style:{paddingRight:"10px",fontSize:"18px",fontFamily:"monospace"}},o?"Logout":"Login"),r.a.createElement(Zt.a,{style:{cursor:"pointer",boxShadow:"3px 3px 1px darkgreen",border:"1px solid #4d5842",borderRadius:"3px",backgroundColor:"#6fa241"},color:"inherit",onClick:function(e){e.preventDefault(),o?S(i,t):t.push("/home")}}))),r.a.createElement(nt,{color:j,currentWhiteboard:w,shapes:d,setShapes:m,comments:h,setComments:g}),r.a.createElement(Ot,{color:j,setColor:E}))};Gt.propType={history:q.a.object.isRequired};var Jt=Gt,Yt=function(e){var t=e.history,n=Object(u.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"}}}))();return r.a.createElement("div",{className:n.paper},r.a.createElement("img",{src:a(535),alt:""}),r.a.createElement("h4",null,"Internal Server Error. Please contact the System Administrator."),r.a.createElement(d.a,{variant:"contained",color:"primary",style:{backgroundColor:"#6fa241"},onClick:function(){return t.push("/home")}},"Go back home"))},Xt=function(){var e=Object(n.useState)(function(e){try{return h()(e)}catch(t){return localStorage.removeItem("token"),null}}(localStorage.getItem("token")?localStorage.getItem("token"):"")),t=Object(c.a)(e,2),a=t[0],o=t[1],i=Object(n.useState)({value:!1,msg:"Please try again after a few seconds",statusCode:null,statusType:P}),u=Object(c.a)(i,2),d=u[0],f=u[1],g=Object(n.useState)(!1),y=Object(c.a)(g,2),O=y[0],j=y[1];return r.a.createElement(s.a,null,r.a.createElement(T.Provider,{value:{loading:O,setLoading:j}},r.a.createElement(b.Provider,{value:{user:a,setUser:o}},r.a.createElement(E.Provider,{value:{open:d,setOpen:f}},r.a.createElement(C,null),r.a.createElement(l.d,null,r.a.createElement(l.a,{from:"/",exact:!0,to:"/home"}),r.a.createElement(l.b,{path:"/home",component:Ht}),r.a.createElement(l.b,{path:"/profile/guest",exact:!0,component:Jt}),r.a.createElement(l.b,{path:"/loading",component:p}),r.a.createElement(v,{user:a,path:"/profile/:id",component:Bt}),r.a.createElement(l.b,{path:"/servererror",component:Yt}),r.a.createElement(l.b,{path:"*",component:m}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Xt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[276,1,2]]]);
//# sourceMappingURL=main.cf6b51ab.chunk.js.map