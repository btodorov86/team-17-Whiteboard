{"version":3,"sources":["Components/Page/Home/earth.PNG","Components/Page/Home/img11.png","Components/Page/NotFound/image404.PNG","Components/Page/ServerError/500-internal-server-error.png","Components/Page/NotFound/NotFound.js","Components/Page/Loading/Loading.js","Providers/Context/AuthContext.js","Providers/GuardedRoute/GuardedRouteAuth.js","Providers/Context/ExceptionContext.js","Components/Base/Exception/Exception.js","Constants/Constant.js","Providers/Context/LoadingContext.js","Components/Page/LoggedUserHome/DrawExtrasWidget.js","Components/Page/LoggedUserHome/DrawTextWidget.js","Components/Page/LoggedUserHome/DrawRectangleWidget.js","Components/Page/LoggedUserHome/DrawCircleWidget.js","Components/Page/LoggedUserHome/DrawBrushWidget.js","Components/Base/ChangeThickness/ChangeThickness.js","Components/Page/LoggedUserHome/DrawPencilWidget.js","Components/Base/ChangeFontSize/ChangeFontSize.js","Components/Page/LoggedUserHome/TextBox.js","Components/Page/LoggedUserHome/DrawEraserWidget.js","Components/Base/Comments/CommentInput.js","Components/Base/Comments/SingleComment.js","Components/Page/LoggedUserHome/DrawingPage.js","Components/Page/LoggedUserHome/SearchWhiteBoards.js","Components/Page/LoggedUserHome/CreateBoard.js","Components/Page/LoggedUserHome/ChangePassword.js","Components/Page/LoggedUserHome/ColorPalette.js","Components/Page/LoggedUserHome/DeleteBoard.js","Components/Page/LoggedUserHome/UpdateBoard.js","Components/Page/LoggedUserHome/ChangeAvatar.js","Components/Page/LoggedUserHome/InviteUsers.js","Components/Page/LoggedUserHome/IncomingInvite.js","Components/Base/ProfileMenu/ProfileMenu.js","Components/Base/ProfileMenu/ProfilePrivateMenu.js","Components/Base/KickUsers/KickUsers.js","Components/Page/LoggedUserHome/LoggedUserHome.js","Components/Page/Login/Login.js","Components/Page/Register/Register.js","Components/Page/Home/Home.js","Components/Page/LoggedUserHome/GuestUserHomePage.js","Components/Page/ServerError/ServerError.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","NotFound","history","classes","makeStyles","theme","paper","display","flexDirection","alignItems","useStyles","className","src","require","alt","Button","variant","color","style","backgroundColor","onClick","push","withRouter","location","textAlign","paddingTop","pathname","includes","AuthContext","createContext","user","isLogged","setUser","GuardedRouteAuth","Component","component","otherProps","render","props","to","ExceptionContext","open","value","msg","statusCode","statusType","setOpen","Alert","elevation","Exception","useContext","handleClose","event","reason","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","severity","BASE_URL","isErrorResponse","message","Error","reduce","a","b","error","logOutHandler","localStorage","removeItem","exceptionStatus","LoadingContext","loading","setLoading","root","position","transform","flexGrow","top","marginLeft","width","height","speedDial","bottom","spacing","right","left","DrawExtrasWidget","shareHandler","updateShapeProp","useState","openWidget","setOpenWidget","actions","icon","name","handleCloseWidget","SpeedDial","ariaLabel","borderRadius","padding","onOpen","direction","map","action","SpeedDialAction","key","tooltipTitle","propType","func","isRequired","string","alignSelf","DrawTextWidget","e","isDrawing","fill","notchedOutline","borderWidth","DrawRectangleWidget","stroke","DrawCircleWidget","DrawBrushWidget","strokeWidth","ChangeThickness","setStrokeWidth","React","minWidth","FormControl","Select","labelId","id","onChange","target","MenuItem","DrawPencilWidget","number","ChangeFontSize","textBox","fontSize","updateSize","TextBoxKonva","shapeTextBoxes","setShapes","setFontSize","y","x","border","palette","divider","shape","background","text","secondary","margin","select","hidden","startDrawing","Grid","container","Divider","orientation","flexItem","fontStyle","cursor","textDecoration","length","TextField","fullWidth","autoFocus","onKeyPress","endDrawing","prev","clearDrawingObj","object","DrawEraserWidget","setIsErase","isAddComment","setComments","match","setIsAddComment","isDrawShape","comment","setComment","isActive","sendObj","console","log","fetch","params","method","headers","Authorization","getItem","body","JSON","stringify","then","r","status","json","resp","catch","err","finally","submit","SingleComment","typography","wrapper","boxShadow","anchorEl","setAnchorEl","Boolean","undefined","currentTarget","Popover","transformOrigin","Typography","currentWhiteboard","shareMouse","sharedUsers","setShareMouse","shareMouseHandler","undo","redo","isShareMouse","incomingShape","shapes","comments","isErase","lines","points","type","drawingFunc","obj","toString","mouseUp","Math","abs","setShape","pre","prop","join","onStartDrawing","shapeType","circles","radius","differenceX","differenceY","newRadius","rectangles","textBoxes","useEffect","token","erase","Object","keys","filter","find","Fragment","onMouseDown","mouseDown","evt","offsetX","offsetY","onMouseMove","mouseX","mouseY","mouseMove","onMouseUp","window","innerHeight","innerWidth","sort","itemPosition","renderSingleDrawingElement","TextBox","Avatar","avatar","userName","SearchWhiteboard","setIsSearchBoard","leaveRoom","openAutocomplete","setOpenAutocomplete","options","setOptions","Autocomplete","getOptionSelected","option","getOptionLabel","renderInput","whiteboard","setItem","onKeyDown","label","InputProps","endAdornment","CircularProgress","size","isCreateWhiteboard","setIsCreateWhiteboard","borderColor","modal","justifyContent","shadows","form","marginTop","isValid","isTouched","isPublic","createBoard","setCreateBoard","userValidation","boardName","data","Modal","aria-labelledby","aria-describedby","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Container","maxWidth","align","noValidate","item","xs","required","acc","validateFn","fn","index","formControl","InputLabel","htmlFor","native","inputProps","placeholder","create","disabled","ChangePassword","isChangePassword","setIsChangePassword","currentPassword","repeatPassword","newPassword","changePassword","setChangePassword","updateState","test","renderError","autoComplete","trim","update","values","setColor","hex","isDeleteBoard","setIsDeleteBoard","showDeleteButton","setShowDeleteButton","toggleDeleteButton","toggleConfirmGroup","UpdateBoard","isUpdateBoard","setIsUpdateBoard","updateBoard","setUpdateBoard","updateBoardFunc","bool","isChangeAvatar","setIsChangeAvatar","changeAvatar","setChangeAvatar","accept","multiple","Array","from","files","formData","FormData","append","uploadFiles","InviteUsers","isInviteUser","setIsInviteUser","inviteUserHandler","useRef","autocomplete","preventDefault","selectUser","IncomingInvite","isIncomingInvite","setIsIncomingInvite","decline","isInvite","whiteboardName","setIsShareMouse","Menu","keepMounted","ProfilePrivateMenu","setIsKickUsers","InviteAndKick","isKickUsers","kickUserHandler","LoggedUserHomePage","socketRef","toolbar","paddingRight","appBar","zIndex","drawer","transition","transitions","easing","sharp","duration","leavingScreen","menuButton","marginRight","title","boardNameBar","paddingLeft","searchBoard","setAvatar","setCurrentWhiteboard","isSearchBoard","usersInRoom","setUsersInRoom","setSharedUsers","shapeHistory","setShapeHistory","current","io","emit","room","avatarURL","on","invited","invite","boardId","shapeId","incomingMsg","addResponseMessage","kicked","whiteboardId","goBack","lastShape","pop","handleCloseProfile","showDrawingPage","toggleChat","handleNewUserMessage","profileAvatar","CssBaseline","AppBar","Toolbar","fontFamily","fontWeight","author","ListItem","IconButton","SearchWhiteBoards","AvatarGroup","max","invitedUsername","kickedUsername","setIsLoginPage","isLoginPage","email","setEmail","password","setPassword","isPasswordReset","setIsPasswordReset","main","resetPassRightBtn","resetPassLeftBtn","images","res","resetPasswordHandler","jwt","signInHandler","Link","Box","mt","Register","fieldName","registrationPage","setRegistrationPage","firstName","lastName","confirmPassword","createUser","setCreateUser","registrationFields","toggleButtons","sm","backHandler","nextHandler","backgroundImage","Home","openModal","setOpenModal","class","closeAfterTransition","GuestUserHomePage","ServerError","App","getUser","Provider","exact","path","Loading","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cf6b51ab.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/earth.8ca3c397.PNG\";","module.exports = __webpack_public_path__ + \"static/media/img11.d1cf4d8c.png\";","module.exports = __webpack_public_path__ + \"static/media/image404.6d200ff6.PNG\";","module.exports = __webpack_public_path__ + \"static/media/500-internal-server-error.77f2d328.png\";","import React from 'react';\nimport { Button, makeStyles } from '@material-ui/core';\n\nconst NotFound = ({history}) => {\n\n    const useStyles = makeStyles((theme) => ({\n        paper: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        },\n      }));\n\n      const classes = useStyles();\n\n    return (\n    <div className={classes.paper}>\n        <img src={require('./image404.PNG')} alt='' />\n    <h4>Looks like you have followed a broken link or the resource does not exist anymore.</h4>\n    <Button variant='contained' color='primary' style={{backgroundColor: '#6fa241'}} onClick={() => history.push(\"/home\")}>Go back home</Button>\n    </div>\n    )\n}\n\nexport default NotFound\n","import React from 'react';\nimport './Loading.css'\nimport { withRouter } from 'react-router-dom';\n\nconst Loading = ({location}) => {\n\n    const togglePadding = ()  => location.pathname.includes('account') || location.pathname.includes('admin') ? '100px' : '0px';\n\n    return <div style={{textAlign: 'center', paddingTop: togglePadding()}}><div className=\"lds-hourglass\"></div></div>\n\n}\n\nexport default withRouter(Loading)\n","import { createContext } from 'react';\nimport jwt from 'jwt-decode';\n\nexport const getToken = () => localStorage.getItem('token') ? localStorage.getItem('token') : '';\n\nexport const getUser = token => {\n    try {\n        return jwt(token)\n    } catch (error) {\n        localStorage.removeItem('token');\n        return null\n    }\n}\n\n\nconst AuthContext = createContext({\n    user: null,\n    isLogged: false,\n    setUser: () => {}\n});\n\nexport default AuthContext\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport propTypes from 'prop-types';\n\nconst GuardedRouteAuth = ({ component: Component, user, ...otherProps }) => (\n    <Route\n    {...otherProps}\n    render={(props) => user ? <Component {...props} /> : <Redirect to='/home' />}\n\n    />\n)\n\nGuardedRouteAuth.propTypes = {\n    component: propTypes.func.isRequired,\n    user: propTypes.oneOfType([propTypes.bool, propTypes.object]).isRequired\n}\n\nexport default GuardedRouteAuth\n","import { createContext } from 'react';\n\nconst ExceptionContext = createContext({\n    open: {\n        value: false,\n        msg: '',\n        statusCode: null,\n        statusType: ''\n    },\n    // isLogged: false,\n    setOpen: () => {}\n});\n\nexport default ExceptionContext\n","import React, { useContext } from 'react';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport ExceptionContext from '../../../Providers/Context/ExceptionContext';\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nconst Exception = () => {\n\n  const { open, setOpen } = useContext(ExceptionContext)\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n\n    setOpen({...open, value: false});\n  };\n\n  return (\n      <Snackbar open={open.value} autoHideDuration={4000} onClose={handleClose} anchorOrigin={{vertical: 'top', horizontal: 'center'}} >\n        <Alert onClose={handleClose} severity={open.statusType} open={open.value} autoHideDuration={4000} >\n          {open.msg}\n        </Alert>\n      </Snackbar>\n  );\n};\n\nexport default Exception\n","export const BASE_URL = 'http://localhost:3000';\n\nexport const isErrorResponse = (value) => {\n\n    if (value?.statusCode >= 400) {\n        if (typeof value.message === 'string') {\n            throw new Error(value.message)\n        }\n        throw new Error(value.message.reduce( (a, b) => a + '\\n' + b))\n    }\n    if (value.error) {\n        throw new Error(value.message)\n    }\n    return\n}\nexport const dateFormat = (date) => date.toLocaleDateString('en-GB', {\n    day : 'numeric',\n    month : 'short',\n    year : 'numeric'\n}).split(' ').join('-');\n\nexport const logOutHandler = (setUser, history) => {\n    setUser(null);\n    localStorage.removeItem(\"token\");\n    history.push(\"/home\");\n  };\n\nexport const exceptionStatus = {\n    error: 'error',\n    warning: 'warning',\n    info: 'info',\n    success: 'success'\n};\nexport const exceptionMsg = {\n    error: 'Try again after few seconds',\n    warning: 'NO PERMISSION ',\n    info: 'info',\n    success: `Success everything is OK`\n};\n","import { createContext } from 'react';\n\nconst LoadingContext = createContext({\n    loading: false,\n    setLoading: () => {}\n});\n\nexport default LoadingContext\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport ClearAllIcon from '@material-ui/icons/ClearAll';\nimport propType from 'prop-types';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'fixed',\n    transform: 'translateZ(0px)',\n    flexGrow: 1,\n    top: 70,\n    marginLeft: '50%',\n    width: 60,\n    height: 60,\n\n  },\n  // exampleWrapper: {\n  //   position: 'relative',\n  //   marginTop: theme.spacing(3),\n  //   height: 380,\n  // },\n  // radioGroup: {\n  //   margin: theme.spacing(1, 0),\n  // },\n  speedDial: {\n    position: 'absolute',\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n    },\n  },\n}));\n\n\n\nconst DrawExtrasWidget = ({shareHandler, updateShapeProp, color}) => {\n  const classes = useStyles();\n  const [openWidget, setOpenWidget] = useState(false);\n\n  const actions = [\n    // { icon: <FileCopyIcon />, name: 'Copy' },\n    // { icon: <SaveIcon />, name: 'Save' },\n    // { icon: <PrintIcon onClick={(e) => setIsDrawing('circle')} />, name: 'Print' },\n    // { icon: <ShareIcon onClick={(e) => setIsDrawing('line')} />, name: 'Share' },\n    { icon: <FavoriteIcon onClick={shareHandler} />, name: 'Share mouse' },\n  ];\n\n  const handleCloseWidget = () => {\n    setOpenWidget(false);\n  };\n\n  const handleOpenWidget = () => {\n    setOpenWidget(true);\n  };\n\n  return (\n    <div className={classes.root}>\n      {/* <FormControlLabel\n        control={<Switch checked={hidden} onChange={handleHiddenChange} color=\"primary\" />}\n        label=\"Hidden\"\n      />\n      <FormLabel className={classes.radioGroup} component=\"legend\">\n        Direction\n      </FormLabel>\n      <RadioGroup\n        aria-label=\"direction\"\n        name=\"direction\"\n        value={direction}\n        onChange={handleDirectionChange}\n        row\n      >\n        <FormControlLabel value=\"up\" control={<Radio />} label=\"Up\" />\n        <FormControlLabel value=\"right\" control={<Radio />} label=\"Right\" />\n        <FormControlLabel value=\"down\" control={<Radio />} label=\"Down\" />\n        <FormControlLabel value=\"left\" control={<Radio />} label=\"Left\" />\n      </RadioGroup> */}\n      {/* <div className={classes.exampleWrapper}> */}\n        <SpeedDial\n          ariaLabel=\"SpeedDial example\"\n          className={classes.speedDial}\n            icon={<ClearAllIcon \n              style={{\n              backgroundColor: '#6fa241',\n              width: '100%',\n              height: '100%',\n              borderRadius: '50%',\n              padding: '20%',\n            }} \n          />}\n          onClose={handleCloseWidget}\n          onOpen={handleOpenWidget}\n          open={openWidget}\n          direction={'right'}\n        >\n          {actions.map((action) => (\n            <SpeedDialAction\n              key={action.name}\n              icon={action.icon}\n              tooltipTitle={action.name}\n              onClick={handleCloseWidget}\n            />\n          ))}\n        </SpeedDial>\n    </div>\n  );\n};\n\nDrawExtrasWidget.propType = {\n  shareHandler: propType.func.isRequired,\n  updateShapeProp: propType.func.isRequired,\n  color: propType.string.isRequired,\n}\n\nexport default DrawExtrasWidget\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport FileCopyIcon from '@material-ui/icons/FileCopyOutlined';\nimport SaveIcon from '@material-ui/icons/Save';\nimport PrintIcon from '@material-ui/icons/Print';\nimport ShareIcon from '@material-ui/icons/Share';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\nimport propType from 'prop-types';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    transform: 'translateZ(0px)',\n    flexGrow: 1,\n    display: 'inline-block',\n    alignSelf: 'flex-start', \n    top: 630,\n    marginLeft: 10,\n    width: 60,\n    height: 60,\n  },\n  // exampleWrapper: {\n  //   position: 'relative',\n  //   marginTop: theme.spacing(3),\n  //   height: 380,\n  // },\n  // radioGroup: {\n  //   margin: theme.spacing(1, 0),\n  // },\n  speedDial: {\n    position: 'absolute',\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n    },\n  },\n}));\n\nconst DrawTextWidget = ({ updateShapeProp, color }) => {\n  const classes = useStyles();\n  const [openWidget, setOpenWidget] = useState(false);\n\n  const actions = [\n    // { icon: <FileCopyIcon />, name: 'Copy' },\n    // { icon: <SaveIcon />, name: 'Save' },\n    // { icon: <PrintIcon onClick={(e) => setIsDrawing('circle')} />, name: 'Print' },\n    {\n      icon: (\n        <TextFieldsIcon\n          onClick={(e) =>\n            updateShapeProp(\n              'textBoxes',\n              {\n                isDrawing: true,\n                fill: color,\n              },\n              true\n            )\n          }\n        />\n      ),\n      name: 'Abc..',\n    },\n    // { icon: <FavoriteIcon onClick={shareHandler} />, name: 'Like' },\n  ];\n\n  const handleCloseWidget = () => {\n    setOpenWidget(false);\n  };\n\n  const handleOpenWidget = () => {\n    setOpenWidget(true);\n  };\n\n  return (\n    <div className={classes.root}>\n      {/* <FormControlLabel\n        control={<Switch checked={hidden} onChange={handleHiddenChange} color=\"primary\" />}\n        label=\"Hidden\"\n      />\n      <FormLabel className={classes.radioGroup} component=\"legend\">\n        Direction\n      </FormLabel>\n      <RadioGroup\n        aria-label=\"direction\"\n        name=\"direction\"\n        value={direction}\n        onChange={handleDirectionChange}\n        row\n      >\n        <FormControlLabel value=\"up\" control={<Radio />} label=\"Up\" />\n        <FormControlLabel value=\"right\" control={<Radio />} label=\"Right\" />\n        <FormControlLabel value=\"down\" control={<Radio />} label=\"Down\" />\n        <FormControlLabel value=\"left\" control={<Radio />} label=\"Left\" />\n      </RadioGroup> */}\n      {/* <div className={classes.exampleWrapper}> */}\n      <SpeedDial\n        ariaLabel='SpeedDial example'\n        className={classes.speedDial}\n        icon={\n          <TextFieldsIcon\n            style={{\n              backgroundColor: '#6fa241',\n              width: '100%',\n              height: '100%',\n              borderRadius: '50%',\n              padding: '20%',\n            }}\n          />\n        }\n        onClose={handleCloseWidget}\n        onOpen={handleOpenWidget}\n        open={openWidget}\n        direction={'right'}\n      >\n        {actions.map((action) => (\n          <SpeedDialAction\n            key={action.name}\n            icon={action.icon}\n            tooltipTitle={action.name}\n            onClick={handleCloseWidget}\n          />\n        ))}\n      </SpeedDial>\n    </div>\n  );\n};\n\nDrawTextWidget.propType = {\n  shareHandler: propType.func.isRequired,\n  updateShapeProp: propType.func.isRequired,\n  color: propType.string.isRequired,\n};\n\nexport default DrawTextWidget;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport FileCopyIcon from '@material-ui/icons/FileCopyOutlined';\nimport SaveIcon from '@material-ui/icons/Save';\nimport PrintIcon from '@material-ui/icons/Print';\nimport StopIcon from '@material-ui/icons/Stop';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport Crop54SharpIcon from '@material-ui/icons/Crop54Sharp';\nimport propType from 'prop-types';\n\nconst useStyles = makeStyles((theme) => ({\n  notchedOutline: {\n    borderWidth: \"1px\",\n    width: \"130% !important\"\n  },\n  root: {\n    position: 'absolute',\n    transform: 'translateZ(0px)',\n    flexGrow: 1,\n    top: 570,\n    marginLeft: 10,\n    width: 60,\n    height: 60,\n\n  },\n  // exampleWrapper: {\n  //   position: 'relative',\n  //   marginTop: theme.spacing(3),\n  //   height: 380,\n  // },\n  // radioGroup: {\n  //   margin: theme.spacing(1, 0),\n  // },\n  speedDial: {\n    position: 'absolute',\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n    },\n  },\n}));\n\n\n\nconst DrawRectangleWidget = ({shareHandler, updateShapeProp, color}) => {\n  const classes = useStyles();\n  const [openWidget, setOpenWidget] = useState(false);\n\n  const actions = [\n    // { icon: <FileCopyIcon />, name: 'Copy' },\n    // { icon: <SaveIcon />, name: 'Save' },\n    // { icon: <PrintIcon onClick={(e) => setIsDrawing('circle')} />, name: 'Print' },\n    { icon: <Crop54SharpIcon onClick={(e) => updateShapeProp('rectangles', {\n      isDrawing: true,\n      stroke: color,\n      fill: \"\",\n    }, true)} />, name: 'Contoured Rectangle' },\n    { icon: <StopIcon onClick={(e) => updateShapeProp('rectangles', {\n      isDrawing: true,\n      stroke: color,\n      fill: color,\n    }, true)} />, name: 'Filled Rectangle' },\n  ];\n\n  const handleCloseWidget = () => {\n    setOpenWidget(false);\n  };\n\n  const handleOpenWidget = () => {\n    setOpenWidget(true);\n  };\n\n  return (\n    <div className={classes.root}>\n      {/* <FormControlLabel\n        control={<Switch checked={hidden} onChange={handleHiddenChange} color=\"primary\" />}\n        label=\"Hidden\"\n      />\n      <FormLabel className={classes.radioGroup} component=\"legend\">\n        Direction\n      </FormLabel>\n      <RadioGroup\n        aria-label=\"direction\"\n        name=\"direction\"\n        value={direction}\n        onChange={handleDirectionChange}\n        row\n      >\n        <FormControlLabel value=\"up\" control={<Radio />} label=\"Up\" />\n        <FormControlLabel value=\"right\" control={<Radio />} label=\"Right\" />\n        <FormControlLabel value=\"down\" control={<Radio />} label=\"Down\" />\n        <FormControlLabel value=\"left\" control={<Radio />} label=\"Left\" />\n      </RadioGroup> */}\n      {/* <div className={classes.exampleWrapper}> */}\n        <SpeedDial\n          ariaLabel=\"SpeedDial example\"\n          className={classes.speedDial}\n          icon={<Crop54SharpIcon style={{\n            backgroundColor: '#6fa241',\n            width: '100%',\n            height: '100%',\n            borderRadius: '50%',\n            padding: '20%',\n          }}\n    />}\n          onClose={handleCloseWidget}\n          onOpen={handleOpenWidget}\n          open={openWidget}\n          direction={'right'}\n        >\n          {actions.map((action) => (\n            <SpeedDialAction\n              key={action.name}\n              icon={action.icon}\n              tooltipTitle={action.name}\n              onClick={handleCloseWidget}\n            />\n          ))}\n        </SpeedDial>\n    </div>\n  );\n};\n\nDrawRectangleWidget.propType = {\n  shareHandler: propType.func.isRequired,\n  updateShapeProp: propType.func.isRequired,\n  color: propType.string.isRequired,\n}\n\nexport default DrawRectangleWidget\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport FileCopyIcon from '@material-ui/icons/FileCopyOutlined';\nimport SaveIcon from '@material-ui/icons/Save';\nimport PrintIcon from '@material-ui/icons/Print';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport RadioButtonUncheckedIcon from '@material-ui/icons/RadioButtonUnchecked';\nimport propType from 'prop-types';\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    transform: 'translateZ(0px)',\n    flexGrow: 1,\n    top: 510,\n    marginLeft: 10,\n    width: 60,\n    height: 60,\n\n  },\n  // exampleWrapper: {\n  //   position: 'relative',\n  //   marginTop: theme.spacing(3),\n  //   height: 380,\n  // },\n  // radioGroup: {\n  //   margin: theme.spacing(1, 0),\n  // },\n  speedDial: {\n    position: 'absolute',\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n    },\n  },\n}));\n\n\n\nconst DrawCircleWidget = ({shareHandler, updateShapeProp, color}) => {\n  const classes = useStyles();\n  const [openWidget, setOpenWidget] = useState(false);\n\n  const actions = [\n    // { icon: <FileCopyIcon />, name: 'Copy' },\n    // { icon: <SaveIcon />, name: 'Save' },\n    { icon: <RadioButtonUncheckedIcon\n      onClick={(e) => updateShapeProp('circles', {\n      isDrawing: true,\n      fill: \"\",\n      stroke: color,\n    }, true)} />, name: 'Contoured Circle' },\n    { icon: <FiberManualRecordIcon onClick={(e) => updateShapeProp('circles', {\n      isDrawing: true,\n      fill: color,\n      stroke: color,\n    }, true)} />, name: 'Filled Circle' },\n    // { icon: <FavoriteIcon onClick={shareHandler} />, name: 'Like' },\n  ];\n\n  const handleCloseWidget = () => {\n    setOpenWidget(false);\n  };\n\n  const handleOpenWidget = () => {\n    setOpenWidget(true);\n  };\n\n  return (\n    <div className={classes.root}>\n      {/* <FormControlLabel\n        control={<Switch checked={hidden} onChange={handleHiddenChange} color=\"primary\" />}\n        label=\"Hidden\"\n      />\n      <FormLabel className={classes.radioGroup} component=\"legend\">\n        Direction\n      </FormLabel>\n      <RadioGroup\n        aria-label=\"direction\"\n        name=\"direction\"\n        value={direction}\n        onChange={handleDirectionChange}\n        row\n      >\n        <FormControlLabel value=\"up\" control={<Radio />} label=\"Up\" />\n        <FormControlLabel value=\"right\" control={<Radio />} label=\"Right\" />\n        <FormControlLabel value=\"down\" control={<Radio />} label=\"Down\" />\n        <FormControlLabel value=\"left\" control={<Radio />} label=\"Left\" />\n      </RadioGroup> */}\n      {/* <div className={classes.exampleWrapper}> */}\n        <SpeedDial\n          ariaLabel=\"SpeedDial example\"\n          className={classes.speedDial}\n          icon={<RadioButtonUncheckedIcon style={{\n            backgroundColor: '#6fa241',\n            width: '100%',\n            height: '100%',\n            borderRadius: '50%',\n            padding: '20%',\n          }}\n    />}\n          onClose={handleCloseWidget}\n          onOpen={handleOpenWidget}\n          open={openWidget}\n          direction={'right'}\n        >\n          {actions.map((action) => (\n            <SpeedDialAction\n              key={action.name}\n              icon={action.icon}\n              tooltipTitle={action.name}\n              onClick={handleCloseWidget}\n            />\n          ))}\n        </SpeedDial>\n    </div>\n  );\n};\n\nDrawCircleWidget.propType = {\n  shareHandler: propType.func.isRequired,\n  updateShapeProp: propType.func.isRequired,\n  color: propType.string.isRequired,\n}\n\nexport default DrawCircleWidget\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport BrushIcon from '@material-ui/icons/Brush';\nimport propType from 'prop-types';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    transform: 'translateZ(0px)',\n    flexGrow: 1,\n    top: 390,\n    marginLeft: 10,\n    width: 60,\n    height: 60,\n\n  },\n  // exampleWrapper: {\n  //   position: 'relative',\n  //   marginTop: theme.spacing(3),\n  //   height: 380,\n  // },\n  // radioGroup: {\n  //   margin: theme.spacing(1, 0),\n  // },\n  speedDial: {\n    position: 'absolute',\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n    },\n  },\n}));\n\n\n\nconst DrawBrushWidget = ({shareHandler, updateShapeProp, color}) => {\n  const classes = useStyles();\n  const [openWidget, setOpenWidget] = useState(false);\n\n  const actions = [\n    // { icon: <FileCopyIcon />, name: 'Copy' },\n    // { icon: <SaveIcon />, name: 'Save' },\n    // { icon: <PrintIcon onClick={(e) => setIsDrawing('circle')} />, name: 'Print' },\n    { icon: <BrushIcon onClick={(e) => updateShapeProp('lines', {\n      isDrawing: true,\n      strokeWidth: 7,\n    }, true) } />, name: 'Brush' },\n    // { icon: <FavoriteIcon onClick={shareHandler} />, name: 'Like' },\n  ];\n\n  const handleCloseWidget = () => {\n    setOpenWidget(false);\n  };\n\n  const handleOpenWidget = () => {\n    setOpenWidget(true);\n  };\n\n  return (\n    <div className={classes.root}>\n      {/* <FormControlLabel\n        control={<Switch checked={hidden} onChange={handleHiddenChange} color=\"primary\" />}\n        label=\"Hidden\"\n      />\n      <FormLabel className={classes.radioGroup} component=\"legend\">\n        Direction\n      </FormLabel>\n      <RadioGroup\n        aria-label=\"direction\"\n        name=\"direction\"\n        value={direction}\n        onChange={handleDirectionChange}\n        row\n      >\n        <FormControlLabel value=\"up\" control={<Radio />} label=\"Up\" />\n        <FormControlLabel value=\"right\" control={<Radio />} label=\"Right\" />\n        <FormControlLabel value=\"down\" control={<Radio />} label=\"Down\" />\n        <FormControlLabel value=\"left\" control={<Radio />} label=\"Left\" />\n      </RadioGroup> */}\n      {/* <div className={classes.exampleWrapper}> */}\n        <SpeedDial\n          ariaLabel=\"SpeedDial example\"\n          className={classes.speedDial}\n          icon={<BrushIcon\n            style={{\n              backgroundColor: '#6fa241',\n              width: '100%',\n              height: '100%',\n              borderRadius: '50%',\n              padding: '20%',\n            }}\n          />}\n          onClose={handleCloseWidget}\n          onOpen={handleOpenWidget}\n          open={openWidget}\n          direction={'right'}\n        >\n          {actions.map((action) => (\n            <SpeedDialAction\n              key={action.name}\n              icon={action.icon}\n              tooltipTitle={action.name}\n              onClick={handleCloseWidget}\n            />\n          ))}\n        </SpeedDial>\n    </div>\n  );\n};\n\nDrawBrushWidget.propType = {\n  shareHandler: propType.func.isRequired,\n  updateShapeProp: propType.func.isRequired,\n  color: propType.string.isRequired,\n}\n\nexport default DrawBrushWidget\n","import React from 'react';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport './ChangeThickness.css'\nimport propTypes from \"prop-types\";\n\nconst ChangeThickness = ({setStrokeWidth, strokeWidth}) => {\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    setStrokeWidth(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  return (\n    <div style={{height: '40px', width: '40px', borderRadius: '20px', padding: 0, minWidth: 0 }}>\n      <FormControl >\n        {/* <InputLabel id=\"demo-controlled-open-select-label\">Age</InputLabel> */}\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={strokeWidth}\n          onChange={handleChange}\n          style={{borderRadius: '50%', backgroundColor: '#fafafa', width: '0px'}}\n        >\n          {/* <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem> */}\n          <MenuItem value={1}>1</MenuItem>\n          <MenuItem value={3}>3</MenuItem>\n          <MenuItem value={5}>5</MenuItem>\n          <MenuItem value={8}>8</MenuItem>\n          <MenuItem value={10}>10</MenuItem>\n          <MenuItem value={15}>15</MenuItem>\n          <MenuItem value={20}>20</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n};\n\nChangeThickness.propTypes = {\n  strokeWidth: propTypes.number.isRequired,\n  setStrokeWidth: propTypes.func.isRequired,\n}\nexport default ChangeThickness\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport ClearAllIcon from '@material-ui/icons/ClearAll'\nimport propType from 'prop-types';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport { FormControl, InputLabel, MenuItem, Select } from '@material-ui/core';\nimport ChangeThickness from '../../Base/ChangeThickness/ChangeThickness';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    transform: 'translateZ(0px)',\n    flexGrow: 1,\n    top: 330,\n    marginLeft: 10,\n    width: 60,\n    height: 60,\n  },\n  // exampleWrapper: {\n  //   position: 'relative',\n  //   marginTop: theme.spacing(3),\n  //   height: 380,\n  // },\n  // radioGroup: {\n  //   margin: theme.spacing(1, 0),\n  // },\n  speedDial: {\n    position: 'absolute',\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n    },\n  },\n}));\n\n\n\nconst DrawPencilWidget = ({setStrokeWidth, updateShapeProp, strokeWidth}) => {\n  const classes = useStyles();\n  const [openWidget, setOpenWidget] = useState(false);\n\n\n  const actions = [\n    // { icon: <CreateIcon onClick={(e) => updateShapeProp('lines', {\n    //   isDrawing: true,\n    //   strokeWidth: 2,\n    // }, true)} />, name: 'Change Thickness' },\n    { icon: <ChangeThickness strokeWidth={strokeWidth} setStrokeWidth={setStrokeWidth} />, name: 'Change Thickness' },\n  ];\n\n  const handleCloseWidget = () => {\n    setOpenWidget(false);\n  };\n\n  const handleOpenWidget = () => {\n    setOpenWidget(true);\n  };\n\n  return (\n    <div className={classes.root}>\n      {/* <FormControlLabel\n        control={<Switch checked={hidden} onChange={handleHiddenChange} color=\"primary\" />}\n        label=\"Hidden\"\n      />\n      <FormLabel className={classes.radioGroup} component=\"legend\">\n        Direction\n      </FormLabel>\n      <RadioGroup\n        aria-label=\"direction\"\n        name=\"direction\"\n        value={direction}\n        onChange={handleDirectionChange}\n        row\n      >\n        <FormControlLabel value=\"up\" control={<Radio />} label=\"Up\" />\n        <FormControlLabel value=\"right\" control={<Radio />} label=\"Right\" />\n        <FormControlLabel value=\"down\" control={<Radio />} label=\"Down\" />\n        <FormControlLabel value=\"left\" control={<Radio />} label=\"Left\" />\n      </RadioGroup> */}\n      {/* <div className={classes.exampleWrapper}> */}\n        <SpeedDial\n          ariaLabel=\"SpeedDial example\"\n          className={classes.speedDial}\n          icon={<ClearAllIcon\n            style={{\n              backgroundColor: '#6fa241',\n              width: '100%',\n              height: '100%',\n              borderRadius: '50%',\n              padding: '20%',\n            }}\n          />}\n          onClose={handleCloseWidget}\n          onOpen={handleOpenWidget}\n          open={openWidget}\n          direction={'right'}\n        >\n          {actions.map((action) => (\n            <SpeedDialAction\n              key={action.name}\n              icon={action.icon}\n              tooltipTitle={action.name}\n              onClick={handleCloseWidget}\n            />\n          ))}\n        </SpeedDial>\n    </div>\n  );\n};\n\nDrawPencilWidget.propType = {\n  shareHandler: propType.func.isRequired,\n  updateShapeProp: propType.func.isRequired,\n  color: propType.string.isRequired,\n  strokeWidth: propType.number.isRequired,\n  setStrokeWidth: propType.func.isRequired,\n}\n\nexport default DrawPencilWidget\n","import React from 'react';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport './ChangeFontSize.css'\nimport propTypes from \"prop-types\";\n\nconst ChangeFontSize = ({textBox}) => {\n  const [open, setOpen] = React.useState(false);\n\n  const handleChange = (event) => {\n    textBox.updateSize(\"fontSize\", event.target.value)\n    // setFontSize(event.target.value);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  return (\n    <div className='MuiInputBase-inputBase' style={{height: '41px', width: '41px', borderRadius: '20px', padding: 10, minWidth: 0 }}>\n      <FormControl >\n        {/* <InputLabel id=\"demo-controlled-open-select-label\">Age</InputLabel> */}\n        <Select\n          labelId=\"demo-controlled-open-select-label\"\n          id=\"demo-controlled-open-select\"\n          open={open}\n          onClose={handleClose}\n          onOpen={handleOpen}\n          value={textBox.fontSize}\n          style={{backgroundColor: '#fafafa', width: '44px'}}\n          onChange={handleChange}\n        >\n          {/* <MenuItem value=\"\">\n            <em>None</em>\n          </MenuItem> */}\n          <MenuItem value={12}>12</MenuItem>\n          <MenuItem value={15}>15</MenuItem>\n          <MenuItem value={17}>17</MenuItem>\n          <MenuItem value={19}>19</MenuItem>\n          <MenuItem value={25}>25</MenuItem>\n          <MenuItem value={30}>30</MenuItem>\n          <MenuItem value={40}>40</MenuItem>\n        </Select>\n      </FormControl>\n    </div>\n  );\n};\n\n\nChangeFontSize.propTypes = {\n  textBox: propTypes.object.isRequired,\n}\nexport default ChangeFontSize\n","import { makeStyles, TextField } from \"@material-ui/core\";\nimport React, { useContext, useEffect } from \"react\";\nimport FormatAlignLeftIcon from \"@material-ui/icons/FormatAlignLeft\";\nimport FormatAlignCenterIcon from \"@material-ui/icons/FormatAlignCenter\";\nimport FormatAlignRightIcon from \"@material-ui/icons/FormatAlignRight\";\nimport FormatBoldIcon from \"@material-ui/icons/FormatBold\";\nimport FormatItalicIcon from \"@material-ui/icons/FormatItalic\";\nimport FormatUnderlinedIcon from \"@material-ui/icons/FormatUnderlined\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Divider from \"@material-ui/core/Divider\";\nimport AuthContext from '../../../Providers/Context/AuthContext';\nimport ChangeFontSize from '../../Base/ChangeFontSize/ChangeFontSize';\nimport propType from 'prop-types';\n\nconst TextBoxKonva = ({ shapeTextBoxes, setShapes, fontSize, setFontSize, color }) => {\n\n  const { user } = useContext(AuthContext)\n  const useStyles = makeStyles((theme) => ({\n    // root: {\n    //   backgroundColor: theme.palette.background.paper,\n    //   width: \"auto\",\n\n    //   //   minHeight: 200,\n    // },\n    root: {\n      position: \"absolute\",\n      top: shapeTextBoxes.y - 110,\n      left: shapeTextBoxes.x,\n    //   width: \"fit-content\",\n      width: 220,\n      border: `1px solid ${theme.palette.divider}`,\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.background.paper,\n      color: theme.palette.text.secondary,\n      \"& svg\": {\n        margin: theme.spacing(0.9),\n      },\n      \"& hr\": {\n        margin: theme.spacing(0, 0.5),\n      },\n    },\n    text: {\n      border: `1px solid ${theme.palette.divider}`,\n    },\n    select: {\n        border: '1px solid blue'\n    }\n  }));\n\n  // useEffect(() => {\n  //   shapeTextBoxes.updateSize('fill', color)\n  // }, [color])\n\n  const classes = useStyles();\n\n  return (\n    // <div className={classes.root}>\n    <div hidden={!shapeTextBoxes.startDrawing}>\n      <Grid container alignItems=\"center\" className={classes.root}>\n        <ChangeFontSize fontSize={fontSize} setFontSize={setFontSize} textBox={shapeTextBoxes} />\n      \n        <Divider orientation=\"vertical\" flexItem />\n        <FormatBoldIcon\n          onClick={(e) =>\n            shapeTextBoxes.fontStyle === \"normal\"\n              ? shapeTextBoxes.updateSize(\"fontStyle\", \"bold\")\n              : shapeTextBoxes.updateSize(\"fontStyle\", \"normal\")\n          }\n          className={shapeTextBoxes.fontStyle === \"bold\" ? classes.select : null}\n          style={{ cursor: \"pointer\" }}\n        />\n        <FormatItalicIcon\n          onClick={(e) =>\n            shapeTextBoxes.fontStyle === \"normal\"\n              ? shapeTextBoxes.updateSize(\"fontStyle\", \"italic\")\n              : shapeTextBoxes.updateSize(\"fontStyle\", \"normal\")\n          }\n          className={shapeTextBoxes.fontStyle === \"italic\" ? classes.select : null}\n          style={{ cursor: \"pointer\" }}\n        />\n        <FormatUnderlinedIcon onClick={(e) =>\n            shapeTextBoxes.textDecoration.length === 0\n              ? shapeTextBoxes.updateSize(\"textDecoration\", \"underline\")\n              : shapeTextBoxes.updateSize(\"textDecoration\", \"\")\n          }\n          className={shapeTextBoxes.textDecoration.length !== 0 ? classes.select : null}\n          style={{ cursor: \"pointer\" }} />\n          <Divider orientation=\"vertical\" flexItem />\n          <CloseIcon\n        onClick={(e) =>\n          shapeTextBoxes.updateSize(\"startDrawing\", false)\n          }\n          style={{ cursor: \"pointer\" }}\n        />\n        <TextField\n          // multiline\n          fullWidth\n          variant=\"filled\"\n          className={classes.text}\n          value={shapeTextBoxes.text}\n          autoFocus\n          onChange={(e) => { shapeTextBoxes.updateSize('fill', color); shapeTextBoxes.updateSize(\"text\", e.target.value) }}\n          onKeyPress={(e) => {\n            if (e.key === \"Enter\") {\n              if (user) {\n                shapeTextBoxes.endDrawing(shapeTextBoxes);\n              } else {\n                setShapes(prev => [...prev, shapeTextBoxes]);\n                shapeTextBoxes.clearDrawingObj();\n              }\n\n            }\n          }}\n        />\n      </Grid>\n    </div>\n  );\n};\n\nTextBoxKonva.propType = {\n  history: propType.object.isRequired,\n  shapeTextBoxes: propType.object.isRequired,\n  setShapes: propType.func.isRequired,\n  fontSize: propType.number.isRequired,\n  setFontSize: propType.func.isRequired,\n  color: propType.string.isRequired,\n};\nexport default TextBoxKonva;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SpeedDial from '@material-ui/lab/SpeedDial';\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\nimport propType from 'prop-types';\nimport KitchenSharpIcon from '@material-ui/icons/KitchenSharp'\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: 'absolute',\n    transform: 'translateZ(0px)',\n    flexGrow: 1,\n    top: 450,\n    marginLeft: 10,\n    width: 60,\n    height: 60,\n\n  },\n  // exampleWrapper: {\n  //   position: 'relative',\n  //   marginTop: theme.spacing(3),\n  //   height: 380,\n  // },\n  // radioGroup: {\n  //   margin: theme.spacing(1, 0),\n  // },\n  speedDial: {\n    position: 'absolute',\n    '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n      bottom: theme.spacing(2),\n      right: theme.spacing(2),\n    },\n    '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n      top: theme.spacing(2),\n      left: theme.spacing(2),\n    },\n  },\n}));\n\n\n\nconst DrawEraserWidget = ({setIsErase, updateShapeProp, strokeWidth}) => {\n  const classes = useStyles();\n  const [openWidget, setOpenWidget] = useState(false);\n\n  const actions = [\n    // { icon: <FileCopyIcon />, name: 'Copy' },\n    // { icon: <SaveIcon />, name: 'Save' },\n    // { icon: <PrintIcon onClick={(e) => setIsDrawing('circle')} />, name: 'Print' },\n    { icon: <KitchenSharpIcon onClick={(e) => {\n      setIsErase(true)\n      updateShapeProp('lines', {\n      isDrawing: true,\n      strokeWidth: strokeWidth,\n    }, true, false)} } />, name: 'Eraser' },\n  ];\n\n  const handleCloseWidget = () => {\n    setOpenWidget(false);\n  };\n\n  const handleOpenWidget = () => {\n    setOpenWidget(true);\n  };\n\n  return (\n    <div className={classes.root}>\n\n        <SpeedDial\n          ariaLabel=\"SpeedDial example\"\n          className={classes.speedDial}\n          icon={<KitchenSharpIcon\n            style={{\n              backgroundColor: '#6fa241',\n              width: '100%',\n              height: '100%',\n              borderRadius: '50%',\n              padding: '20%',\n            }}\n          />}\n          onClose={handleCloseWidget}\n          onOpen={handleOpenWidget}\n          open={openWidget}\n          direction={'right'}\n        >\n          {actions.map((action) => (\n            <SpeedDialAction\n              key={action.name}\n              icon={action.icon}\n              tooltipTitle={action.name}\n              onClick={handleCloseWidget}\n            />\n          ))}\n        </SpeedDial>\n    </div>\n  );\n};\n\nDrawEraserWidget.propType = {\n  shareHandler: propType.func.isRequired,\n  updateShapeProp: propType.func.isRequired,\n  color: propType.string.isRequired,\n}\n\nexport default DrawEraserWidget\n","import { makeStyles, TextField } from \"@material-ui/core\";\nimport React, { useContext, useState } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { BASE_URL, exceptionStatus, isErrorResponse } from '../../../Constants/Constant';\nimport ExceptionContext from '../../../Providers/Context/ExceptionContext';\nimport { withRouter } from 'react-router-dom';\n\nconst CommentInput = ({ isAddComment, setComments, history, match, setIsAddComment, isDrawShape }) => {\n\n  const { setOpen } = useContext(ExceptionContext);\n\n  const [comment, setComment] = useState({\n      text: '',\n  });\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      position: \"absolute\",\n      top: isAddComment.y,\n      left: isAddComment.x,\n      width: 220,\n      border: `1px solid ${theme.palette.divider}`,\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.background.paper,\n      color: theme.palette.text.secondary,\n      \"& svg\": {\n        margin: theme.spacing(0.9),\n      },\n      \"& hr\": {\n        margin: theme.spacing(0, 0.5),\n      },\n    },\n    text: {\n      border: `1px solid ${theme.palette.divider}`,\n    },\n    select: {\n        border: '1px solid blue'\n    }\n  }));\n\n  const submit = () => {\n    const sendObj = {\n        text: comment.text,\n        y: isAddComment.x,\n        x: isAddComment.y,\n    }\n    console.log(sendObj);\n\n      fetch(`${BASE_URL}/whiteboards/${match.params.id}/comments`, {\n          method: 'POST',\n        headers: {\n          Authorization: localStorage.getItem(\"token\"),\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(sendObj)\n      })\n        .then((r) => (r.status >= 500 ? history.push(\"/servererror\") : r.json()))\n        .then((resp) => {\n          isErrorResponse(resp);\n          setComments(prev => [...prev, resp]);\n          isDrawShape(resp);\n        })\n        .catch((err) =>\n          setOpen({\n            value: true,\n            msg: err.message,\n            statusType: exceptionStatus.error,\n          })\n        )\n        .finally(() => setIsAddComment(prev => ({...prev, isActive: false})))\n  }\n\n  const classes = useStyles();\n\n  return (\n    <div hidden={!isAddComment.isActive} className={classes.root} >\n      <Grid container alignItems=\"center\" >\n        <TextField\n          fullWidth\n          variant=\"outlined\"\n          className={classes.text}\n          value={comment.text}\n          autoFocus\n          onChange={(e) => setComment({text: e.target.value})}\n          onKeyPress={(e) => {\n            if (e.key === \"Enter\") {\n              submit()\n            }\n          }}\n        />\n      </Grid>\n    </div>\n  );\n};\n\nexport default withRouter(CommentInput);\n","import React, { useState } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Popover from \"@material-ui/core/Popover\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst SingleComment = ({x, y, text}) => {\n  const useStyles = makeStyles((theme) => ({\n    typography: {\n      padding: theme.spacing(2),\n    },\n    wrapper: {\n        position: 'absolute',\n        cursor: \"pointer\",\n        boxShadow: \"3px 3px 1px darkred\",\n        top: x,\n        left: y,\n        height: 20,\n        width: 20,\n        border: '1px solid red',\n        backgroundColor: 'red',\n        borderRadius: '50%',\n    }\n  }));\n\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div className={classes.wrapper} onClick={handleClick}>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n            vertical: 'top',\n            horizontal: 'left',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'left',\n          }}\n\n      >\n        <Typography className={classes.typography}>\n          {text}\n        </Typography>\n      </Popover>\n    </div>\n  );\n};\n\nexport default SingleComment;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { Stage, Layer, Line, Rect, Circle, Text } from \"react-konva\";\nimport propTypes from \"prop-types\";\nimport { v4 as uuid } from \"uuid\";\nimport AuthContext from \"../../../Providers/Context/AuthContext\";\nimport io from \"socket.io-client\";\nimport { Avatar } from \"@material-ui/core\";\nimport { Widget, addResponseMessage } from \"react-chat-widget\";\nimport DrawExtrasWidget from \"./DrawExtrasWidget\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport { BASE_URL, exceptionStatus, isErrorResponse } from \"../../../Constants/Constant\";\nimport DrawTextWidget from './DrawTextWidget';\nimport DrawRectangleWidget from './DrawRectangleWidget';\nimport DrawCircleWidget from './DrawCircleWidget';\nimport DrawBrushWidget from './DrawBrushWidget';\nimport DrawPencilWidget from './DrawPencilWidget';\nimport TextBoxKonva from './TextBox';\nimport { withRouter } from 'react-router-dom';\nimport { Undo } from '@material-ui/icons';\nimport DrawEraserWidget from './DrawEraserWidget';\nimport CommentInput from '../../Base/Comments/CommentInput';\nimport SingleComment from '../../Base/Comments/SingleComment';\n// import Chat from './Chat';\n// import\n\nconst DrawingPage = ({\n  color,\n  currentWhiteboard,\n  match,\n  shareMouse,\n  setShareMouse,\n  sharedUsers,\n  shareMouseHandler,\n  location,\n  undo,\n  history,\n  redo,\n  isShareMouse,\n  incomingShape,\n  isDrawShape,\n  shapes,\n  setShapes,\n  setComments,\n  comments,\n  isAddComment,\n  setIsAddComment,\n}) => {\n  const { user } = useContext(AuthContext);\n  const { setOpen } = useContext(ExceptionContext);\n  const [isErase, setIsErase] = useState(false);\n  const [strokeWidth, setStrokeWidth] = useState(2);\n\n\n  // const [fontSize, setFontSize] = useState(12);\n  // const socketRef = useRef();\n\n  const [shape, setShape] = useState({\n    lines: {\n      points: [],\n      type: \"lines\",\n      startDrawing: false,\n      isDrawing: false,\n      stroke: \"black\",\n      strokeWidth : strokeWidth,\n      drawingFunc: (obj) => <Line {...obj} />,\n      updateSize: (e, x, y, prev) => {\n        if (prev.points.length !== 0) {\n          if (prev.points.toString().length > 4000) {\n            setOpen({\n              value: true,\n              msg: \"Maximum line complexity reached. Please use another tool.\",\n              statusType: exceptionStatus.warning,\n            });\n            mouseUp();\n          } else {\n            if (\n              Math.abs(prev.points[prev.points.length - 1] - y) > 5 ||\n              Math.abs(prev.points[prev.points.length - 2] - x) > 5\n            ) {\n              setShape( pre => ({\n                ...pre,\n                lines: { ...pre.lines, points: [...pre.lines.points, x, y] },\n              }));\n            }\n          }\n        } else {\n          setShape(pre => ({\n            ...pre,\n            lines: { ...pre.lines, points: [...pre.lines.points, x, y] },\n          }));\n        }\n      },\n      endDrawing: (prop) => {\n        const sendObj = {\n          points: prop.points.join(','),\n          stroke: prop.stroke,\n          strokeWidth: prop.strokeWidth,\n        }\n        fetch(`${BASE_URL}/whiteboards/${match.params.id}/lines`, {\n          method: 'POST',\n          headers: {\n            Authorization: localStorage.getItem(\"token\"),\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(sendObj)\n        })\n        .then( r => r.json())\n        .then( resp => {\n          isErrorResponse(resp);\n          setShapes((prev) => [...prev, resp]);\n          setShape((prev) => ({\n          ...shape,\n          lines: {\n            ...prev.lines,\n            startDrawing: false,\n            points: [],\n          },\n        }));\n        isDrawShape(resp);\n        })\n        .catch( err => setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        }))\n      },\n      onStartDrawing: (shapeType, color, x, y, strokeWidth) =>\n        setShape((prev) => ({\n          ...prev,\n          [shapeType]: {\n            ...prev[shapeType],\n            startDrawing: true,\n            stroke: color,\n            strokeWidth: strokeWidth,\n          },\n        })),\n        clearDrawingObj: () => setShape((prev) => ({\n          ...shape,\n          lines: {\n            ...prev.lines,\n            startDrawing: false,\n            points: [],\n          },\n        }))\n    },\n    circles: {\n      type: \"circles\",\n      startDrawing: false,\n      isDrawing: false,\n      stroke: \"black\",\n      fill: \"\",\n      strokeWidth: strokeWidth,\n      radius: 0,\n      drawingFunc: (obj) => <Circle {...obj} />,\n      updateSize: (e, x, y, prev) => {\n        const differenceX = Math.abs(prev.x - x);\n        const differenceY = Math.abs(prev.y - y);\n        const newRadius = differenceX > differenceY ? differenceX : differenceY;\n        setShape({\n          ...shape,\n          circles: { ...prev, radius: newRadius },\n        });\n      },\n      endDrawing: (prop) => {\n        const sendObj = {\n          x: prop.x,\n          y: prop.y,\n          fill: prop.fill,\n          radius: prop.radius,\n          stroke: prop.stroke,\n          strokeWidth: prop.strokeWidth,\n        }\n        fetch(`${BASE_URL}/whiteboards/${match.params.id}/circles`, {\n          method: 'POST',\n          headers: {\n            Authorization: localStorage.getItem(\"token\"),\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(sendObj)\n        })\n        .then( r => r.json())\n        .then( resp => {\n          isErrorResponse(resp);\n          setShapes((prev) => [...prev, resp]);\n          setShape((prev) => ({\n          ...shape,\n          circles: {\n            ...prev.circles,\n            startDrawing: false,\n            x: 0,\n            y: 0,\n            radius: 0,\n          },\n        }));\n        isDrawShape(resp);\n        })\n        .catch( err => setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        }))\n\n      },\n      onStartDrawing: (shapeType, color, x, y, strokeWidth) =>\n        setShape((prev) => ({\n          ...prev,\n          [shapeType]: {\n            ...prev[shapeType],\n            startDrawing: true,\n            stroke: color,\n            fill: (prev[shapeType].fill.length !== 0 ? color : \"\"),\n            x,\n            y,\n            radius: 10,\n            strokeWidth,\n          },\n        })),\n        clearDrawingObj: () => setShape((prev) => ({\n          ...shape,\n          circles: {\n            ...prev.circles,\n            startDrawing: false,\n            x: 0,\n            y: 0,\n            radius: 0,\n          },\n        }))\n    },\n    rectangles: {\n      type: \"rectangles\",\n      startDrawing: false,\n      isDrawing: false,\n      stroke: \"black\",\n      strokeWidth: 1,\n      fill: \"\",\n      height: 0,\n      width: 0,\n      drawingFunc: (obj) => <Rect {...obj} />,\n      updateSize: (e, x, y, prev) => {\n        setShape({\n          ...shape,\n          rectangles: { ...prev, width: x - prev.x, height: y - prev.y },\n        });\n      },\n      endDrawing: (prop) => {\n        const sendObj = {\n          x: prop.x,\n          y: prop.y,\n          fill: prop.fill,\n          height: prop.height,\n          width: prop.width,\n          stroke: prop.stroke,\n          strokeWidth: prop.strokeWidth,\n        }\n        fetch(`${BASE_URL}/whiteboards/${match.params.id}/rectangles`, {\n          method: 'POST',\n          headers: {\n            Authorization: localStorage.getItem(\"token\"),\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(sendObj)\n        })\n        .then( r => r.json())\n        .then( resp => {\n          isErrorResponse(resp);\n          setShapes((prev) => [...prev, resp]);\n          setShape((prev) => ({\n          ...shape,\n          rectangles: {\n            ...prev.rectangles,\n            startDrawing: false,\n            x: 0,\n            y: 0,\n            height: 0,\n            width: 0,\n          },\n        }));\n        isDrawShape(resp);\n        })\n        .catch( err => setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        }))\n\n      },\n      onStartDrawing: (shapeType, color, x, y, strokeWidth) =>\n        setShape((prev) => ({\n          ...prev,\n          [shapeType]: {\n            ...prev[shapeType],\n            startDrawing: true,\n            stroke: color,\n            fill: (prev[shapeType].fill.length !== 0 ? color : \"\"),\n            x,\n            y,\n            height: 10,\n            width: 10,\n            strokeWidth,\n          },\n        })),\n        clearDrawingObj: () => setShape((prev) => ({\n          ...shape,\n          rectangles: {\n            ...prev.rectangles,\n            startDrawing: false,\n            x: 0,\n            y: 0,\n            height: 0,\n            width: 0,\n          },\n        }))\n    },\n    textBoxes: {\n      type: \"textBoxes\",\n      startDrawing: false,\n      isDrawing: false,\n      text: \"\",\n      fontSize: 12,\n      fontStyle: \"normal\",\n      fill: \"black\",\n      textDecoration: '',\n      drawingFunc: (obj) => <Text {...obj} />,\n      updateSize: (prop, value) => {\n        setShape(prev => ({\n          ...shape,\n          textBoxes: { ...prev.textBoxes, [prop]: value },\n        }));\n      },\n      endDrawing: (prop) => {\n        const sendObj = {\n          x: prop.x,\n          y: prop.y,\n          fill: prop.fill,\n          text: prop.text,\n          fontStyle: prop.fontStyle,\n          fontSize: prop.fontSize,\n          textDecoration: prop.textDecoration,\n        }\n        fetch(`${BASE_URL}/whiteboards/${match.params.id}/textBoxes`, {\n          method: 'POST',\n          headers: {\n            Authorization: localStorage.getItem(\"token\"),\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(sendObj)\n        })\n        .then( r => r.json())\n        .then( resp => {\n          isErrorResponse(resp);\n          setShapes((prev) => [...prev, resp]);\n          setShape((prev) => ({\n          ...shape,\n          textBoxes: {\n            ...prev.textBoxes,\n            startDrawing: false,\n            text: \"\",\n          },\n        }));\n        isDrawShape(resp);\n        })\n        .catch( err => setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        }))\n\n      },\n      onStartDrawing: (shapeType, color, x, y) => {\n      // console.log(`from onStart ${fontSize}`)\n        setShape((prev) => ({\n          ...prev,\n          [shapeType]: {\n            ...prev[shapeType],\n            startDrawing: true,\n            text: \"\",\n            // fontSize: fontSize,\n            fill: color,\n            x,\n            y,\n            // height: 10,\n            // width: 10,\n          },\n        }))},\n      clearDrawingObj: () => setShape((prev) => ({\n        ...shape,\n        textBoxes: {\n          ...prev.textBoxes,\n          startDrawing: false,\n          text: \"\",\n        },\n      }))\n    },\n  }); // for add new shape need only to add property obj here !!!\n\n  // const [shapes, setShapes] = useState(Object.keys(currentWhiteboard).reduce((acc, value) => {\n  //   if (typeof currentWhiteboard[value] === 'object') {\n  //     return [...acc, ...currentWhiteboard[value]]\n  //   }\n  //   return acc\n  // }, []).sort((a, b) => a.itemPosition - b.itemPosition));\n\n  // console.log(shape.lines);\n  useEffect(() => {\n    if (location.pathname.includes('undo')) {\n      undo(shapes, history)\n    } else if (location.pathname.includes('redo')) {\n      redo(setShapes, history)\n    } else {\n      return\n    }\n    // if (location.pathname.includes('incoming-shape')) {\n    //   console.log('from drawingPage effect');\n    //   history.goBack();\n    // }\n  }, [location.pathname])\n\n  // useEffect(() => {\n  //   socketRef.current = io(\"http://localhost:3000/chat\");\n\n  //   // socketRef.current.on(\"come-message\", (incomingMsg) => {\n  //   //   setAvatar(\n  //   //     \"https://cnet2.cbsistatic.com/img/liJ9UZA87zs1viJiuEfVnL7YYfw=/940x0/2020/05/18/5bac8cc1-4bd5-4496-a8c3-66a6cd12d0cb/fb-avatar-2.jpg\"\n  //   //   );\n  //   //   addResponseMessage(incomingMsg.message);\n  //   // });\n  //   // socketRef.current.on(\"joinedToRoom\", (data) => {\n  //   //   addResponseMessage(data);\n  //   // });\n\n  //   // if (currentWhiteboard && user) {\n  //   //   socketRef.current.emit(\"joinRoom\", {\n  //   //     room: currentWhiteboard.id,\n  //   //     userName: user.userName,\n  //   //   });\n  //   // }\n  //   socketRef.current.on(\"incomingMousePoints\", (data) => {\n  //     const user = sharedUsers.find((x) => x.id === data.userId);\n  //     if (user) {\n  //       setSharedUsers([\n  //         ...sharedUsers,\n  //         {\n  //           ...user,\n  //           mouseX: data.mouseX,\n  //           mouseY: data.mouseY,\n  //         },\n  //       ]);\n  //     } else {\n  //       setSharedUsers([\n  //         ...sharedUsers,\n  //         {\n  //           id: data.id,\n  //           avatar: data.avatar,\n  //           mouseX: data.mouseX,\n  //           mouseY: data.mouseY,\n  //         },\n  //       ]);\n  //     }\n  //   });\n  // }, []);\n\n  const updateShapeProp = (shapeType, prop, token = false, erase = true) => {\n    if (token) {\n      Object.keys(shape)\n      .filter((y) => y !== shapeType)\n      .map((x) => (shape[x].isDrawing = false));\n    }\n\n    if (erase) {\n      setIsErase(false)\n    }\n\n    setShape(prev => ({\n      ...prev,                                    // update funk with setIsDrawing funk\n      [shapeType]: {\n        ...prev[shapeType],\n        ...prop,\n        // [prop]: value,\n      }\n    }));\n\n  }\n\n  // const shareMouseHandler = (x, y) => {\n  //   setShareMouse({ isShare: true, mouseX: y, mouseY: x });\n  //   socketRef.current.emit(\"sendMousePoints\", {\n  //     user: user.id,\n  //     mouseX: y,\n  //     mouseY: x,\n  //     avatar: user.avatarURL,\n  //     room: currentWhiteboard.id,\n  //   });\n  // };\n  const mouseDown = (e, x, y) => {\n    if (!location.pathname.includes('guest')) {\n      if (isAddComment.isActive) {\n        setIsAddComment(prev => ({...prev, x, y}))\n      }\n    }\n\n    const shapeType = Object.keys(shape).find((x) => shape[x].isDrawing);\n    if (shapeType) {\n      if (shapeType === 'lines' && isErase) {\n        shape[shapeType].onStartDrawing(shapeType, '#fafafa', x, y, strokeWidth);\n      } else {\n        // console.log(fontSize);\n        shape[shapeType].onStartDrawing(shapeType, color, x, y, strokeWidth);\n      }\n    }\n  };\n\n  // console.log(isErase);\n\n  const mouseMove = (e, x, y) => {\n    if (isShareMouse) {\n      if (\n        Math.abs(shareMouse.mouseX - y) > 10 ||\n        Math.abs(shareMouse.mouseY - x) > 10\n      ) {\n        shareMouseHandler(x, y);\n      }\n    }\n    const shapeType = Object.keys(shape).find(\n      (x) => shape[x].isDrawing && shape[x].startDrawing\n    );\n    if (shapeType) {\n      if (shapeType !== 'textBoxes') {\n        shape[shapeType].updateSize(e, x, y, shape[shapeType]);\n      }\n\n      // setShape({\n      //   ...shape,\n      //   [shapeType]: {\n      //     ...shape[shapeType],\n      //     points: [...shape[shapeType].points, x, y],\n      //   },\n      // });\n    }\n  };\n  const mouseUp = (e) => {\n    const shapeType = Object.keys(shape).find(\n      (x) => shape[x].isDrawing && shape[x].startDrawing\n    );\n    if (shapeType) {\n      if (shapeType !== 'textBoxes') {\n        if (user) {\n          shape[shapeType].endDrawing(shape[shapeType]);\n        } else {\n          setShapes([...shapes, shape[shapeType]]);\n          shape[shapeType].clearDrawingObj();\n        }\n      }\n    }\n  };\n\n  // const shareHandler = (e) =>\n  //   setShareMouse({ ...shareMouse, isShare: !shareMouse.isShare });\n\n  const renderSingleDrawingElement = () => {\n    const shapeType = Object.keys(shape).find(\n      (x) => shape[x].isDrawing && shape[x].isDrawing\n    );\n\n    return shape[shapeType]\n      ? shape[shapeType].drawingFunc(shape[shapeType])\n      : null;\n  };\n\n  console.log(comments);\n\n\n  return (\n    <React.Fragment>\n      <Stage\n        onMouseDown={(e) => mouseDown(e, e.evt.offsetX, e.evt.offsetY)}\n        onMouseMove={(e) => mouseMove(e, e.evt.offsetX, e.evt.offsetY)}\n        onMouseUp={(e) => mouseUp(e)}\n        height={window.innerHeight}\n        width={window.innerWidth}\n        // draggable={mouseUp ? false : true}\n      >\n        <Layer>\n          {shapes.length !== 0\n            ? shapes.sort((a, b) => a.itemPosition - b.itemPosition).map((x) => shape[x.type].drawingFunc(x))\n            : null}\n          {renderSingleDrawingElement()}\n        </Layer>\n      </Stage>\n      {/* { user ? <Widget\n        handleNewUserMessage={handleNewUserMessage}\n        // showTimeStamp={false}\n        profileAvatar={avatar}\n        title={\"Chat\"}\n        display={\"inline-block\"}\n      /> : null } */}\n      {/* {currentWhiteboard ? <Chat currentWhiteboard={currentWhiteboard} /> : null} */}\n      <TextBoxKonva shapeTextBoxes={shape.textBoxes} setShapes={setShapes} color={color} />\n      {/* <Chat socketRef={socketRef} /> */}\n      <div style={{position: 'fixed', bottom: '720px', left: '10px'}}>\n      {/* <DrawExtrasWidget updateShapeProp={updateShapeProp} color={color} /> */}\n      <DrawTextWidget updateShapeProp={updateShapeProp} color={color} />\n      <DrawRectangleWidget updateShapeProp={updateShapeProp} color={color} />\n      <DrawCircleWidget updateShapeProp={updateShapeProp} color={color} />\n      <DrawBrushWidget updateShapeProp={updateShapeProp} color={color} />\n      <DrawPencilWidget setStrokeWidth={setStrokeWidth} updateShapeProp={updateShapeProp} color={color} strokeWidth={strokeWidth} />\n      <DrawEraserWidget setIsErase={setIsErase} updateShapeProp={updateShapeProp} strokeWidth={strokeWidth} />\n      </div>\n      {!location.pathname.includes('guest') && sharedUsers.length !== 0\n        ? sharedUsers.map((user) => (\n            <Avatar\n              key={user.id}\n              src={user.avatar}\n              alt={`${user.userName}`}\n              style={{\n                position: \"absolute\",\n                top: user.mouseX,\n                left: user.mouseY,\n              }}\n            />\n          ))\n        : null}\n        { !location.pathname.includes('guest') ? <CommentInput isAddComment={isAddComment} setComments={setComments} setIsAddComment={setIsAddComment} isDrawShape={isDrawShape} /> : null }\n      { comments.length && !location.pathname.includes('guest') ? comments.map( x => <SingleComment key={x.id} {...x} />) : null }\n    </React.Fragment>\n  );\n};\n\nDrawingPage.propTypes = {\n  color: propTypes.string.isRequired,\n  currentWhiteboard: propTypes.object.isRequired,\n  match: propTypes.object.isRequired,\n  shareMouse: propTypes.object.isRequired,\n  setShareMouse: propTypes.func.isRequired,\n  sharedUsers: propTypes.array.isRequired,\n  shareMouseHandler: propTypes.func.isRequired,\n  location: propTypes.object.isRequired,\n  undo: propTypes.func.isRequired,\n  history: propTypes.object.isRequired,\n  redo: propTypes.func.isRequired,\n  isShareMouse: propTypes.bool.isRequired,\n\n};\n\nexport default withRouter(DrawingPage);\n","// *https://www.registers.service.gov.uk/registers/country/use-the-api*\nimport React, { useContext, useEffect, useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport {\n  BASE_URL,\n  exceptionStatus,\n  isErrorResponse,\n} from \"../../../Constants/Constant\";\nimport { withRouter } from \"react-router-dom\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport AuthContext from \"../../../Providers/Context/AuthContext\";\nimport propType from 'prop-types';\n\nconst SearchWhiteboard = ({ setIsSearchBoard, history, match, leaveRoom }) => {\n  const { user } = useContext(AuthContext);\n  const { setOpen } = useContext(ExceptionContext);\n  const [openAutocomplete, setOpenAutocomplete] = useState(false);\n  const [options, setOptions] = useState([]);\n  const loading = openAutocomplete && options.length === 0;\n  useEffect(() => {\n    if (!loading) {\n      return undefined;\n    }\n\n    fetch(`${BASE_URL}/whiteboards`, {\n      headers: {\n        Authorization: localStorage.getItem(\"token\"),\n      },\n    })\n      .then((r) => (r.status >= 500 ? history.push(\"/servererror\") : r.json()))\n      .then((resp) => {\n        isErrorResponse(resp);\n        setOptions([...resp.filter(x => x.id !== match.params.id)]);\n      })\n      .catch((err) =>\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        })\n      );\n  }, [loading, setOpen, user]);\n\n  return (\n    <Autocomplete\n      id=\"asynchronous-demo\"\n      style={{ width: 200 }}\n      open={openAutocomplete}\n      onOpen={() => {\n        setOpenAutocomplete(true);\n      }}\n      onClose={() => {\n        setOpenAutocomplete(false);\n      }}\n      getOptionSelected={(option, value) => option.name === value.name}\n      getOptionLabel={(option) => option.name}\n      options={options}\n      loading={loading}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          onKeyPress={(e) => {\n            if (e.key === \"Enter\") {\n              const whiteboard = options.find((x) => x.name === e.target.value);\n              if (whiteboard) {\n                localStorage.setItem(\"lastBoard\", whiteboard.id);\n                leaveRoom(match.params.id);\n                history.push(`/profile/${whiteboard.id}`);\n              } else {\n                setOpen({\n                  value: true,\n                  msg: `Whiteboard: ${e.target.value} not exist`,\n                  statusType: exceptionStatus.error,\n                });\n              }\n              setIsSearchBoard(false);\n            }\n          }}\n          onKeyDown={(e) => {\n            if (e.key === \"Escape\") {\n              setIsSearchBoard(false);\n            }\n          }}\n          label=\"Search whiteboard\"\n          variant=\"outlined\"\n          InputProps={{\n            ...params.InputProps,\n            endAdornment: (\n              <React.Fragment>\n                {loading ? (\n                  <CircularProgress color=\"inherit\" size={20} />\n                ) : null}\n                {params.InputProps.endAdornment}\n              </React.Fragment>\n            ),\n          }}\n        />\n      )}\n    />\n  );\n};\n\nSearchWhiteboard.propType = {\n  history: propType.object.isRequired,\n  match: propType.object.isRequired,\n  setIsSearchBoard: propType.func.isRequired,\n  leaveRoom: propType.func.isRequired,\n};\nexport default withRouter(SearchWhiteboard);\n","import React, { useContext, useState } from \"react\";\nimport {\n  Modal,\n  makeStyles,\n  Fade,\n  Container,\n  Grid,\n  Button,\n  TextField,\n  Typography,\n  Select,\n  InputLabel,\n  FormControl,\n} from \"@material-ui/core\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {\n  BASE_URL,\n  exceptionStatus,\n  isErrorResponse,\n} from \"../../../Constants/Constant\";\nimport LoadingContext from \"../../../Providers/Context/LoadingContext\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport Loading from \"../Loading/Loading\";\nimport { withRouter } from 'react-router-dom';\n\nconst CreateBoard = ({ isCreateWhiteboard, setIsCreateWhiteboard, history, leaveRoom, match }) => {\n  const useStyles = makeStyles((theme) => ({\n    notchedOutline: {\n      borderWidth: \"1px\",\n      borderColor: \"#6fa241 !important\"\n    },\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    // formControl: {\n    //     margin: theme.spacing(1),\n    //     minWidth: 120,\n    //   },\n    //   selectEmpty: {\n    //     marginTop: theme.spacing(2),\n    //   },\n  }));\n  const classes = useStyles();\n\n  const { loading, setLoading } = useContext(LoadingContext);\n  const { setOpen } = useContext(ExceptionContext);\n  const [createBoard, setCreateBoard] = useState({\n    isValid: true,\n    isTouched: false,\n    value: \"\",\n    isPublic: \"public\",\n  });\n  const updateState = (prop, value) => {\n    setCreateBoard({\n      isTouched: true,\n      value,\n      isPublic: createBoard.isPublic,\n      isValid: userValidation[prop].reduce(\n        (acc, validateFn) => acc && typeof validateFn(value) === \"boolean\",\n        true\n      ),\n    });\n  };\n\n  const userValidation = {\n    boardName: [\n      (data) => data?.length >= 2 || \"Board name field must be 2 or more chars\",\n    ],\n  };\n\n  const renderError = (prop) => {\n    return createBoard.isTouched\n      ? userValidation[prop]\n          .map((fn) => fn(createBoard.value))\n          .filter((x) => typeof x === \"string\")\n          .map((err, index) => (\n            <p key={index} style={{ color: \"red\" }}>\n              {err}\n            </p>\n          ))\n      : null;\n  };\n\n  const create = () => {\n    setLoading(true);\n    const sendObj = {\n      name: createBoard.value,\n      isPublic: createBoard.isPublic === 'public' ? true : false,\n    };\n    console.log(sendObj);\n    fetch(`${BASE_URL}/whiteboards`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: localStorage.getItem(\"token\"),\n      },\n      body: JSON.stringify(sendObj),\n    })\n       .then((r) => r.status >= 500 ? history.push('/servererror') : r.json())\n      .then((resp) => {\n        console.log(resp);\n        isErrorResponse(resp);\n        setOpen({\n          value: true,\n          msg: `${resp.name} is created!`,\n          statusType: exceptionStatus.success,\n        });\n        localStorage.setItem('lastBoard', resp.id);\n        leaveRoom(match.params.id)\n        history.push(`${resp.id}`);\n      })\n      .catch((err) => {\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        });\n      })\n      .finally(\n        () => {\n          setLoading(false);\n          setIsCreateWhiteboard(false);\n          setCreateBoard({\n            isValid: true,\n            isTouched: false,\n            value: \"\",\n            isPublic: true,\n          })\n        }\n      );\n  };\n\n  // const handleChangeIsPublic = (value) => {\n  //   setCreateBoard({\n  //     ...createBoard,\n  //     isPublic: value === 'Public' ? true : false,\n  //   });\n  // };\n\n  const handleChange = (event) => {\n    const name = event.target.name;\n    setCreateBoard({\n      ...createBoard,\n      [name]: event.target.value\n    });\n  };\n\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={isCreateWhiteboard}\n      onClose={(e) => setIsCreateWhiteboard(false)}\n      //   closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={isCreateWhiteboard}>\n        <div className={classes.paper}>\n          {loading ? <Loading /> : null}\n          <Container component=\"main\" maxWidth=\"xl\">\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n              Create Whiteboard\n            </Typography>\n            <form className={classes.form} noValidate>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <TextField\n                    name=\"createBoard\"\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    InputProps={{\n                      classes: {\n                        notchedOutline: classes.notchedOutline\n                      }\n                    }}\n                    id=\"createBoard\"\n                    label=\"Create Whiteboard\"\n                    autoFocus\n                    value={createBoard.value}\n                    error={!createBoard.isValid}\n                    // onKeyPress={(e) =>  e.key === 'Enter' ? e.defaultPrevented() : null }\n                    onChange={(e) => updateState(\"boardName\", e.target.value)}\n                  />\n                  {renderError(\"boardName\")}\n                </Grid>\n                <Grid item xs={12}>\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    fullWidth\n                    InputProps={{\n                      classes: {\n                        notchedOutline: classes.notchedOutline\n                      }\n                    }}\n                  >\n                    <InputLabel htmlFor=\"outlined-age-native-simple\">\n                      {createBoard.isPublic === \"public\" ? \"Public\" : \"Private\"}\n                    </InputLabel>\n                    <Select\n                      native\n                      fullWidth\n                      inputProps={{\n                      classes: {\n                        notchedOutline: classes.notchedOutline\n                      }\n                    }}\n                      placeholder={createBoard.isPublic ? 'Public' : 'Private'}\n                      variant=\"outlined\"\n                      value={createBoard.isPublic}\n                      onChange={handleChange}\n                      label=\"Visible\"\n                        inputProps={{\n                          name: \"isPublic\",\n                          id: \"outlined-public\",\n                        }}\n                    >\n                      <option value={'public'}>Public</option>\n                      <option value={'private'}>Private</option>\n                    </Select>\n                  </FormControl>\n                </Grid>\n                <Grid item xs={12}>\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}\n                    className={classes.submit}\n                    onClick={(e) => create()}\n                    disabled={!createBoard.isValid || !createBoard.isTouched}\n                  >\n                    Create\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}\n                    onClick={(e) => {\n                      setIsCreateWhiteboard(false);\n                      setCreateBoard({\n                      isValid: true,\n                      isTouched: false,\n                      value: \"\",\n                      isPublic: \"public\",\n                    })}}\n                  >\n                    Cancel\n                  </Button>\n                </Grid>\n              </Grid>\n            </form>\n          </Container>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\nexport default withRouter(CreateBoard);\n","import React, { useContext, useState } from \"react\";\nimport {\n  Modal,\n  makeStyles,\n  Fade,\n  Container,\n  Grid,\n  Button,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {\n  BASE_URL,\n  exceptionStatus,\n  isErrorResponse,\n} from \"../../../Constants/Constant\";\nimport LoadingContext from \"../../../Providers/Context/LoadingContext\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport Loading from \"../Loading/Loading\";\n\nconst ChangePassword = ({ isChangePassword, setIsChangePassword, history }) => {\n  const useStyles = makeStyles((theme) => ({\n    notchedOutline: {\n      borderWidth: \"1px\",\n      borderColor: \"#6fa241 !important\"\n    },\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n  const classes = useStyles();\n\n  const { loading, setLoading } = useContext(LoadingContext);\n  const { setOpen } = useContext(ExceptionContext);\n  const [changePassword, setChangePassword] = useState({\n    currentPassword: {\n      isValid: true,\n      isTouched: false,\n      value: \"\",\n    },\n    repeatPassword: {\n      isValid: true,\n      isTouched: false,\n      value: \"\",\n    },\n    newPassword: {\n      isValid: true,\n      isTouched: false,\n      value: \"\",\n    },\n  });\n  const updateState = (prop, value) => {\n    setChangePassword({\n      ...changePassword,\n      [prop]: {\n        isTouched: true,\n        value,\n        isValid: userValidation[prop].reduce((acc, validateFn) => acc && (typeof validateFn(value) === 'boolean'), true)\n      }\n    })\n  }\n\n  const userValidation = {\n    newPassword: [\n        (data) =>\n          /^[a-zA-Z0-9]{6,16}$/.test(data) || \"Password must have 6 to 16 characters\",\n        (data) =>\n          /\\d/.test(data) || \"Password must contain minimum 1 digit\",\n        (data) =>\n          /[A-Z]/.test(data) || \"Password must contain minimum 1 upper case alphabet\",\n      ],\n      repeatPassword: [\n        (data) => changePassword.currentPassword.value === data || \"Password not match\",\n      ],\n      currentPassword: [\n        (data) => changePassword.currentPassword.value.length !== data || \"Enter password\",\n      ],\n  };\n\n  const renderError = (prop) => {\n    return changePassword[prop].isTouched ? userValidation[prop]\n    .map(fn => fn(changePassword[prop].value))\n    .filter( x => typeof x === 'string')\n    .map( (err, index) => <p key={index} style={{color: 'red'}}>{err}</p>) : null\n  };\n\n  const update = () => {\n    setLoading(true);\n    const sendObj = {\n      currentPassword: changePassword.currentPassword.value,\n      newPassword: changePassword.newPassword.value\n    };\n    fetch(`${BASE_URL}/users`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: localStorage.getItem(\"token\"),\n      },\n      body: JSON.stringify(sendObj),\n    })\n      .then((r) => r.status >= 500 ? history.push('/servererror') : r.json())\n      .then((resp) => {\n        console.log(resp);\n        isErrorResponse(resp);\n        setOpen({\n          value: true,\n          msg: 'Password changed!',\n          statusType: exceptionStatus.success,\n        });\n      })\n      .catch((err) => {\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        });\n      })\n      .finally(() => {\n        setLoading(false);\n        setIsChangePassword(false);\n        setChangePassword({\n        currentPassword: {\n          isValid: true,\n          isTouched: false,\n          value: \"\",\n        },\n        repeatPassword: {\n          isValid: true,\n          isTouched: false,\n          value: \"\",\n        },\n        newPassword: {\n          isValid: true,\n          isTouched: false,\n          value: \"\",\n        },\n      })})\n  };\n\n  const isDisable = () => {\n    return !Object.values(changePassword).reduce((acc, value) => {\n      return value.isTouched && value.isValid && acc ? true : false\n    }, true)\n  };\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={isChangePassword}\n      onClose={(e) => setIsChangePassword(false)}\n      //   closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={isChangePassword}>\n        <div className={classes.paper}>\n          {loading ? <Loading /> : null}\n          <Container component=\"main\" maxWidth=\"xl\">\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n              Change Password\n            </Typography>\n            <form className={classes.form} noValidate>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                <TextField\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    InputProps={{\n                      classes: {\n                        notchedOutline: classes.notchedOutline\n                      }\n                    }}\n                    name=\"password\"\n                    label=\"Password\"\n                    type=\"password\"\n                    id=\"password\"\n                    autoComplete=\"password\"\n                    value={changePassword.currentPassword.value}\n                    error={!changePassword.currentPassword.isValid}\n                    onChange={(e) =>\n                      updateState(\"currentPassword\", e.target.value.trim())\n                    }\n                  />\n                  </Grid>\n                  <Grid item xs={12}>\n                  <TextField\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    InputProps={{\n                      classes: {\n                        notchedOutline: classes.notchedOutline\n                      }\n                    }}\n                    name=\"Confirm-password\"\n                    label=\"Confirm password\"\n                    type=\"password\"\n                    id=\"confirm-password\"\n                    autoComplete=\"repeat-password\"\n                    value={changePassword.repeatPassword.value}\n                    error={!changePassword.repeatPassword.isValid}\n                    onChange={(e) =>\n                      updateState(\"repeatPassword\", e.target.value.trim())\n                    }\n                  />\n                  {renderError(\"repeatPassword\")}\n                  </Grid>\n                  <Grid item xs={12}>\n                  <TextField\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    InputProps={{\n                      classes: {\n                        notchedOutline: classes.notchedOutline\n                      }\n                    }}\n                    name=\"new-password\"\n                    label=\"New Password\"\n                    type=\"password\"\n                    id=\"new-password\"\n                    autoComplete=\"new-password\"\n                    value={changePassword.newPassword.value}\n                    error={!changePassword.newPassword.isValid}\n                    onChange={(e) =>\n                      updateState(\"newPassword\", e.target.value.trim())\n                    }\n                  />\n                  {renderError(\"newPassword\")}\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}\n                    className={classes.submit} \n                    onClick={(e) => update()}\n                    disabled={isDisable()}\n                  >\n                    Update\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}\n                    onClick={(e) => setIsChangePassword(false)}\n                  >\n                    Cancel\n                  </Button>\n                </Grid>\n              </Grid>\n            </form>\n          </Container>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\nexport default ChangePassword;\n","import React from 'react';\nimport { SketchPicker } from 'react-color';\nimport propTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\n\nconst ColorPalette = ({color, setColor, match}) => {\n\n    return match.params.id !== 'my' ? (\n        <div\n      style={{\n        position: \"absolute\",\n        marginTop: \"40px\",\n        display: \"inline-block\",\n      }}\n    >\n      <SketchPicker\n        color={color}\n        onChange={(color) => {\n          setColor(color.hex);\n        }}\n      />\n    </div>\n    ) : null\n\n};\n\nColorPalette.propTypes = {\n    color: propTypes.string.isRequired,\n    setColor: propTypes.func.isRequired,\n    match: propTypes.object.isRequired,\n}\n\nexport default withRouter(ColorPalette)\n","import React, { useContext, useState } from \"react\";\nimport {\n  Modal,\n  makeStyles,\n  Fade,\n  Container,\n  Grid,\n  Button,\n  Typography,\n} from \"@material-ui/core\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {\n  BASE_URL,\n  exceptionStatus,\n  isErrorResponse,\n} from \"../../../Constants/Constant\";\nimport LoadingContext from \"../../../Providers/Context/LoadingContext\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport Loading from \"../Loading/Loading\";\nimport { withRouter } from 'react-router-dom';\n\nconst DeleteBoard = ({isDeleteBoard, setIsDeleteBoard, match, history}) => {\n  const useStyles = makeStyles((theme) => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n  const classes = useStyles();\n\n  const { loading, setLoading } = useContext(LoadingContext);\n  const { setOpen } = useContext(ExceptionContext);\n  const [showDeleteButton, setShowDeleteButton] = useState(true);\n\n  const deleteBoard = () => {\n    setLoading(true);\n    fetch(`${BASE_URL}/whiteboards/${match.params.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: localStorage.getItem(\"token\"),\n      },\n    })\n      .then((r) => r.status >= 500 ? history.push('/servererror') : r.text())\n      .then((resp) => {\n        isErrorResponse(resp);\n        setOpen({\n          value: true,\n          msg: `Board is deleted!`,\n          statusType: exceptionStatus.success,\n        });\n        localStorage.removeItem('lastBoard');\n        history.push('/home');\n      })\n      .catch((err) => {\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        });\n      })\n      .finally(\n        () => {\n          setLoading(false);\n          setIsDeleteBoard(false);\n        }\n      );\n  };\n\n  const toggleDeleteButton = showDeleteButton ? <Grid item xs={12}>\n  <Button\n    type=\"button\"\n    fullWidth\n    variant=\"contained\"\n    color=\"primary\"\n    style={{backgroundColor: \"#6fa241\"}}\n    className={classes.submit}\n    onClick={(e) => setShowDeleteButton(false)}\n  >\n    Delete\n  </Button></Grid> : null\n\n  const toggleConfirmGroup = !showDeleteButton ? <Grid item xs={12}>\n  <Button\n    type=\"button\"\n    fullWidth\n    variant=\"contained\"\n    color=\"primary\"\n    style={{backgroundColor: \"#6fa241\"}}\n    className={classes.submit}\n    onClick={(e) => deleteBoard()}\n  >\n    Confirm\n  </Button>\n  <Button\n    type=\"button\"\n    fullWidth\n    variant=\"contained\"\n    color=\"primary\"\n    style={{backgroundColor: \"#6fa241\"}}\n    onClick={(e) => {\n      setIsDeleteBoard(false);\n    }}\n  >\n    Cancel\n  </Button>\n</Grid> : null\n\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={isDeleteBoard}\n      onClose={(e) => setIsDeleteBoard(false)}\n      //   closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={isDeleteBoard}>\n        <div className={classes.paper}>\n          {loading ? <Loading /> : null}\n          <Container component=\"main\" maxWidth=\"xl\">\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n              { showDeleteButton ? 'Delete Whiteboard' : 'Are you sure to delete this board ?' }\n            </Typography>\n            <form className={classes.form} noValidate>\n              <Grid container spacing={2}>\n                {toggleDeleteButton}\n                {toggleConfirmGroup}\n              </Grid>\n            </form>\n          </Container>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\nexport default withRouter(DeleteBoard);\n","import React, { useContext, useState } from \"react\";\nimport {\n  Modal,\n  makeStyles,\n  Fade,\n  Container,\n  Grid,\n  Button,\n  TextField,\n  Typography,\n  Select,\n  InputLabel,\n  FormControl,\n} from \"@material-ui/core\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {\n  BASE_URL,\n  exceptionStatus,\n  isErrorResponse,\n} from \"../../../Constants/Constant\";\nimport LoadingContext from \"../../../Providers/Context/LoadingContext\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport Loading from \"../Loading/Loading\";\nimport { withRouter } from 'react-router-dom';\nimport propType from 'prop-types';\n\nconst UpdateBoard = ({\n  isUpdateBoard,\n  setIsUpdateBoard,\n  currentWhiteboard,\n  history,\n  match,\n}) => {\n  const useStyles = makeStyles((theme) => ({\n    notchedOutline: {\n      borderWidth: \"1px\",\n      borderColor: \"#6fa241 !important\"\n    },\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    // formControl: {\n    //     margin: theme.spacing(1),\n    //     minWidth: 120,\n    //   },\n    //   selectEmpty: {\n    //     marginTop: theme.spacing(2),\n    //   },\n  }));\n  const classes = useStyles();\n\n  const { loading, setLoading } = useContext(LoadingContext);\n  const { setOpen } = useContext(ExceptionContext);\n  const [updateBoard, setUpdateBoard] = useState({\n    name: {\n      isValid: true,\n      isTouched: false,\n      value: currentWhiteboard?.name,\n    },\n    isPublic: currentWhiteboard?.isPublic ? \"public\" : \"private\",\n  });\n  const updateState = (prop, value) => {\n    setUpdateBoard((prev) => ({\n      isPublic: updateBoard.isPublic,\n      [prop]: {\n        isTouched: true,\n        value,\n        isValid: userValidation[prop].reduce(\n          (acc, validateFn) => acc && typeof validateFn(value) === \"boolean\",\n          true\n        ),\n      },\n    }));\n  };\n\n  const userValidation = {\n    name: [\n      (data) => data?.length >= 2 || \"Board name field must be 2 or more chars\",\n    ],\n  };\n\n  const renderError = (prop) => {\n    return updateBoard.isTouched\n      ? userValidation[prop]\n          .map((fn) => fn(updateBoard.value))\n          .filter((x) => typeof x === \"string\")\n          .map((err, index) => (\n            <p key={index} style={{ color: \"red\" }}>\n              {err}\n            </p>\n          ))\n      : null;\n  };\n\n  const updateBoardFunc = () => {\n    setLoading(true);\n    const sendObj = {\n      name: updateBoard.name.value,\n      isPublic: updateBoard.isPublic === \"public\" ? true : false,\n    };\n    fetch(`${BASE_URL}/whiteboards/${match.params.id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: localStorage.getItem(\"token\"),\n      },\n      body: JSON.stringify(sendObj),\n    })\n      .then((r) => r.status >= 500 ? history.push('/servererror') : r.json())\n      .then((resp) => {\n        isErrorResponse(resp);\n        setOpen({\n          value: true,\n          msg: `${resp.name} is updated!`,\n          statusType: exceptionStatus.success,\n        });\n      })\n      .catch((err) => {\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        });\n      })\n      .finally(() => {\n        setLoading(false);\n        setIsUpdateBoard(false);\n        setUpdateBoard({\n          name: {\n            isValid: true,\n            isTouched: false,\n            value: \"\",\n          },\n          isPublic: currentWhiteboard?.isPublic,\n        });\n      });\n  };\n\n  // const handleChangeIsPublic = (value) => {\n  //   setCreateBoard({\n  //     ...createBoard,\n  //     isPublic: value === 'Public' ? true : false,\n  //   });\n  // };\n\n  const handleChange = (event) => {\n    const name = event.target.name;\n    setUpdateBoard({\n      ...updateBoard,\n      [name]: event.target.value,\n    });\n  };\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={isUpdateBoard}\n      onClose={(e) => setIsUpdateBoard(false)}\n      //   closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={isUpdateBoard}>\n        <div className={classes.paper}>\n          {loading ? <Loading /> : null}\n          <Container component=\"main\" maxWidth=\"xl\">\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n              {currentWhiteboard?.name}\n            </Typography>\n            <form className={classes.form} noValidate>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <TextField\n                    name=\"updateBoard\"\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    InputProps={{\n                      classes: {\n                        notchedOutline: classes.notchedOutline\n                      }\n                    }}\n                    id=\"updateBoard\"\n                    label=\"Update Whiteboard name\"\n                    autoFocus\n                    value={updateBoard.name.value}\n                    error={!updateBoard.name.isValid}\n                    // onKeyPress={(e) =>  e.key === 'Enter' ? e.defaultPrevented() : null }\n                    onChange={(e) => updateState(\"name\", e.target.value)}\n                  />\n                  {renderError(\"name\")}\n                </Grid>\n                <Grid item xs={12}>\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    fullWidth\n                  >\n                    <InputLabel htmlFor=\"outlined-age-native-simple\">\n                      {updateBoard.isPublic === \"public\" ? \"Public\" : \"Private\"}\n                    </InputLabel>\n                    <Select\n                      native\n                      fullWidth\n                      placeholder={updateBoard.isPublic ? \"Public\" : \"Private\"}\n                      variant=\"outlined\"\n                      value={updateBoard.isPublic}\n                      onChange={handleChange}\n                      label=\"Visible\"\n                      inputProps={{\n                        name: \"isPublic\",\n                        id: \"outlined-public\",\n                      }}\n                    >\n                      <option value={\"public\"}>Public</option>\n                      <option value={\"private\"}>Private</option>\n                    </Select>\n                  </FormControl>\n                </Grid>\n                <Grid item xs={12}>\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}\n                    className={classes.submit}\n                    onClick={(e) => updateBoardFunc()}\n                    disabled={!updateBoard.name.isValid || !updateBoard.name.isTouched}\n                  >\n                    Update\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}                    onClick={(e) => {\n                      setIsUpdateBoard(false);\n                      setUpdateBoard({\n                        name: {\n                          isValid: true,\n                          isTouched: false,\n                          value: currentWhiteboard?.name,\n                        },\n                        isPublic: currentWhiteboard?.isPublic,\n                      });\n                    }}\n                  >\n                    Cancel\n                  </Button>\n                </Grid>\n              </Grid>\n            </form>\n          </Container>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\n\nUpdateBoard.propType = {\n  history: propType.object.isRequired,\n  isUpdateBoard: propType.bool.isRequired,\n  setIsUpdateBoard: propType.func.isRequired,\n  currentWhiteboard: propType.object.isRequired,\n  match: propType.object.isRequired,\n};\nexport default withRouter(UpdateBoard);\n","import React, { useContext, useState } from \"react\";\nimport {\n  Modal,\n  makeStyles,\n  Fade,\n  Container,\n  Grid,\n  Button,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {\n  BASE_URL,\n  exceptionStatus,\n  isErrorResponse,\n} from \"../../../Constants/Constant\";\nimport LoadingContext from \"../../../Providers/Context/LoadingContext\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport Loading from \"../Loading/Loading\";\nimport AuthContext from '../../../Providers/Context/AuthContext';\nimport { withRouter } from 'react-router-dom';\n\nconst ChangeAvatar = ({ isChangeAvatar, setIsChangeAvatar, history }) => {\n\n  const { user } = useContext(AuthContext)\n  const useStyles = makeStyles((theme) => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n  const classes = useStyles();\n\n  const { setOpen } = useContext(ExceptionContext);\n  const [changeAvatar, setChangeAvatar] = useState({\n    avatar: {\n      isValid: true,\n      isTouched: false,\n      value: [],\n    },\n  });\n  const updateState = (prop, value) => {\n    setChangeAvatar({\n      ...changeAvatar,\n      [prop]: {\n        isTouched: true,\n        value,\n        isValid:\n          prop !== \"avatar\"\n            ? userValidation[prop].reduce(\n                (acc, validateFn) =>\n                  acc && typeof validateFn(value) === \"boolean\",\n                true\n              )\n            : true,\n      },\n    });\n  };\n\n  const userValidation = {\n    avatar: [(data) => data.length || \"Please upload avatar !\"],\n  };\n\n  const renderError = (prop) => {\n    return changeAvatar[prop].isTouched\n      ? userValidation[prop]\n          .map((fn) => fn(changeAvatar[prop].value))\n          .filter((x) => typeof x === \"string\")\n          .map((err, index) => (\n            <p key={index} style={{ color: \"red\" }}>\n              {err}\n            </p>\n          ))\n      : null;\n  };\n\n  const uploadFiles = (id) => {\n    const formData = new FormData();\n    if (!changeAvatar.avatar.value.length) {\n      return;\n    }\n\n    formData.append(\"files\", changeAvatar.avatar.value[0]);\n\n    fetch(`${BASE_URL}/users/${id}/avatar`, {\n      method: \"POST\",\n      headers: {\n        Authorization: localStorage.getItem(\"token\"),\n      },\n      body: formData,\n    })\n      .then((r) => r.status >= 500 ? history.push('/servererror') : r.json())\n      .then((resp) => {\n        isErrorResponse(resp); // add history in isErrorResponse\n        setOpen({\n          value: true,\n          msg: \"Successes!\",\n          statusType: exceptionStatus.success,\n        });\n      })\n      .catch((err) =>\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        })\n      )\n      .finally(() => setIsChangeAvatar(false))\n  };\n\n  const isDisable = () => {\n    return !Object.values(changeAvatar).reduce((acc, value) => {\n      return value.isTouched && value.isValid && acc ? true : false;\n    }, true);\n  };\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={isChangeAvatar}\n      onClose={(e) => setIsChangeAvatar(false)}\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={isChangeAvatar}>\n        <div className={classes.paper}>\n          <Container component=\"main\" maxWidth=\"xl\">\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n              Change Avatar\n            </Typography>\n            <form className={classes.form} noValidate>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <input\n                    accept=\"image/*\"\n                    // className={classes.input}\n                    style={{ display: \"none\" }}\n                    id=\"raised-button-file\"\n                    multiple\n                    type=\"file\"\n                    onChange={(e) =>\n                      updateState(\"avatar\", Array.from(e.target.files))\n                    }\n                  />\n                  <label htmlFor=\"raised-button-file\">\n                    <Button\n                      variant=\"contained\"\n                      component=\"span\"\n                      fullWidth\n                      color='primary'\n                      style={{backgroundColor: '#6fa241', cursor: 'pointer'}}\n                      className={classes.submit}\n                    >\n                      Upload Avatar\n                    </Button>\n                  </label>\n                  {renderError('avatar')}\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}\n                    className={classes.submit}\n                    disabled={isDisable()}\n                    onClick={(e) => uploadFiles(user.id)}\n                  >\n                    Upload\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}\n                    // className={classes.submit}\n                    onClick={(e) => setIsChangeAvatar(false)}\n                  >\n                    Cancel\n                  </Button>\n                </Grid>\n              </Grid>\n            </form>\n          </Container>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\nexport default withRouter(ChangeAvatar);\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Modal,\n  makeStyles,\n  Fade,\n  Container,\n  Grid,\n  Button,\n  TextField,\n  Typography,\n  Select,\n  InputLabel,\n  FormControl,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {\n  BASE_URL,\n  exceptionStatus,\n  isErrorResponse,\n} from \"../../../Constants/Constant\";\nimport propType from 'prop-types';\nimport LoadingContext from \"../../../Providers/Context/LoadingContext\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport Loading from \"../Loading/Loading\";\nimport { withRouter } from \"react-router-dom\";\nimport AuthContext from \"../../../Providers/Context/AuthContext\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport io from \"socket.io-client\";\n\nconst InviteUsers = ({\n  isInviteUser,\n  setIsInviteUser,\n  inviteUserHandler,\n  history,\n}) => {\n  const useStyles = makeStyles((theme) => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    // formControl: {\n    //     margin: theme.spacing(1),\n    //     minWidth: 120,\n    //   },\n    //   selectEmpty: {\n    //     marginTop: theme.spacing(2),\n    //   },\n  }));\n  const classes = useStyles();\n\n  const socketRef = useRef();\n  const { user } = useContext(AuthContext);\n  const { setOpen } = useContext(ExceptionContext);\n  const [openAutocomplete, setOpenAutocomplete] = useState(false);\n  const [options, setOptions] = useState([]);\n  const loading = openAutocomplete && options.length === 0;\n\n\n  useEffect(() => {\n\n    if (!loading) {\n      return undefined;\n    }\n\n    fetch(`${BASE_URL}/users`, {\n      headers: {\n        Authorization: localStorage.getItem(\"token\"),\n      },\n    })\n        .then((r) => r.status >= 500 ? history.push('/servererror') : r.json())\n      .then((resp) => {\n        isErrorResponse(resp);\n        setOptions(resp.filter( x => x.id !== user.id));\n      })\n      .catch((err) =>\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        })\n      );\n  }, [loading, setOpen, user]);\n\n  // const inviteUserHandler = (invitedUsername) => {\n  //   socketRef.current.emit(\"invite\", {\n  //     whiteboardId: currentWhiteboard.id,\n  //     whiteboardName: currentWhiteboard.name,\n  //     from: user.userName,\n  //     invited: invitedUsername,\n  //   });\n  // };\n\n  const autocomplete = (\n    <Autocomplete\n    onKeyPress={(e) => {\n      if (e.key === \"Enter\") {\n        e.preventDefault()\n      }\n    }}\n      id=\"asynchronous-demo\"\n      open={openAutocomplete}\n      onOpen={() => {\n        setOpenAutocomplete(true);\n      }}\n      onClose={() => {\n        setOpenAutocomplete(false);\n      }}\n      getOptionSelected={(option, value) => option.userName === value.userName}\n      getOptionLabel={(option) => option.userName}\n      options={options}\n      loading={loading}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          onKeyPress={(e) => {\n            // e.preventDefault();\n            if (e.key === \"Enter\") {\n              console.log(e.target.value);\n              const selectUser = options.find((x) => x.userName === e.target.value);\n              if (selectUser) {\n                inviteUserHandler(selectUser.userName)\n                setOpen({\n                  value: true,\n                  msg: `User: ${selectUser.userName} invited`,\n                  statusType: exceptionStatus.info,\n                })\n              } else {\n                setOpen({\n                  value: true,\n                  msg: `User: ${e.target.value} not exist`,\n                  statusType: exceptionStatus.error,\n                })\n              }\n            }\n          }}\n          onKeyDown={(e) => {\n            if (e.key === \"Escape\") {\n              setIsInviteUser(false);\n            }\n          }}\n          label=\"Search user\"\n          variant=\"outlined\"\n          InputProps={{\n            ...params.InputProps,\n            endAdornment: (\n              <React.Fragment>\n                {loading ? (\n                  <CircularProgress color=\"inherit\" size={20} />\n                ) : null}\n                {params.InputProps.endAdornment}\n              </React.Fragment>\n            ),\n          }}\n        />\n      )}\n    />\n  );\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={isInviteUser}\n      onClose={(e) => setIsInviteUser(false)}\n      //   closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={isInviteUser}>\n        <div className={classes.paper}>\n          {loading ? <Loading /> : null}\n          <Container component=\"main\" maxWidth=\"xl\">\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n              Invite User\n            </Typography>\n            <form className={classes.form} noValidate>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  {autocomplete}\n                </Grid>\n                {/* <Grid item xs={12}>\n                  <TextField\n                    name=\"createBoard\"\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    id=\"createBoard\"\n                    label=\"Create Whiteboard\"\n                    autoFocus\n                    value={createBoard.value}\n                    error={!createBoard.isValid}\n                    // onKeyPress={(e) =>  e.key === 'Enter' ? e.defaultPrevented() : null }\n                    onChange={(e) => updateState(\"boardName\", e.target.value)}\n                  />\n                  {renderError(\"boardName\")}\n                </Grid>\n                <Grid item xs={12}>\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    fullWidth\n                  >\n                    <InputLabel htmlFor=\"outlined-age-native-simple\">\n                      {createBoard.isPublic === \"public\" ? \"Public\" : \"Private\"}\n                    </InputLabel>\n                    <Select\n                      native\n                      fullWidth\n                      placeholder={createBoard.isPublic ? 'Public' : 'Private'}\n                      variant=\"outlined\"\n                      value={createBoard.isPublic}\n                      onChange={handleChange}\n                      label=\"Visible\"\n                        inputProps={{\n                          name: \"isPublic\",\n                          id: \"outlined-public\",\n                        }}\n                    >\n                      <option value={'public'}>Public</option>\n                      <option value={'private'}>Private</option>\n                    </Select>\n                  </FormControl>\n                </Grid> */}\n                <Grid item xs={12}>\n                  {/* <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      inviteUserHandler();\n                    }}\n                  >\n                    Invite\n                  </Button> */}\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}\n                    onClick={(e) => {\n                      setIsInviteUser(false);\n                    }}\n                  >\n                    Cancel\n                  </Button>\n                </Grid>\n              </Grid>\n            </form>\n          </Container>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\n\nInviteUsers.propType = {\n  history: propType.object.isRequired,\n  isInviteUser: propType.bool.isRequired,\n  setIsInviteUser: propType.func.isRequired,\n  inviteUserHandler: propType.func.isRequired\n};\nexport default withRouter(InviteUsers);\n","import React, { useContext, useRef, useState } from \"react\";\nimport {\n  Modal,\n  makeStyles,\n  Fade,\n  Container,\n  Grid,\n  Button,\n  Typography,\n} from \"@material-ui/core\";\nimport propType from 'prop-types';\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {\n  BASE_URL,\n  exceptionStatus,\n  isErrorResponse,\n} from \"../../../Constants/Constant\";\nimport LoadingContext from \"../../../Providers/Context/LoadingContext\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport Loading from \"../Loading/Loading\";\nimport { withRouter } from \"react-router-dom\";\nimport io from \"socket.io-client\";\n\nconst IncomingInvite = ({ isIncomingInvite, setIsIncomingInvite, accept, decline }) => {\n  const socketRef = useRef();\n  const useStyles = makeStyles((theme) => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n  const classes = useStyles();\n\n  const { setOpen } = useContext(ExceptionContext);\n\n  // const accept = () => {\n  //   socketRef.current = io(\"http://localhost:3000/chat\");\n\n  //   socketRef.current.emit(\"accept\", isIncomingInvite.data);\n  // };\n\n  // const decline = () => {\n  //   socketRef.current = io(\"http://localhost:3000/chat\");\n  //   socketRef.current.emit(\"decline\", isIncomingInvite.data);\n  // };\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={isIncomingInvite.isInvite}\n      onClose={(e) => setIsIncomingInvite({ data: {}, isInvite: false })}\n      //   closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={isIncomingInvite.isInvite}>\n        <div className={classes.paper}>\n          <Container component=\"main\" maxWidth=\"xl\">\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n              {`User: ${isIncomingInvite.data.from} invite you in Whiteboard: \"${isIncomingInvite.data.whiteboardName}\"`}\n            </Typography>\n            <form className={classes.form} noValidate>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={(e) => {\n                        accept();\n                        setIsIncomingInvite({ data: {}, isInvite: false });\n                    }}\n                  >\n                    Accept\n                  </Button>\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={(e) => {\n                      decline();\n                      setIsIncomingInvite({ data: {}, isInvite: false });\n                    }}\n                  >\n                    Decline\n                  </Button>\n                </Grid>\n              </Grid>\n            </form>\n          </Container>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\n\nIncomingInvite.propType = {\n  isIncomingInvite: propType.object.isRequired,\n  setIsIncomingInvite: propType.func.isRequired,\n  accept: propType.func.isRequired,\n  decline: propType.func.isRequired,\n};\nexport default withRouter(IncomingInvite);\n","import React from \"react\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport propTypes from \"prop-types\";\nimport { Divider } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\n\nconst ProfileMenu = ({\n  anchorEl,\n  handleClose,\n  setIsCreateWhiteboard,\n  setIsChangePassword,\n  setIsChangeAvatar,\n  setIsShareMouse,\n  location,\n  setIsAddComment,\n}) => {\n\n  return (\n    <Menu\n      style={{ top: \"-4px\" }}\n      id=\"simple-menu\"\n      anchorEl={anchorEl}\n      keepMounted\n      open={Boolean(anchorEl)}\n      onClose={handleClose}\n    >\n      <MenuItem\n        onClick={(e) => {\n          setIsCreateWhiteboard(true);\n          handleClose();\n        }}\n        style={{ margin: \"10px\" }}\n      >\n        Create board\n      </MenuItem>\n      <Divider orientation=\"horizontal\" variant='middle' />\n      {/* {toggleChangePassword} */}\n      <MenuItem\n      onClick={(e) => {\n        setIsChangePassword(true);\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Change password\n    </MenuItem>\n      <MenuItem\n      onClick={(e) => {\n        setIsChangeAvatar(true);\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Update avatar\n    </MenuItem>\n      <Divider orientation=\"horizontal\" variant='middle' />\n      { !location.pathname.includes('my') ? <MenuItem\n      onClick={(e) => {\n        setIsShareMouse(prev => !prev);\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Share mouse\n    </MenuItem> : null }\n    <Divider orientation=\"horizontal\" variant='middle' />\n      <MenuItem\n      onClick={(e) => {\n        setIsAddComment(prev => ({...prev, isActive: !prev.isActive}));\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Add comment\n    </MenuItem>\n    </Menu>\n\n\n  );\n};\n\nProfileMenu.propTypes = {\n  anchorEl: propTypes.oneOfType([propTypes.object, propTypes.bool]).isRequired,\n  handleClose: propTypes.func.isRequired,\n  setIsChangePassword: propTypes.func.isRequired,\n  setIsCreateWhiteboard: propTypes.func.isRequired,\n  setIsChangeAvatar: propTypes.func.isRequired,\n  setIsShareMouse: propTypes.func.isRequired,\n  location: propTypes.object.isRequired,\n  setIsAddComment: propTypes.func.isRequired,\n};\n\nexport default withRouter(ProfileMenu);\n","import React, { useContext } from \"react\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport propTypes from \"prop-types\";\nimport AuthContext from \"../../../Providers/Context/AuthContext\";\nimport { Divider } from '@material-ui/core';\n\nconst ProfilePrivateMenu = ({\n  anchorEl,\n  handleClose,\n  setIsCreateWhiteboard,\n  setIsChangePassword,\n  setIsDeleteBoard,\n  setIsUpdateBoard,\n  setIsChangeAvatar,\n  setIsInviteUser,\n  setIsKickUsers,\n  setIsShareMouse,\n  setIsAddComment,\n  currentWhiteboard,\n}) => {\n\n  const InviteAndKick = (\n  <React.Fragment>\n  <MenuItem\n    onClick={(e) => {\n      setIsInviteUser(true);\n      handleClose();\n    }}\n    style={{ margin: \"10px\" }}\n  >\n    Invite User\n  </MenuItem>\n    <MenuItem\n    onClick={(e) => {\n      setIsKickUsers(true);\n      handleClose();\n    }}\n    style={{ margin: \"10px\" }}\n  >\n    Kick User\n  </MenuItem>\n  </React.Fragment>\n  )\n\n  return (\n    <Menu\n      style={{ top: \"-4px\" }}\n      id=\"simple-menu\"\n      anchorEl={anchorEl}\n      keepMounted\n      open={Boolean(anchorEl)}\n      onClose={handleClose}\n    >\n      <MenuItem\n        onClick={(e) => {\n          setIsCreateWhiteboard(true);\n          handleClose();\n        }}\n        style={{ margin: \"10px\" }}\n      >\n        Create board\n      </MenuItem>\n      <MenuItem\n      onClick={(e) => {\n        setIsDeleteBoard(true);\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Delete board\n    </MenuItem>\n      <MenuItem\n      onClick={(e) => {\n        setIsUpdateBoard(true);\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Update board\n    </MenuItem>\n      <Divider orientation=\"horizontal\" variant='middle' />\n      {/* {toggleChangePassword} */}\n      <MenuItem\n      onClick={(e) => {\n        setIsChangePassword(true);\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Change password\n    </MenuItem>\n      <MenuItem\n      onClick={(e) => {\n        setIsChangeAvatar(true);\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Update avatar\n    </MenuItem>\n      <Divider orientation=\"horizontal\" variant='middle' />\n      { currentWhiteboard.isPublic ? null : InviteAndKick }\n      <MenuItem\n      onClick={(e) => {\n        setIsShareMouse(prev => !prev);\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Share mouse\n    </MenuItem>\n    <Divider orientation=\"horizontal\" variant='middle' />\n      <MenuItem\n      onClick={(e) => {\n        setIsAddComment(prev => ({...prev, isActive: !prev.isActive}));\n        handleClose();\n      }}\n      style={{ margin: \"10px\" }}\n    >\n      Add comment\n    </MenuItem>\n    </Menu>\n  );\n};\n\nProfilePrivateMenu.propTypes = {\n  anchorEl: propTypes.oneOfType([propTypes.object, propTypes.bool]).isRequired,\n  handleClose: propTypes.func.isRequired,\n  setIsChangePassword: propTypes.func.isRequired,\n  setIsCreateWhiteboard: propTypes.func.isRequired,\n  setIsDeleteBoard: propTypes.func.isRequired,\n  setIsUpdateBoard: propTypes.func.isRequired,\n  setIsChangeAvatar: propTypes.func.isRequired,\n  setIsInviteUser: propTypes.func.isRequired,\n  setIsKickUsers: propTypes.func.isRequired,\n  setIsShareMouse: propTypes.func.isRequired,\n  currentWhiteboard: propTypes.object.isRequired,\n};\n\nexport default ProfilePrivateMenu;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Modal,\n  makeStyles,\n  Fade,\n  Container,\n  Grid,\n  Button,\n  TextField,\n  Typography,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport {\n  BASE_URL,\n  exceptionStatus,\n  isErrorResponse,\n} from \"../../../Constants/Constant\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport { withRouter } from \"react-router-dom\";\nimport AuthContext from \"../../../Providers/Context/AuthContext\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport io from \"socket.io-client\";\nimport propTypes from \"prop-types\";\n\nconst KickUsers = ({\n  isKickUsers,\n  setIsKickUsers,\n  history,\n  currentWhiteboard,\n  kickUserHandler,\n}) => {\n  const useStyles = makeStyles((theme) => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    // formControl: {\n    //     margin: theme.spacing(1),\n    //     minWidth: 120,\n    //   },\n    //   selectEmpty: {\n    //     marginTop: theme.spacing(2),\n    //   },\n  }));\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n  const { setOpen } = useContext(ExceptionContext);\n  const [openAutocomplete, setOpenAutocomplete] = useState(false);\n  const [options, setOptions] = useState([]);\n  const loading = openAutocomplete && options.length === 0;\n\n\n  useEffect(() => {\n\n    if (!loading) {\n      return undefined;\n    }\n\n    fetch(`${BASE_URL}/whiteboards/${currentWhiteboard.id}/invited`, {\n      headers: {\n        Authorization: localStorage.getItem(\"token\"),\n      },\n    })\n        .then((r) => r.status >= 500 ? history.push('/servererror') : r.json())\n      .then((resp) => {\n        isErrorResponse(resp);\n        setOptions(resp.filter( x => x.id !== user.id));\n      })\n      .catch((err) =>\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        })\n      );\n  }, [loading, setOpen, user]);\n\n  // const inviteUserHandler = (invitedUsername) => {\n  //   socketRef.current.emit(\"invite\", {\n  //     whiteboardId: currentWhiteboard.id,\n  //     whiteboardName: currentWhiteboard.name,\n  //     from: user.userName,\n  //     invited: invitedUsername,\n  //   });\n  // };\n\n  const autocomplete = (\n    <Autocomplete\n    onKeyPress={(e) => {\n      if (e.key === \"Enter\") {\n        e.preventDefault()\n      }\n    }}\n      id=\"asynchronous-demo\"\n      open={openAutocomplete}\n      onOpen={() => {\n        setOpenAutocomplete(true);\n      }}\n      onClose={() => {\n        setOpenAutocomplete(false);\n      }}\n      getOptionSelected={(option, value) => option.userName === value.userName}\n      getOptionLabel={(option) => option.userName}\n      options={options}\n      loading={loading}\n      renderInput={(params) => (\n        <TextField\n          {...params}\n          onKeyPress={(e) => {\n            // e.preventDefault();\n            if (e.key === \"Enter\") {\n              const selectUser = options.find((x) => x.userName === e.target.value);\n              if (selectUser) {\n                kickUserHandler(selectUser.userName)\n                setOpen({\n                  value: true,\n                  msg: `User: ${selectUser.userName} is kicked !`,\n                  statusType: exceptionStatus.info,\n                })\n              } else {\n                setOpen({\n                  value: true,\n                  msg: `User: ${e.target.value} not exist`,\n                  statusType: exceptionStatus.error,\n                })\n              }\n            }\n          }}\n          onKeyDown={(e) => {\n            if (e.key === \"Escape\") {\n              setIsKickUsers(false);\n            }\n          }}\n          label=\"Search user\"\n          variant=\"outlined\"\n          InputProps={{\n            ...params.InputProps,\n            endAdornment: (\n              <React.Fragment>\n                {loading ? (\n                  <CircularProgress color=\"inherit\" size={20} />\n                ) : null}\n                {params.InputProps.endAdornment}\n              </React.Fragment>\n            ),\n          }}\n        />\n      )}\n    />\n  );\n\n  return (\n    <Modal\n      aria-labelledby=\"transition-modal-title\"\n      aria-describedby=\"transition-modal-description\"\n      className={classes.modal}\n      open={isKickUsers}\n      onClose={(e) => setIsKickUsers(false)}\n      //   closeAfterTransition\n      BackdropComponent={Backdrop}\n      BackdropProps={{\n        timeout: 500,\n      }}\n    >\n      <Fade in={isKickUsers}>\n        <div className={classes.paper}>\n          <Container component=\"main\" maxWidth=\"xl\">\n            <Typography component=\"h1\" variant=\"h5\" align=\"center\">\n              Kick User\n            </Typography>\n            <form className={classes.form} noValidate>\n              <Grid container spacing={2}>\n                <Grid item xs={12}>\n                  {autocomplete}\n                </Grid>\n                {/* <Grid item xs={12}>\n                  <TextField\n                    name=\"createBoard\"\n                    variant=\"outlined\"\n                    required\n                    fullWidth\n                    id=\"createBoard\"\n                    label=\"Create Whiteboard\"\n                    autoFocus\n                    value={createBoard.value}\n                    error={!createBoard.isValid}\n                    // onKeyPress={(e) =>  e.key === 'Enter' ? e.defaultPrevented() : null }\n                    onChange={(e) => updateState(\"boardName\", e.target.value)}\n                  />\n                  {renderError(\"boardName\")}\n                </Grid>\n                <Grid item xs={12}>\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    fullWidth\n                  >\n                    <InputLabel htmlFor=\"outlined-age-native-simple\">\n                      {createBoard.isPublic === \"public\" ? \"Public\" : \"Private\"}\n                    </InputLabel>\n                    <Select\n                      native\n                      fullWidth\n                      placeholder={createBoard.isPublic ? 'Public' : 'Private'}\n                      variant=\"outlined\"\n                      value={createBoard.isPublic}\n                      onChange={handleChange}\n                      label=\"Visible\"\n                        inputProps={{\n                          name: \"isPublic\",\n                          id: \"outlined-public\",\n                        }}\n                    >\n                      <option value={'public'}>Public</option>\n                      <option value={'private'}>Private</option>\n                    </Select>\n                  </FormControl>\n                </Grid> */}\n                <Grid item xs={12}>\n                  {/* <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={(e) => {\n                      e.preventDefault();\n                      inviteUserHandler();\n                    }}\n                  >\n                    Invite\n                  </Button> */}\n                  <Button\n                    type=\"button\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    style={{backgroundColor: \"#6fa241\"}}\n                    onClick={(e) => {\n                      setIsKickUsers(false);\n                    }}\n                  >\n                    Cancel\n                  </Button>\n                </Grid>\n              </Grid>\n            </form>\n          </Container>\n        </div>\n      </Fade>\n    </Modal>\n  );\n};\n\nKickUsers.propTypes = {\n  isKickUsers: propTypes.bool.isRequired, \n  setIsKickUsers: propTypes.func.isRequired,\n  history: propTypes.object.isRequired,\n  currentWhiteboard: propTypes.object.isRequired,\n  kickUserHandler: propTypes.func.isRequired,\n}\nexport default withRouter(KickUsers);\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Badge from \"@material-ui/core/Badge\";\nimport NotificationsIcon from \"@material-ui/icons/Notifications\";\nimport ExitToApp from \"@material-ui/icons/ExitToApp\";\nimport propType from 'prop-types';\nimport {\n  ListItemAvatar,\n  Avatar,\n  IconButton,\n  ListItem,\n  Button,\n} from \"@material-ui/core\";\nimport AuthContext from \"../../../Providers/Context/AuthContext\";\nimport {\n  logOutHandler,\n  BASE_URL,\n  isErrorResponse,\n  exceptionStatus,\n} from \"../../../Constants/Constant\";\nimport \"react-chat-widget/lib/styles.css\";\nimport Test from \"./DrawingPage\";\nimport Next from \"@material-ui/icons/NavigateNext\";\nimport Before from \"@material-ui/icons/NavigateBefore\";\n// import DrawEraseWidget from \"./DrawEraseWidget\";\nimport \"./chat.css\";\nimport { SketchPicker } from \"react-color\";\n// import pointer from \"./pointer.jpg\";\nimport LoadingContext from \"../../../Providers/Context/LoadingContext\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport Loading from \"../Loading/Loading\";\nimport SearchWhiteBoards from \"./SearchWhiteBoards\";\nimport CreateBoard from \"./CreateBoard\";\nimport ChangePassword from \"./ChangePassword\";\nimport ColorPalette from \"./ColorPalette\";\nimport DeleteBoard from \"./DeleteBoard\";\nimport UpdateBoard from \"./UpdateBoard\";\nimport DrawingPage from \"./DrawingPage\";\nimport ChangeAvatar from \"./ChangeAvatar\";\nimport io from \"socket.io-client\";\nimport InviteUsers from \"./InviteUsers\";\nimport IncomingInvite from \"./IncomingInvite\";\nimport { AvatarGroup } from \"@material-ui/lab\";\nimport { addResponseMessage, Widget } from \"react-chat-widget\";\nimport ProfileMenu from \"../../Base/ProfileMenu/ProfileMenu\";\nimport ProfilePrivateMenu from \"../../Base/ProfileMenu/ProfilePrivateMenu\";\nimport KickUsers from \"../../Base/KickUsers/KickUsers\";\nimport SingleComment from '../../Base/Comments/SingleComment';\nimport CommentInput from '../../Base/Comments/CommentInput';\n\nconst LoggedUserHomePage = ({ history, match }) => {\n  const { user, setUser } = useContext(AuthContext);\n  const { loading, setLoading } = useContext(LoadingContext);\n  const { setOpen } = useContext(ExceptionContext);\n  const socketRef = useRef();\n\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      display: \"flex\",\n    },\n    toolbar: {\n      paddingRight: 24,\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create([\"width\", \"margin\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n    menuButton: {\n      marginRight: 36,\n    },\n    title: {\n      flexGrow: 1,\n    },\n    boardNameBar: {\n      paddingLeft: \"10px\",\n      paddingRight: \"10px\",\n      fontSize: \"10px\",\n      justifyContent: \"center\",\n      color: \"white\",\n    },\n    searchBoard: {\n      // paddingLeft: \"10px\",\n      paddingRight: \"15px\",\n      // fontSize: \"10px\",\n      justifyContent: \"center\",\n      color: \"white\",\n    }\n  }));\n\n  const classes = useStyles();\n\n  const [avatar, setAvatar] = useState(\"\");\n  const [anchorEl, setAnchorEl] = useState(false);\n  const [color, setColor] = useState(\"black\");\n  const [currentWhiteboard, setCurrentWhiteboard] = useState(null);\n  const [shapes, setShapes] = useState([]);\n\n  const [isSearchBoard, setIsSearchBoard] = useState(false);\n  const [isCreateWhiteboard, setIsCreateWhiteboard] = useState(false);\n  const [isChangePassword, setIsChangePassword] = useState(false);\n  const [isDeleteBoard, setIsDeleteBoard] = useState(false);\n  const [isUpdateBoard, setIsUpdateBoard] = useState(false);\n  const [isChangeAvatar, setIsChangeAvatar] = useState(false);\n  const [isInviteUser, setIsInviteUser] = useState(false);\n  const [isKickUsers, setIsKickUsers] = useState(false);\n  const [isShareMouse, setIsShareMouse] = useState(false);\n  const [isIncomingInvite, setIsIncomingInvite] = useState({\n    data: {},\n    isInvite: false,\n  });\n  const [usersInRoom, setUsersInRoom] = useState([]);\n  const [sharedUsers, setSharedUsers] = useState([]);\n  const [shareMouse, setShareMouse] = useState({\n    mouseX: 0,\n    mouseY: 0,\n  });\n\n  const [comments, setComments] = useState([]);\n  const [isAddComment, setIsAddComment] = useState({\n    isActive: false,\n    x: 0,\n    y: 0,\n  });\n\n  const [shapeHistory, setShapeHistory] = useState([]);\n  useEffect(() => {\n    socketRef.current = io(\"http://localhost:3000/chat\");\n\n    if (match.params.id === \"my\") {\n      return;\n    }\n    if (!match.params.id && !user) {\n      return;\n    }\n\n    setLoading(true);\n    fetch(`${BASE_URL}/whiteboards/${match.params.id}`, {\n      headers: {\n        Authorization: localStorage.getItem(\"token\"),\n      },\n    })\n      .then((r) => (r.status >= 500 ? history.push(\"/servererror\") : r.json()))\n      .then((resp) => {\n        isErrorResponse(resp);\n        socketRef.current.emit(\"joinRoom\", {\n          room: resp.id,\n          userName: user.userName,\n          avatar: user.avatarURL,\n        });\n        setCurrentWhiteboard(resp);\n        setShapes(Object.keys(resp).reduce((acc, value) => {\n          if (typeof resp[value] === 'object' && value !== 'comments') {\n            return [...acc, ...resp[value]]\n          }\n          return acc\n        }, []).sort((a, b) => a.itemPosition - b.itemPosition));\n        setComments([...resp.comments])\n      })\n      .catch((err) =>\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        })\n      )\n      .finally(() => setLoading(false));\n\n    socketRef.current.on(\"sendInvite\", (data) =>\n      data.invited === user.userName\n        ? setIsIncomingInvite({ data, isInvite: true })\n        : null\n    );\n    socketRef.current.on(\"someOneDrawShape\", (data) => {\n\n    console.log(data);\n    if (data.shape.type === 'comments') {\n      setComments(prev => [...prev, data.shape])\n    } else {\n      setShapes(prev => [...prev, data.shape])\n    }\n\n    });\n    socketRef.current.on('addedToBoard', (data) => {\n      if (data.invite === user.userName) {\n        history.push(`${data.boardId}`)\n      }\n    })\n    socketRef.current.on(\"someOneRedo\", (data) => {\n      console.log(data);\n      setShapes(prev => [...prev, data.shape])\n    });\n    socketRef.current.on(\"someOneUndo\", (data) => {\n      console.log(data);\n      setShapes(prev => [...prev.filter(x => x.id !== data.shapeId)])\n    });\n    socketRef.current.on(\"userAccepted\", (data) =>\n      data.from === user.userName\n        ? setOpen({\n            value: true,\n            msg: `User: ${data.invited} accept your invite!`,\n            statusType: exceptionStatus.success,\n          })\n        : null\n    );\n    socketRef.current.on(\"come-message\", (incomingMsg) => {\n      setAvatar(`${BASE_URL}/${incomingMsg.avatar}`);\n      addResponseMessage(incomingMsg.message);\n    });\n    socketRef.current.on(\"joinedToRoom\", (data) => {\n      if (data.userName !== user.userName) {\n        setUsersInRoom([\n          ...usersInRoom,\n          { avatar: data.avatar, userName: data.userName },\n        ]);\n      }\n      addResponseMessage(data.message);\n    });\n    socketRef.current.on(\"userDeclined\", (data) => {\n      if (data.from === user.userName) {\n        setOpen({\n          value: true,\n          msg: `User: ${data.invited} decline your invite!`,\n          statusType: exceptionStatus.info,\n        });\n      }\n    });\n    socketRef.current.on(\"isKicked\", (data) => {\n      if (data.kicked === user.userName) {\n        setOpen({\n          value: true,\n          msg: `You are kick from Whiteboard: ${data.whiteboardName} !`,\n          statusType: exceptionStatus.warning,\n        });\n        return match.params.id === data.whiteboardId ? history.goBack() : null\n      }\n    });\n\n    socketRef.current.on(\"incomingMousePoints\", (data) => {\n      console.log(sharedUsers);\n      const user = sharedUsers.find((x) => x.id === data.user);\n      console.log(user);\n      if (user) {\n        setSharedUsers([\n          ...sharedUsers,\n          {\n            ...user,\n            mouseX: data.mouseX,\n            mouseY: data.mouseY,\n          },\n        ]);\n      } else {\n        setSharedUsers([\n          ...sharedUsers,\n          {\n            id: data.id,\n            avatar: data.avatar,\n            mouseX: data.mouseX,\n            mouseY: data.mouseY,\n          },\n        ]);\n      }\n    });\n  }, [match.params.id]);\n\n  const undo = (shapes) => {\n    // da se popravi proverkata\n    if (!shapes.length) {\n      return;\n    }\n    const lastShape = shapes.pop();\n    fetch(\n      `${BASE_URL}/whiteboards/${currentWhiteboard.id}/${lastShape.type}/${lastShape.id}`,\n      {\n        method: \"DELETE\",\n        headers: {\n          Authorization: localStorage.getItem(\"token\"),\n        },\n      }\n    )\n      .then((r) => r.json())\n      .then((resp) => {\n        isErrorResponse(resp);\n        setShapeHistory((prev) => [\n          ...prev,\n          { id: lastShape.id, type: lastShape.type },\n        ]);\n        console.log(resp);\n        socketRef.current.emit('undo', {room: match.params.id, shapeId: resp.id });\n      })\n      .catch((err) =>\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        })\n      )\n      // .finally(() => history.push(`/profile/${currentWhiteboard.id}`));\n  };\n\n  const redo = (setShapes) => {\n    const lastShape = shapeHistory.pop();\n    fetch(\n      `${BASE_URL}/whiteboards/${currentWhiteboard.id}/${lastShape.type}/${lastShape.id}`,\n      {\n        method: \"PATCH\",\n        headers: {\n          Authorization: localStorage.getItem(\"token\"),\n        },\n      }\n    )\n      .then((r) => r.json())\n      .then((resp) => {\n        isErrorResponse(resp);\n        setShapeHistory((prev) => [...prev]);\n        setShapes((prev) => [...prev, resp]);\n        socketRef.current.emit('redo', {room: match.params.id, shape: resp})\n      })\n      .catch((err) =>\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        })\n      )\n      // .finally(() => history.push(`/profile/${currentWhiteboard.id}`));\n  };\n\n  const leaveRoom = (room) => {\n    socketRef.current = io(\"http://localhost:3000/chat\");\n    socketRef.current.emit(\"leaveRoom\", {\n      room,\n      userName: user.userName,\n    });\n  };\n\n  const handleClickProfile = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleCloseProfile = () => {\n    setAnchorEl(false);\n  };\n\n  const accept = () => {\n    socketRef.current = io(\"http://localhost:3000/chat\");\n    socketRef.current.emit(\"accept\", isIncomingInvite.data);\n  };\n\n  const decline = () => {\n    socketRef.current = io(\"http://localhost:3000/chat\");\n    socketRef.current.emit(\"decline\", isIncomingInvite.data);\n  };\n\n  const inviteUserHandler = (invitedUsername) => {\n    socketRef.current.emit(\"invite\", {\n      whiteboardId: currentWhiteboard.id,\n      whiteboardName: currentWhiteboard.name,\n      from: user.userName,\n      invited: invitedUsername,\n    });\n  };\n  const kickUserHandler = (kickedUsername) => {\n    socketRef.current.emit(\"kick\", {\n      whiteboardId: currentWhiteboard.id,\n      whiteboardName: currentWhiteboard.name,\n      from: user.userName,\n      kicked: kickedUsername,\n    });\n  };\n\n  const isDrawShape = (shape) => {\n    socketRef.current.emit('someOneDrawShape', {room: currentWhiteboard.id, shape})\n  }\n\n  const shareMouseHandler = (x, y) => {\n    setShareMouse({ mouseX: y, mouseY: x });\n    socketRef.current.emit(\"sendMousePoints\", {\n      user: user.id,\n      mouseX: y,\n      mouseY: x,\n      avatar: user.avatarURL,\n      room: currentWhiteboard.id,\n    });\n  };\n\n  const togglePublicOrPrivateLabel = () => {\n    if (match.params.id !== \"my\") {\n      return currentWhiteboard?.isPublic ? \"public\" : \"private\";\n    } else {\n      return \"Search Board\";\n    }\n  };\n\n  const handleNewUserMessage = (data) =>\n    socketRef.current.emit(\"send-message\", {\n      message: data,\n      room: currentWhiteboard.id,\n      avatar: user.avatarURL,\n      from: user.id,\n    });\n\n  const showDrawingPage = currentWhiteboard ? (\n    <DrawingPage\n      // style={{alignSelf: 'flex-start'}}\n      color={color}\n      currentWhiteboard={currentWhiteboard}\n      sharedUsers={sharedUsers}\n      setShareMouse={setShareMouse}\n      shareMouse={shareMouse}\n      shareMouseHandler={shareMouseHandler}\n      shapeHistory={shapeHistory}\n      setShapeHistory={setShapeHistory}\n      undo={undo}\n      redo={redo}\n      isShareMouse={isShareMouse}\n      isDrawShape={isDrawShape}\n      shapes={shapes}\n      setShapes={setShapes}\n      comments={comments}\n      setComments={setComments}\n      isAddComment={isAddComment}\n      setIsAddComment={setIsAddComment}\n    />\n  ) : null;\n\n  const toggleChat = currentWhiteboard ? (\n    <Widget\n      handleNewUserMessage={handleNewUserMessage}\n      // showTimeStamp={false}\n      profileAvatar={avatar}\n      title={\"Chat\"}\n      display={\"inline-block\"}\n    />\n  ) : null;\n\n  // console.log(currentWhiteboard);\n\n  return loading ? (\n    <Loading />\n  ) : (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar\n        position=\"absolute\"\n        className={classes.appBar}\n        style={{ width: \"100%\", backgroundColor: \"#d4de23\" }}\n      >\n        <Toolbar className={classes.toolbar}>\n          <Button\n            style={{\n              border: \"2px solid #4d5842\",\n              borderRadius: \"50%\",\n              boxShadow: \"2px 2px 1px darkgreen\",\n              backgroundColor: \"#6fa241\",\n            }}\n          >\n            <Avatar\n              src={`${BASE_URL}/${user.avatarURL}`}\n              alt={user.userName}\n              style={{ cursor: \"pointer\" }}\n              onClick={handleClickProfile}\n            />\n          </Button>\n          <span\n            style={{\n              fontSize: \"25px\",\n              paddingLeft: \"10px\",\n              fontFamily: \"monospace\",\n              fontWeight: \"bold\",\n            }}\n          >\n            {user.userName}\n          </span>\n          {currentWhiteboard && currentWhiteboard.author === user.id ? (\n            <ProfilePrivateMenu\n              anchorEl={anchorEl}\n              handleClose={handleCloseProfile}\n              setIsCreateWhiteboard={setIsCreateWhiteboard}\n              setIsChangePassword={setIsChangePassword}\n              setIsDeleteBoard={setIsDeleteBoard}\n              setIsUpdateBoard={setIsUpdateBoard}\n              setIsChangeAvatar={setIsChangeAvatar}\n              setIsInviteUser={setIsInviteUser}\n              currentWhiteboard={currentWhiteboard}\n              setIsKickUsers={setIsKickUsers}\n              setIsShareMouse={setIsShareMouse}\n              setIsAddComment={setIsAddComment}\n            />\n          ) : (\n            <ProfileMenu\n              anchorEl={anchorEl}\n              handleClose={handleCloseProfile}\n              setIsCreateWhiteboard={setIsCreateWhiteboard}\n              setIsChangePassword={setIsChangePassword}\n              setIsDeleteBoard={setIsDeleteBoard}\n              setIsUpdateBoard={setIsUpdateBoard}\n              setIsChangeAvatar={setIsChangeAvatar}\n              setIsInviteUser={setIsInviteUser}\n              setIsShareMouse={setIsShareMouse}\n              currentWhiteboard={currentWhiteboard}\n              setIsAddComment={setIsAddComment}\n            />\n          )}\n\n          <ListItem style={{ justifyContent: \"center\" }}>\n            <IconButton>\n              <Before\n                onClick={(e) => {\n                  e.preventDefault();\n                  return shapes.length ? undo(shapes) : null\n                }}\n              />\n            </IconButton>\n            {isSearchBoard ? (\n              <SearchWhiteBoards\n                setIsSearchBoard={setIsSearchBoard}\n                leaveRoom={leaveRoom}\n              />\n            ) : (\n              <Button\n                style={{\n                  border: \"2px solid #4d5842\",\n                  backgroundColor: \"#6fa241\",\n                  boxShadow: \"3px 3px 1px darkgreen\",\n                }}\n                onClick={(e) => setIsSearchBoard(true)}\n              >\n                <span\n                  style={{\n                    paddingLeft: \"10px\",\n                    paddingRight: \"10px\",\n                    fontSize: \"22px\",\n                    justifyContent: \"center\",\n                    fontFamily: \"monospace\",\n                    fontWeight: \"bold\",\n                  }}\n                >\n                  {currentWhiteboard?.name}\n                </span>\n                <span className={match.params.id !== \"my\" ? classes.boardNameBar : classes.searchBoard}\n                  // style={{\n                  //   paddingLeft: \"10px\",\n                  //   paddingRight: \"10px\",\n                  //   fontSize: \"10px\",\n                  //   justifyContent: \"center\",\n                  //   color: \"white\",\n                  // }}\n                >\n                  {togglePublicOrPrivateLabel()}\n                </span>\n              </Button>\n            )}\n            <IconButton>\n              <Next\n                onClick={(e) => {\n                  e.preventDefault();\n                  return shapeHistory.length === 0\n                    ? null\n                    : redo(setShapes);\n                }}\n              />\n            </IconButton>\n          </ListItem>\n          {usersInRoom.length ? (\n            <AvatarGroup max={4} style={{ paddingRight: 20 }}>\n              {usersInRoom.map((x) => (\n                <Avatar\n                  key={x.avatar}\n                  alt={x.userName}\n                  src={`${BASE_URL}/${x.avatar}`}\n                />\n              ))}\n            </AvatarGroup>\n          ) : null}\n          <span\n            style={{\n              paddingRight: \"10px\",\n              fontSize: \"18px\",\n              fontFamily: \"monospace\",\n            }}\n          >\n            Logout\n          </span>\n          <ExitToApp\n            style={{\n              cursor: \"pointer\",\n              boxShadow: \"3px 3px 1px darkgreen\",\n              border: \"1px solid #4d5842\",\n              borderRadius: \"3px\",\n              backgroundColor: \"#6fa241\",\n            }}\n            color=\"inherit\"\n            onClick={(e) => {\n              e.preventDefault();\n              leaveRoom(match.params.id);\n              logOutHandler(setUser, history);\n            }}\n          />\n        </Toolbar>\n      </AppBar>\n      <DeleteBoard\n        isDeleteBoard={isDeleteBoard}\n        setIsDeleteBoard={setIsDeleteBoard}\n      />\n      <UpdateBoard\n        isUpdateBoard={isUpdateBoard}\n        setIsUpdateBoard={setIsUpdateBoard}\n        currentWhiteboard={currentWhiteboard}\n      />\n      {showDrawingPage}\n      <ColorPalette color={color} setColor={setColor} />\n      <ChangeAvatar\n        isChangeAvatar={isChangeAvatar}\n        setIsChangeAvatar={setIsChangeAvatar}\n      />\n      {toggleChat}\n      <InviteUsers\n        setIsInviteUser={setIsInviteUser}\n        isInviteUser={isInviteUser}\n        currentWhiteboard={currentWhiteboard}\n        inviteUserHandler={inviteUserHandler}\n      />\n      <CreateBoard\n        isCreateWhiteboard={isCreateWhiteboard}\n        setIsCreateWhiteboard={setIsCreateWhiteboard}\n        leaveRoom={leaveRoom}\n      />\n      <IncomingInvite\n        setIsIncomingInvite={setIsIncomingInvite}\n        isIncomingInvite={isIncomingInvite}\n        decline={decline}\n        accept={accept}\n      />\n      <ChangePassword\n        isChangePassword={isChangePassword}\n        setIsChangePassword={setIsChangePassword}\n      />\n      <KickUsers\n        currentWhiteboard={currentWhiteboard}\n        isKickUsers={isKickUsers}\n        setIsKickUsers={setIsKickUsers}\n        kickUserHandler={kickUserHandler}\n      />\n\n    </div>\n  );\n};\n\nLoggedUserHomePage.propType = {\n  history: propType.object.isRequired,\n  match: propType.object.isRequired,\n};\nexport default LoggedUserHomePage;\n","import React, { useState, useContext } from \"react\";\nimport images from \"./../Home/earth.PNG\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { BASE_URL, exceptionStatus, isErrorResponse } from \"../../../Constants/Constant\";\nimport jwt from 'jwt-decode';\nimport AuthContext from '../../../Providers/Context/AuthContext';\nimport ExceptionContext from '../../../Providers/Context/ExceptionContext';\nimport { withRouter } from 'react-router-dom';\nimport './Login.css'\n\nconst Login = ({ history, setIsLoginPage, isLoginPage }) => {\n\n  const { setOpen } = useContext(ExceptionContext);\n\n  const { setUser } = useContext(AuthContext);\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isPasswordReset, setIsPasswordReset] = useState(false)\n\n  const signInHandler = (e, obj) => {\n    e.preventDefault();\n    if (Object.values(obj).includes(\"\")) {\n      setOpen({ value: true, msg: \"pls enter valid credentials\", statusType: exceptionStatus.error})\n    }\n\n    fetch(`${BASE_URL}/session`, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify(obj),\n    })\n      .then((r) => r.status >= 500 ? history.push('/servererror') : r.json())\n      .then((resp) => {\n        isErrorResponse(resp)\n        try {\n          setUser(jwt(resp.token));\n        } catch (err) {\n          throw new Error(err.message)\n        }\n\n        localStorage.setItem(\"token\", `Bearer ${resp.token}`);\n\n        history.push(`/profile/${localStorage.getItem('lastBoard') ? localStorage.getItem('lastBoard') : 'my'}`)\n        // history.push(`/profile/my`)\n\n\n      })\n      .catch((err) => setOpen({ value: true, msg: err.message, statusType: exceptionStatus.error}));\n  };\n\n  const resetPasswordHandler = (e, email) => {\n    e.preventDefault();\n    fetch(`${BASE_URL}/recover`, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({email: email}),\n    })\n    .then((r) => r.status >= 500 ? history.push('/servererror') : r.json())\n    .then(res => { isErrorResponse(res); setOpen({ value: true, msg: 'Check your mail !', statusType: exceptionStatus.success}) })\n    .catch((err) => setOpen({ value: true, msg: err.message, statusType: exceptionStatus.error}));\n  }\n// // async..await is not allowed in global scope, must use a wrapper\n// async function main() {\n//   // Generate test SMTP service account from ethereal.email\n//   // Only needed if you don't have a real mail account for testing\n//   let testAccount = await nodemailer.createTestAccount();\n\n//   // create reusable transporter object using the default SMTP transport\n//   let transporter = nodemailer.createTransport({\n//     host: \"smtp.ethereal.email\",\n//     port: 587,\n//     secure: false, // true for 465, false for other ports\n//     auth: {\n//       user: testAccount.user, // generated ethereal user\n//       pass: testAccount.pass, // generated ethereal password\n//     },\n//   });\n\n//   // send mail with defined transport object\n//   let info = await transporter.sendMail({\n//     from: '\"Fred Foo \" <foo@example.com>', // sender address\n//     to: \"bar@example.com, baz@example.com\", // list of receivers\n//     subject: \"Hello \", // Subject line\n//     text: \"Hello world?\", // plain text body\n//     html: \"<b>Hello world?</b>\", // html body\n//   });\n\n//   console.log(\"Message sent: %s\", info.messageId);\n//   // Message sent: <b658f8ca-6296-ccf4-8306-87d57a0b4321@example.com>\n\n//   // Preview only available when sending through an Ethereal account\n//   console.log(\"Preview URL: %s\", nodemailer.getTestMessageUrl(info));\n//   // Preview URL: https://ethereal.email/message/WaQKMgKddxQDoou...\n// }\n\n// main().catch(console.error);\n\n\n\n  const useStyles = makeStyles((theme) => ({\n    notchedOutline: {\n      borderWidth: \"1px\",\n      borderColor: \"#6fa241 !important\"\n    },\n    paper: {\n      marginTop: theme.spacing(8),\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n      height: '80px',\n      width: '80px'\n    },\n    form: {\n      width: \"100%\",\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    resetPassRightBtn: {\n      width: '49%',\n      marginLeft: '2%',\n      margin: theme.spacing(3, 0, 2),\n    },\n    resetPassLeftBtn: {\n      width: '49%',\n      margin: theme.spacing(3, 0, 2),\n    }\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar src={images} className={classes.avatar}>{/* <LockOutlinedI /> */}</Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          {/* { location.pathname.includes('password/reset') ? \"Password recovery\" : \"Sign in\" } */}\n          { isPasswordReset ? \"Password recovery\" : \"Sign in\" }\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            InputProps={{\n              classes: {\n                notchedOutline: classes.notchedOutline\n              }\n            }}\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n            value={email}\n            error={false}\n            onChange={(e) => setEmail(e.target.value)}\n          />\n         {/* { location.pathname.includes('password/reset') ? null : <TextField */}\n         { isPasswordReset ? null : <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            InputProps={{\n              classes: {\n                notchedOutline: classes.notchedOutline\n              }\n            }}\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          /> }\n          <Button\n            type=\"button\"\n            // fullWidth={!location.pathname.includes('password/reset')}\n            fullWidth={!isPasswordReset}\n            variant=\"contained\"\n            color=\"primary\"\n            style={{backgroundColor: \"#6fa241\"}}\n            // className={location.pathname.includes('password/reset') ? classes.resetPassLeftBtn : classes.submit}\n            className={isPasswordReset ? classes.resetPassLeftBtn : classes.submit}\n            // href=\"/login\"\n            // onClick={(e) => location.pathname.includes('password/reset') ? resetPasswordHandler(e) : signInHandler(e, { email, password }) }\n            onClick={(e) => isPasswordReset ? resetPasswordHandler(e, email) : signInHandler(e, { email, password }) }\n          >\n            {/* { location.pathname.includes('password/reset') ? 'Reset password' : 'Sign In' } */}\n            { isPasswordReset ? 'Reset password' : 'Sign in' }\n          </Button>\n          {/* { location.pathname.includes('password/reset') ? <Button */}\n          { isPasswordReset ? <Button\n            type=\"button\"\n            fullWidth={!isPasswordReset}\n            // fullWidth={!location.pathname.includes('password/reset')}\n            variant=\"contained\"\n            color=\"primary\"\n            // className={location.pathname.includes('password/reset') ? classes.resetPassRightBtn : classes.submit}\n            className={isPasswordReset ? classes.resetPassRightBtn : classes.submit}\n            onClick={(e) => {\n              e.preventDefault();\n              setIsPasswordReset(!isPasswordReset)\n            }}\n            style={{cursor: 'pointer', backgroundColor: \"#6fa241\"}}\n          >\n            Back\n          </Button> : null }\n          { !isPasswordReset ? <Button\n            type=\"button\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            // className={location.pathname.includes('password/reset') ? classes.resetPassRightBtn : classes.submit}\n            // className={isPasswordReset ? classes.resetPassRightBtn : classes.submit}\n            onClick={(e) => {\n              e.preventDefault();\n              history.push('profile/guest')\n            }}\n            style={{cursor: 'pointer', backgroundColor: \"#6fa241\"}}\n          >\n            Login as guest\n          </Button> : null }\n          <Grid container>\n            <Grid item xs>\n            <Link style={{cursor: 'pointer'}} variant=\"body2\" onClick={(e) => {\n              e.preventDefault();\n              setIsPasswordReset(!isPasswordReset)\n              }}>\n                {/* { location.pathname.includes('password/reset') ? null : \"Forgot password?\" } */}\n                { isPasswordReset ? null : \"Forgot password?\" }\n               </Link>\n            </Grid>\n            <Grid item>\n              <Link style={{cursor: 'pointer'}} variant=\"body2\" onClick={(e) => {\n                e.preventDefault();\n                setIsLoginPage(!isLoginPage)\n                }}>\n               {/* { location.pathname.includes('password/reset') ? null : \"Don't have an account? Sign Up\" } */}\n               { isPasswordReset ? null : \"Don't have an account? Sign Up\" }\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={21}>\n      </Box>\n    </Container>\n  );\n};\n\nexport default withRouter(Login);\n","import React, { useState, useContext } from \"react\";\nimport images from \"./../Home/earth.PNG\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport {\n  BASE_URL,\n  isErrorResponse,\n  exceptionStatus,\n} from \"../../../Constants/Constant\";\nimport ExceptionContext from \"../../../Providers/Context/ExceptionContext\";\nimport propTypes from \"prop-types\";\n\nconst Register = ({ isLoginPage, setIsLoginPage, history }) => {\n  const { setOpen } = useContext(ExceptionContext);\n  const [registrationPage, setRegistrationPage] = useState(0);\n  const [files, setFiles] = useState([]);\n  const pageNumberNames = [\n    \"firstName\",\n    \"lastName\",\n    \"userName\",\n    \"email\",\n    \"avatar\",\n    \"password\",\n    \"confirmPassword\",\n  ];\n\n  const [createUser, setCreateUser] = useState({\n    firstName: {\n      isValid: true,\n      isTouched: false,\n      value: \"\",\n    },\n    avatar: {\n      isValid: true,\n      isTouched: false,\n      value: [],\n    },\n    lastName: {\n      isValid: true,\n      isTouched: false,\n      value: \"\",\n    },\n    email: {\n      isValid: true,\n      isTouched: false,\n      value: \"\",\n    },\n    userName: {\n      isValid: true,\n      isTouched: false,\n      value: \"\",\n    },\n    password: {\n      isValid: true,\n      isTouched: false,\n      value: \"\",\n    },\n    confirmPassword: {\n      isValid: true,\n      isTouched: false,\n      value: \"\",\n    },\n  });\n  const useStyles = makeStyles((theme) => ({\n    notchedOutline: {\n      borderWidth: \"1px\",\n      borderColor: \"#6fa241 !important\"\n    },\n    paper: {\n      marginTop: theme.spacing(8),\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n      height: \"80px\",\n      width: \"80px\",\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n\n  const classes = useStyles();\n\n  const updateState = (prop, value) => {\n    setCreateUser({\n      ...createUser,\n      [prop]: {\n        isTouched: true,\n        value,\n        isValid: prop !== 'avatar' ? userValidation[prop].reduce(\n          (acc, validateFn) => acc && typeof validateFn(value) === \"boolean\",\n          true\n        ) : true,\n      },\n    });\n  };\n\n  const userValidation = {\n    firstName: [\n      (data) => data?.length > 0 || \"First name field is empty\",\n      (data) => !/[0-9]/.test(data) || \"First name can't include digit\",\n    ],\n    avatar: [\n      (data) => data.length || \"Please upload avatar !\",\n    ],\n    lastName: [\n      (data) => data?.length > 0 || \"Enter Last name\",\n      (data) => !/[0-9]/.test(data) || \"Last name can't include digit\",\n    ],\n    email: [\n      (data) =>\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\n          data\n        ) || \"Invalid email address\",\n    ],\n    userName: [\n      (data) =>\n        /^[a-zA-Z0-9]{6,16}$/.test(data) ||\n        \"User name must have 6 to 16 characters\",\n    ],\n    password: [\n      (data) =>\n        /^[a-zA-Z0-9]{6,16}$/.test(data) ||\n        \"Password must have 6 to 16 characters\",\n      (data) => /\\d/.test(data) || \"Password must contain minimum 1 digit\",\n      (data) =>\n        /[A-Z]/.test(data) ||\n        \"Password must contain minimum 1 upper case alphabet\",\n    ],\n    confirmPassword: [\n      (data) => createUser.password.value === data || \"Password not match\",\n    ],\n  };\n\n  const uploadFiles = (id) => {\n\n    const formData = new FormData();\n    if (!createUser.avatar.value.length) {\n      return;\n    }\n\n    formData.append('files', createUser.avatar.value[0]);\n\n    fetch(`${BASE_URL}/users/${id}/avatar`, {\n        method: 'POST',\n        headers: {\n            \"Authorization\": localStorage.getItem('token'),\n        },\n        body: formData\n    })\n    .then( r => r.json())\n    .then( resp => {\n        isErrorResponse(resp);\n        setOpen({\n          value: true,\n          msg: \"Successes registration!\",\n          statusType: exceptionStatus.success,\n        });\n        setIsLoginPage(!isLoginPage);\n    })\n    .catch( err => setOpen({ value: true, msg: err.message, statusType: exceptionStatus.error}))\n  }\n\n  const signInHandler = (e) => {\n    fetch(`${BASE_URL}/users`, {\n      method: \"POST\",\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        firstName: createUser.firstName.value,\n        lastName: createUser.lastName.value,\n        userName: createUser.userName.value,\n        email: createUser.email.value,\n        password: createUser.password.value,\n      }),\n    })\n     .then((r) => r.status >= 500 ? history.push('/servererror') : r.json())\n      .then((resp) => {\n        isErrorResponse(resp);\n        uploadFiles(resp.id);\n      })\n      .catch((err) =>\n        setOpen({\n          value: true,\n          msg: err.message,\n          statusType: exceptionStatus.error,\n        })\n      )\n  };\n\n  const isDisable = () => {\n    return !Object.values(createUser).reduce((acc, value) => {\n      return value.isTouched && value.isValid && acc ? true : false;\n    }, true);\n  };\n\n  const SingleDisable = (fieldName) => {\n    return createUser[fieldName].isValid && createUser[fieldName].isTouched\n      ? false\n      : true;\n  };\n\n  const renderError = (prop) => {\n    return createUser[prop].isTouched\n      ? userValidation[prop]\n          .map((fn) => fn(createUser[prop].value))\n          .filter((x) => typeof x === \"string\")\n          .map((err, index) => (\n            <p key={index} style={{ color: \"red\" }}>\n              {err}\n            </p>\n          ))\n      : null;\n  };\n\n  const registrationFields = [\n    <Grid item xs={12}>\n      <TextField\n        autoComplete=\"fname\"\n        name=\"firstName\"\n        variant=\"outlined\"\n        required\n        fullWidth\n        InputProps={{\n          classes: {\n            notchedOutline: classes.notchedOutline\n          }\n        }}\n        id=\"firstName\"\n        label=\"First Name\"\n        autoFocus\n        value={createUser.firstName.value}\n        error={!createUser.firstName.isValid}\n        onChange={(e) => updateState(\"firstName\", e.target.value.trim())}\n      />\n      {renderError(\"firstName\")}\n    </Grid>,\n    <Grid item xs={12}>\n      <TextField\n        variant=\"outlined\"\n        required\n        fullWidth\n        InputProps={{\n          classes: {\n            notchedOutline: classes.notchedOutline\n          }\n        }}\n        id=\"lastName\"\n        label=\"Last Name\"\n        name=\"lastName\"\n        autoComplete=\"lname\"\n        value={createUser.lastName.value}\n        error={!createUser.lastName.isValid}\n        onChange={(e) => updateState(\"lastName\", e.target.value.trim())}\n      />\n      {renderError(\"lastName\")}\n    </Grid>,\n    <Grid item xs={12}>\n      <TextField\n        variant=\"outlined\"\n        required\n        fullWidth\n        InputProps={{\n          classes: {\n            notchedOutline: classes.notchedOutline\n          }\n        }}\n        id=\"username\"\n        label=\"Username\"\n        name=\"username\"\n        autoComplete=\"username\"\n        value={createUser.userName.value}\n        error={!createUser.userName.isValid}\n        onChange={(e) => updateState(\"userName\", e.target.value.trim())}\n      />\n      {renderError(\"userName\")}\n    </Grid>,\n    <Grid item xs={12}>\n      <TextField\n        variant=\"outlined\"\n        required\n        fullWidth\n        InputProps={{\n          classes: {\n            notchedOutline: classes.notchedOutline\n          }\n        }}\n        id=\"email\"\n        label=\"Email Address\"\n        name=\"email\"\n        autoComplete=\"email\"\n        value={createUser.email.value}\n        error={!createUser.email.isValid}\n        onChange={(e) => updateState(\"email\", e.target.value.trim())}\n      />\n      {renderError(\"email\")}\n    </Grid>,\n    <Grid item xs={12}>\n    <input\n      accept=\"image/*\"\n      // className={classes.input}\n      style={{ display: \"none\" }}\n      id=\"raised-button-file\"\n      multiple\n      type=\"file\"\n      onChange={(e) => updateState('avatar', Array.from(e.target.files))}\n    />\n    <label htmlFor=\"raised-button-file\">\n      <Button\n        variant=\"outlined\"\n        component=\"span\"\n        fullWidth\n        className={classes.submit}\n      >\n        Upload Avatar\n      </Button>\n    </label>\n    {renderError(\"avatar\")}\n  </Grid>,\n    <React.Fragment>\n      <Grid item xs={12}>\n        <TextField\n          variant=\"outlined\"\n          required\n          fullWidth\n          InputProps={{\n            classes: {\n              notchedOutline: classes.notchedOutline\n            }\n          }}\n          name=\"password\"\n          label=\"Password\"\n          type=\"password\"\n          id=\"password\"\n          autoComplete=\"current-password\"\n          value={createUser.password.value}\n          error={!createUser.password.isValid}\n          onChange={(e) => updateState(\"password\", e.target.value.trim())}\n        />\n        {renderError(\"password\")}\n      </Grid>\n      <Grid item xs={12}>\n        <TextField\n          variant=\"outlined\"\n          required\n          fullWidth\n          InputProps={{\n            classes: {\n              notchedOutline: classes.notchedOutline\n            }\n          }}\n          name=\"Confirm password\"\n          label=\"Confirm password\"\n          type=\"password\"\n          id=\"confirm password\"\n          autoComplete=\"current-password\"\n          value={createUser.confirmPassword.value}\n          error={!createUser.confirmPassword.isValid}\n          onChange={(e) =>\n            updateState(\"confirmPassword\", e.target.value.trim())\n          }\n        />\n      </Grid>\n    </React.Fragment>,\n  ];\n\n  const toggleButtons =\n    registrationFields.length - 1 > registrationPage ? (\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6}>\n          <Button\n            type=\"button\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            style={{backgroundColor: '#6fa241'}}\n            onClick={(e) => {\n              e.preventDefault();\n              backHandler();\n            }}\n            disabled={registrationPage === 0}\n          >\n            Back\n          </Button>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Button\n            type=\"button\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            style={{backgroundColor: '#6fa241'}}\n            onClick={(e) => {\n              e.preventDefault();\n              nextHandler();\n            }}\n            disabled={SingleDisable(pageNumberNames[registrationPage])}\n          >\n            Next\n          </Button>\n        </Grid>\n      </Grid>\n    ) : (\n      <Grid item xs={12}>\n        <Button\n          type=\"button\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          style={{backgroundColor: '#6fa241'}}\n          className={classes.submit}\n          onClick={signInHandler}\n          disabled={isDisable()}\n        >\n          Sign Up\n        </Button>\n        <Button\n          type=\"button\"\n          fullWidth\n          variant=\"contained\"\n          color=\"primary\"\n          style={{backgroundColor: '#6fa241'}}\n          onClick={(e) => {\n            e.preventDefault();\n            backHandler();\n          }}\n        >\n          Back\n        </Button>\n      </Grid>\n    );\n\n  const nextHandler = () => {\n    setRegistrationPage(registrationPage + 1);\n  };\n  const backHandler = () => {\n    setRegistrationPage(registrationPage - 1);\n  };\n\n  return (\n    <Container\n      component=\"main\"\n      maxWidth=\"xs\"\n      style={{ backgroundImage: \"./book.jpg\" }}\n    >\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar\n          src={images}\n          className={classes.avatar}\n        >\n          {/* <LockOutlinedIcon /> */}\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} noValidate>\n          <Grid container spacing={2}>\n            {registrationFields[registrationPage]}\n          </Grid>\n          {toggleButtons}\n          <Grid container>\n            <Grid item xs></Grid>\n            <Grid item>\n              {isLoginPage ? null : (\n                <Link\n                  style={{ cursor: \"pointer\" }}\n                  variant=\"body2\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    setIsLoginPage(!isLoginPage);\n                  }}\n                >\n                  Already have an account?\n                </Link>\n              )}\n            </Grid>\n          </Grid>\n\n          {/* <Grid container justify=\"flex-end\">\n            <Grid item>\n              { props.location.pathname.includes('account/password') ? null : <Link href=\"/login\" variant=\"body2\">\n                Already have an account?\n              </Link>}\n            </Grid>\n          </Grid> */}\n        </form>\n      </div>\n      <Box mt={3}></Box>\n    </Container>\n  );\n};\n\nRegister.propTypes = {\n  isLoginPage: propTypes.bool.isRequired,\n  setIsLoginPage: propTypes.func.isRequired,\n};\n\nexport default Register;\n","import React, { useState } from \"react\";\nimport images from \"./img11.png\";\nimport \"./home.css\";\nimport \"./home1.css\";\nimport { Modal, makeStyles, Fade } from \"@material-ui/core\";\nimport Login from \"../Login/Login\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Register from \"../Register/Register\";\n\nconst Home = ({history}) => {\n  const useStyles = makeStyles((theme) => ({\n    modal: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    },\n    paper: {\n      backgroundColor: theme.palette.background.paper,\n      border: \"2px solid #000\",\n      boxShadow: theme.shadows[5],\n      padding: theme.spacing(2, 4, 3),\n    },\n    // warper: {\n    //   position: ''\n    // }\n  }));\n\n  const classes = useStyles();\n\n  const [openModal, setOpenModal] = useState(false);\n  const [isLoginPage, setIsLoginPage] = useState(true);\n\n  const phoneRinging = (\n    <div\n      className=\"phonering-alo-phone phonering-alo-green phonering-alo-show\"\n      id=\"phonering-alo-phoneIcon\"\n      //   onClick={(e) => (e.preventDefault(), setOpen(true))}\n    >\n      <div className=\"phonering-alo-ph-circle\"></div>\n      <div className=\"phonering-alo-ph-circle-fill\"></div>\n      <a\n        href=\"true\"\n        style={{ cursor: \"pointer\" }}\n        onClick={(e) => {\n          e.preventDefault();\n          setOpenModal(true);\n        }}\n        className=\"pps-btn-img\"\n        title=\"Sign in\"\n      >\n        <div className=\"phonering-alo-ph-img-circle\"></div>\n      </a>\n    </div>\n  );\n\n  return (\n    <div style={{textAlign: 'center'}}>\n      {localStorage.getItem('token') ? history.push(`/profile/${localStorage.getItem('lastBoard') ? localStorage.getItem('lastBoard') : 'my'}`) : null }\n      <img\n        src={images}\n        alt={\"home\"}\n        style={{ width: \"100%\", textAlign: \"center\" }}\n      />\n      {/* <button style={{\n        width: \"100%\",\n        minWidth: '50px',\n        maxWidth: '250px',\n        minHeight: '20px',\n        maxHeight: '100px',\n        backgroundImage: 'linear-gradient(#6fa241,#e7eb99)',\n        borderRadius: '5px',\n        top: '40%',\n        left: '40%',\n        right: '40%',\n        bottom: '40%',\n        position: 'absolute',\n        boxShadow: ''\n      }}>\n      </button> */}\n\n      <button class=\"learn-more\" onClick={(e) => {\n          e.preventDefault();\n          setOpenModal(true);\n        }}>Learn More\n        </button>\n\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        style={{color: \"darkblue\"}}\n        open={openModal}\n        onClose={(e) => setOpenModal(false)}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={openModal}>\n          <div className={classes.paper}>\n            {isLoginPage ? (\n              <Login\n                setIsLoginPage={setIsLoginPage}\n                isLoginPage={isLoginPage}\n              />\n            ) : (\n              <Register\n                setIsLoginPage={setIsLoginPage}\n                isLoginPage={isLoginPage}\n              />\n            )}\n          </div>\n        </Fade>\n      </Modal>\n      {/* <div style={{position: 'absolute', width: '100%', height: '100%', top: 0, left: 0, right: 0, bottom: 0}}>\n        {phoneRinging}\n      </div> */}\n      {/* <HomeTest /> */}\n    </div>\n  );\n};\nexport default Home;\n","import React, { useContext, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport LoginIcon from \"@material-ui/icons/Add\";\nimport propType from 'prop-types';\nimport {\n  ListItem,\n} from \"@material-ui/core\";\nimport AuthContext from \"../../../Providers/Context/AuthContext\";\nimport {\n  logOutHandler,\n} from \"../../../Constants/Constant\";\nimport \"react-chat-widget/lib/styles.css\";\nimport Test from \"./DrawingPage\";\nimport ColorPalette from './ColorPalette';\nimport DrawingPage from './DrawingPage';\n\nconst GuestUserHomePage = ({ history }) => {\n  const { user, setUser } = useContext(AuthContext);\n  const [shapes, setShapes] = useState([]);\n  const [comments, setComments] = useState([]);\n  const useStyles = makeStyles((theme) => ({\n    root: {\n      display: \"flex\",\n    },\n    toolbar: {\n      paddingRight: 24,\n    },\n    appBar: {\n      zIndex: theme.zIndex.drawer + 1,\n      transition: theme.transitions.create([\"width\", \"margin\"], {\n        easing: theme.transitions.easing.sharp,\n        duration: theme.transitions.duration.leavingScreen,\n      }),\n    },\n    menuButton: {\n      marginRight: 36,\n    },\n    title: {\n      flexGrow: 1,\n    },\n  }));\n\n  const classes = useStyles();\n\n  const [color, setColor] = useState(\"black\");\n\n  const [currentWhiteboard, setCurrentWhiteboard] = useState({\n    lines: [],\n    circles: [],\n    textBoxes: [],\n    rectangles: [],\n    name: 'My board',\n  });\n\n  return (\n    <div\n      className={classes.root}\n    >\n      <CssBaseline />\n      <AppBar position=\"absolute\" className={classes.appBar} style={{width: \"100%\", backgroundColor: \"#d4de23\"}}>\n        <Toolbar className={classes.toolbar}>\n          <ListItem style={{ justifyContent: \"center\" }} />\n          <span style={{ paddingRight: \"10px\", fontSize: \"18px\", fontFamily: \"monospace\"}}>{ user ? 'Logout' : 'Login' }</span>\n          <LoginIcon       // find correct icon !!!\n            style={{\n              cursor: \"pointer\",\n              boxShadow: \"3px 3px 1px darkgreen\",\n              border: \"1px solid #4d5842\",\n              borderRadius: \"3px\",\n              backgroundColor: \"#6fa241\"\n            }}\n            color=\"inherit\"\n            onClick={(e) => {\n              e.preventDefault();\n              user ? logOutHandler(setUser, history) : history.push('/home');\n            }}\n          />\n        </Toolbar>\n      </AppBar>\n      <DrawingPage\n      color={color}\n      currentWhiteboard={currentWhiteboard}\n      shapes={shapes}\n      setShapes={setShapes}\n      comments={comments}\n      setComments={setComments}\n      />\n      <ColorPalette color={color} setColor={setColor} />\n    </div>\n  );\n};\n\nGuestUserHomePage.propType = {\n  history: propType.object.isRequired,\n};\nexport default GuestUserHomePage;\n","import React from 'react';\nimport { Button, makeStyles } from '@material-ui/core';\n\nconst ServerError = ({history}) => {\n\n    const useStyles = makeStyles((theme) => ({\n        paper: {\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n        },\n      }));\n\n      const classes = useStyles();\n\n    return (\n    <div className={classes.paper}>\n        <img src={require('./500-internal-server-error.png')} alt='' />\n    <h4>Internal Server Error. Please contact the System Administrator.</h4>\n    <Button variant='contained' color='primary' style={{backgroundColor: '#6fa241'}} onClick={() => history.push(\"/home\")}>Go back home</Button>\n    </div>\n    )\n}\n\nexport default ServerError","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport NotFound from \"./Components/Page/NotFound/NotFound\";\nimport Loading from \"./Components/Page/Loading/Loading\";\nimport AuthContext, {\n  getToken,\n  getUser,\n} from \"./Providers/Context/AuthContext\";\nimport GuardedRouteAuth from \"./Providers/GuardedRoute/GuardedRouteAuth\";\nimport Exception from \"./Components/Base/Exception/Exception\";\nimport { exceptionStatus } from \"./Constants/Constant\";\nimport ExceptionContext from \"./Providers/Context/ExceptionContext\";\nimport LoadingContext from \"./Providers/Context/LoadingContext\";\nimport LoggedUserHomePage from './Components/Page/LoggedUserHome/LoggedUserHome';\nimport Home from './Components/Page/Home/Home';\nimport GuestUserHomePage from './Components/Page/LoggedUserHome/GuestUserHomePage';\nimport ServerError from './Components/Page/ServerError/ServerError';\n\nconst App = () => {\n  const [user, setUser] = useState(getUser(getToken()));\n  const [open, setOpen] = useState({\n    value: false,\n    msg: \"Please try again after a few seconds\",\n    statusCode: null,\n    statusType: exceptionStatus.error,\n  });\n  const [loading, setLoading] = useState(false);\n\n  return (\n    <BrowserRouter>\n      <LoadingContext.Provider value={{ loading, setLoading }}>\n        <AuthContext.Provider value={{ user, setUser }}>\n          <ExceptionContext.Provider value={{ open, setOpen }}>\n            <Exception />\n            <Switch>\n              <Redirect from=\"/\" exact to=\"/home\" />\n              <Route path=\"/home\" component={Home} />\n              <Route path=\"/profile/guest\" exact component={GuestUserHomePage} />\n              <Route path=\"/loading\" component={Loading} />\n              <GuardedRouteAuth\n                user={user}\n                path=\"/profile/:id\"\n                component={LoggedUserHomePage}\n              />\n              <Route path=\"/servererror\" component={ServerError} />\n              <Route path=\"*\" component={NotFound} />\n            </Switch>\n          </ExceptionContext.Provider>\n        </AuthContext.Provider>\n      </LoadingContext.Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}